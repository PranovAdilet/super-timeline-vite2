"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const J=require("react"),Xl=require("react-dom"),Wp=require("zustand"),R3=require("@remotion/player"),un=require("remotion"),Z=require("fabric");function Bp(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const w=Bp(J),Vp=Bp(Xl);var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function P3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yl={exports:{}},oo={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh;function O3(){if(Rh)return oo;Rh=1;var e=J,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,h){var p,v={},b=null,S=null;h!==void 0&&(b=""+h),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(S=f.ref);for(p in f)o.call(f,p)&&!a.hasOwnProperty(p)&&(v[p]=f[p]);if(u&&u.defaultProps)for(p in f=u.defaultProps,f)v[p]===void 0&&(v[p]=f[p]);return{$$typeof:t,type:u,key:b,ref:S,props:v,_owner:s.current}}return oo.Fragment=n,oo.jsx=l,oo.jsxs=l,oo}var so={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function M3(){return Ph||(Ph=1,process.env.NODE_ENV!=="production"&&function(){var e=J,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),T=Symbol.iterator,_="@@iterator";function C(I){if(I===null||typeof I!="object")return null;var W=T&&I[T]||I[_];return typeof W=="function"?W:null}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function R(I){{for(var W=arguments.length,K=new Array(W>1?W-1:0),le=1;le<W;le++)K[le-1]=arguments[le];O("error",I,K)}}function O(I,W,K){{var le=A.ReactDebugCurrentFrame,ke=le.getStackAddendum();ke!==""&&(W+="%s",K=K.concat([ke]));var Oe=K.map(function(Ee){return String(Ee)});Oe.unshift("Warning: "+W),Function.prototype.apply.call(console[I],console,Oe)}}var D=!1,j=!1,V=!1,F=!1,$=!1,G;G=Symbol.for("react.module.reference");function q(I){return!!(typeof I=="string"||typeof I=="function"||I===o||I===a||$||I===s||I===h||I===p||F||I===S||D||j||V||typeof I=="object"&&I!==null&&(I.$$typeof===b||I.$$typeof===v||I.$$typeof===l||I.$$typeof===u||I.$$typeof===f||I.$$typeof===G||I.getModuleId!==void 0))}function ee(I,W,K){var le=I.displayName;if(le)return le;var ke=W.displayName||W.name||"";return ke!==""?K+"("+ke+")":K}function Y(I){return I.displayName||"Context"}function te(I){if(I==null)return null;if(typeof I.tag=="number"&&R("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof I=="function")return I.displayName||I.name||null;if(typeof I=="string")return I;switch(I){case o:return"Fragment";case n:return"Portal";case a:return"Profiler";case s:return"StrictMode";case h:return"Suspense";case p:return"SuspenseList"}if(typeof I=="object")switch(I.$$typeof){case u:var W=I;return Y(W)+".Consumer";case l:var K=I;return Y(K._context)+".Provider";case f:return ee(I,I.render,"ForwardRef");case v:var le=I.displayName||null;return le!==null?le:te(I.type)||"Memo";case b:{var ke=I,Oe=ke._payload,Ee=ke._init;try{return te(Ee(Oe))}catch{return null}}}return null}var ie=Object.assign,Ie=0,oe,de,ne,xe,pe,De,bn;function Hn(){}Hn.__reactDisabledLog=!0;function pr(){{if(Ie===0){oe=console.log,de=console.info,ne=console.warn,xe=console.error,pe=console.group,De=console.groupCollapsed,bn=console.groupEnd;var I={configurable:!0,enumerable:!0,value:Hn,writable:!0};Object.defineProperties(console,{info:I,log:I,warn:I,error:I,group:I,groupCollapsed:I,groupEnd:I})}Ie++}}function rn(){{if(Ie--,Ie===0){var I={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:ie({},I,{value:oe}),info:ie({},I,{value:de}),warn:ie({},I,{value:ne}),error:ie({},I,{value:xe}),group:ie({},I,{value:pe}),groupCollapsed:ie({},I,{value:De}),groupEnd:ie({},I,{value:bn})})}Ie<0&&R("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var on=A.ReactCurrentDispatcher,Gt;function wt(I,W,K){{if(Gt===void 0)try{throw Error()}catch(ke){var le=ke.stack.trim().match(/\n( *(at )?)/);Gt=le&&le[1]||""}return`
`+Gt+I}}var Yt=!1,Un;{var Wn=typeof WeakMap=="function"?WeakMap:Map;Un=new Wn}function wn(I,W){if(!I||Yt)return"";{var K=Un.get(I);if(K!==void 0)return K}var le;Yt=!0;var ke=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Oe;Oe=on.current,on.current=null,pr();try{if(W){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(Je){le=Je}Reflect.construct(I,[],Ee)}else{try{Ee.call()}catch(Je){le=Je}I.call(Ee.prototype)}}else{try{throw Error()}catch(Je){le=Je}I()}}catch(Je){if(Je&&le&&typeof Je.stack=="string"){for(var be=Je.stack.split(`
`),it=le.stack.split(`
`),Ve=be.length-1,Ge=it.length-1;Ve>=1&&Ge>=0&&be[Ve]!==it[Ge];)Ge--;for(;Ve>=1&&Ge>=0;Ve--,Ge--)if(be[Ve]!==it[Ge]){if(Ve!==1||Ge!==1)do if(Ve--,Ge--,Ge<0||be[Ve]!==it[Ge]){var gt=`
`+be[Ve].replace(" at new "," at ");return I.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",I.displayName)),typeof I=="function"&&Un.set(I,gt),gt}while(Ve>=1&&Ge>=0);break}}}finally{Yt=!1,on.current=Oe,rn(),Error.prepareStackTrace=ke}var Xt=I?I.displayName||I.name:"",_n=Xt?wt(Xt):"";return typeof I=="function"&&Un.set(I,_n),_n}function xn(I,W,K){return wn(I,!1)}function xt(I){var W=I.prototype;return!!(W&&W.isReactComponent)}function sn(I,W,K){if(I==null)return"";if(typeof I=="function")return wn(I,xt(I));if(typeof I=="string")return wt(I);switch(I){case h:return wt("Suspense");case p:return wt("SuspenseList")}if(typeof I=="object")switch(I.$$typeof){case f:return xn(I.render);case v:return sn(I.type,W,K);case b:{var le=I,ke=le._payload,Oe=le._init;try{return sn(Oe(ke),W,K)}catch{}}}return""}var gr=Object.prototype.hasOwnProperty,Dt={},Pi=A.ReactDebugCurrentFrame;function Ur(I){if(I){var W=I._owner,K=sn(I.type,I._source,W?W.type:null);Pi.setExtraStackFrame(K)}else Pi.setExtraStackFrame(null)}function mr(I,W,K,le,ke){{var Oe=Function.call.bind(gr);for(var Ee in I)if(Oe(I,Ee)){var be=void 0;try{if(typeof I[Ee]!="function"){var it=Error((le||"React class")+": "+K+" type `"+Ee+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof I[Ee]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw it.name="Invariant Violation",it}be=I[Ee](W,Ee,le,K,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ve){be=Ve}be&&!(be instanceof Error)&&(Ur(ke),R("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",le||"React class",K,Ee,typeof be),Ur(null)),be instanceof Error&&!(be.message in Dt)&&(Dt[be.message]=!0,Ur(ke),R("Failed %s type: %s",K,be.message),Ur(null))}}}var St=Array.isArray;function Sn(I){return St(I)}function Wr(I){{var W=typeof Symbol=="function"&&Symbol.toStringTag,K=W&&I[Symbol.toStringTag]||I.constructor.name||"Object";return K}}function Pa(I){try{return Bn(I),!1}catch{return!0}}function Bn(I){return""+I}function jo(I){if(Pa(I))return R("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Wr(I)),Bn(I)}var Vn=A.ReactCurrentOwner,$n={key:!0,ref:!0,__self:!0,__source:!0},Br,Vr;function Oi(I){if(gr.call(I,"ref")){var W=Object.getOwnPropertyDescriptor(I,"ref").get;if(W&&W.isReactWarning)return!1}return I.ref!==void 0}function Mi(I){if(gr.call(I,"key")){var W=Object.getOwnPropertyDescriptor(I,"key").get;if(W&&W.isReactWarning)return!1}return I.key!==void 0}function Di(I,W){typeof I.ref=="string"&&Vn.current}function Li(I,W){{var K=function(){Br||(Br=!0,R("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",W))};K.isReactWarning=!0,Object.defineProperty(I,"key",{get:K,configurable:!0})}}function Ni(I,W){{var K=function(){Vr||(Vr=!0,R("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",W))};K.isReactWarning=!0,Object.defineProperty(I,"ref",{get:K,configurable:!0})}}var ji=function(I,W,K,le,ke,Oe,Ee){var be={$$typeof:t,type:I,key:W,ref:K,props:Ee,_owner:Oe};return be._store={},Object.defineProperty(be._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(be,"_self",{configurable:!1,enumerable:!1,writable:!1,value:le}),Object.defineProperty(be,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ke}),Object.freeze&&(Object.freeze(be.props),Object.freeze(be)),be};function Fi(I,W,K,le,ke){{var Oe,Ee={},be=null,it=null;K!==void 0&&(jo(K),be=""+K),Mi(W)&&(jo(W.key),be=""+W.key),Oi(W)&&(it=W.ref,Di(W,ke));for(Oe in W)gr.call(W,Oe)&&!$n.hasOwnProperty(Oe)&&(Ee[Oe]=W[Oe]);if(I&&I.defaultProps){var Ve=I.defaultProps;for(Oe in Ve)Ee[Oe]===void 0&&(Ee[Oe]=Ve[Oe])}if(be||it){var Ge=typeof I=="function"?I.displayName||I.name||"Unknown":I;be&&Li(Ee,Ge),it&&Ni(Ee,Ge)}return ji(I,be,it,ke,le,Vn.current,Ee)}}var zi=A.ReactCurrentOwner,Fo=A.ReactDebugCurrentFrame;function Gn(I){if(I){var W=I._owner,K=sn(I.type,I._source,W?W.type:null);Fo.setExtraStackFrame(K)}else Fo.setExtraStackFrame(null)}var $r;$r=!1;function Gr(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function zo(){{if(zi.current){var I=te(zi.current.type);if(I)return`

Check the render method of \``+I+"`."}return""}}function Oa(I){return""}var Ho={};function Ma(I){{var W=zo();if(!W){var K=typeof I=="string"?I:I.displayName||I.name;K&&(W=`

Check the top-level render call using <`+K+">.")}return W}}function Hi(I,W){{if(!I._store||I._store.validated||I.key!=null)return;I._store.validated=!0;var K=Ma(W);if(Ho[K])return;Ho[K]=!0;var le="";I&&I._owner&&I._owner!==zi.current&&(le=" It was passed a child from "+te(I._owner.type)+"."),Gn(I),R('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',K,le),Gn(null)}}function Uo(I,W){{if(typeof I!="object")return;if(Sn(I))for(var K=0;K<I.length;K++){var le=I[K];Gr(le)&&Hi(le,W)}else if(Gr(I))I._store&&(I._store.validated=!0);else if(I){var ke=C(I);if(typeof ke=="function"&&ke!==I.entries)for(var Oe=ke.call(I),Ee;!(Ee=Oe.next()).done;)Gr(Ee.value)&&Hi(Ee.value,W)}}}function Da(I){{var W=I.type;if(W==null||typeof W=="string")return;var K;if(typeof W=="function")K=W.propTypes;else if(typeof W=="object"&&(W.$$typeof===f||W.$$typeof===v))K=W.propTypes;else return;if(K){var le=te(W);mr(K,I.props,"prop",le,I)}else if(W.PropTypes!==void 0&&!$r){$r=!0;var ke=te(W);R("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ke||"Unknown")}typeof W.getDefaultProps=="function"&&!W.getDefaultProps.isReactClassApproved&&R("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function La(I){{for(var W=Object.keys(I.props),K=0;K<W.length;K++){var le=W[K];if(le!=="children"&&le!=="key"){Gn(I),R("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",le),Gn(null);break}}I.ref!==null&&(Gn(I),R("Invalid attribute `ref` supplied to `React.Fragment`."),Gn(null))}}var Yr={};function Wo(I,W,K,le,ke,Oe){{var Ee=q(I);if(!Ee){var be="";(I===void 0||typeof I=="object"&&I!==null&&Object.keys(I).length===0)&&(be+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var it=Oa();it?be+=it:be+=zo();var Ve;I===null?Ve="null":Sn(I)?Ve="array":I!==void 0&&I.$$typeof===t?(Ve="<"+(te(I.type)||"Unknown")+" />",be=" Did you accidentally export a JSX literal instead of a component?"):Ve=typeof I,R("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Ve,be)}var Ge=Fi(I,W,K,ke,Oe);if(Ge==null)return Ge;if(Ee){var gt=W.children;if(gt!==void 0)if(le)if(Sn(gt)){for(var Xt=0;Xt<gt.length;Xt++)Uo(gt[Xt],I);Object.freeze&&Object.freeze(gt)}else R("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Uo(gt,I)}if(gr.call(W,"key")){var _n=te(I),Je=Object.keys(W).filter(function(Ha){return Ha!=="key"}),Wi=Je.length>0?"{key: someKey, "+Je.join(": ..., ")+": ...}":"{key: someKey}";if(!Yr[_n+Wi]){var za=Je.length>0?"{"+Je.join(": ..., ")+": ...}":"{}";R(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Wi,_n,za,_n),Yr[_n+Wi]=!0}}return I===o?La(Ge):Da(Ge),Ge}}function Ui(I,W,K){return Wo(I,W,K,!0)}function Na(I,W,K){return Wo(I,W,K,!1)}var ja=Na,Fa=Ui;so.Fragment=o,so.jsx=ja,so.jsxs=Fa}()),so}process.env.NODE_ENV==="production"?yl.exports=O3():yl.exports=M3();var m=yl.exports;function Oh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $p(...e){return t=>{let n=!1;const o=e.map(s=>{const a=Oh(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<o.length;s++){const a=o[s];typeof a=="function"?a():Oh(e[s],null)}}}}function Be(...e){return w.useCallback($p(...e),e)}var Rr=w.forwardRef((e,t)=>{const{children:n,...o}=e,s=w.Children.toArray(n),a=s.find(D3);if(a){const l=a.props.children,u=s.map(f=>f===a?w.Children.count(l)>1?w.Children.only(null):w.isValidElement(l)?l.props.children:null:f);return m.jsx(bl,{...o,ref:t,children:w.isValidElement(l)?w.cloneElement(l,void 0,u):null})}return m.jsx(bl,{...o,ref:t,children:n})});Rr.displayName="Slot";var bl=w.forwardRef((e,t)=>{const{children:n,...o}=e;if(w.isValidElement(n)){const s=N3(n),a=L3(o,n.props);return n.type!==w.Fragment&&(a.ref=t?$p(t,s):s),w.cloneElement(n,a)}return w.Children.count(n)>1?w.Children.only(null):null});bl.displayName="SlotClone";var Gp=({children:e})=>m.jsx(m.Fragment,{children:e});function D3(e){return w.isValidElement(e)&&e.type===Gp}function L3(e,t){const n={...t};for(const o in t){const s=e[o],a=t[o];/^on[A-Z]/.test(o)?s&&a?n[o]=(...u)=>{a(...u),s(...u)}:s&&(n[o]=s):o==="style"?n[o]={...s,...a}:o==="className"&&(n[o]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function N3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Yp=Rr;function Xp(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Xp(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function Zp(){for(var e,t,n=0,o="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Xp(e))&&(o&&(o+=" "),o+=t);return o}const Mh=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Dh=Zp,j3=(e,t)=>n=>{var o;if(t?.variants==null)return Dh(e,n?.class,n?.className);const{variants:s,defaultVariants:a}=t,l=Object.keys(s).map(h=>{const p=n?.[h],v=a?.[h];if(p===null)return null;const b=Mh(p)||Mh(v);return s[h][b]}),u=n&&Object.entries(n).reduce((h,p)=>{let[v,b]=p;return b===void 0||(h[v]=b),h},{}),f=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((h,p)=>{let{class:v,className:b,...S}=p;return Object.entries(S).every(T=>{let[_,C]=T;return Array.isArray(C)?C.includes({...a,...u}[_]):{...a,...u}[_]===C})?[...h,v,b]:h},[]);return Dh(e,l,f,n?.class,n?.className)},Zl="-",F3=e=>{const t=H3(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:l=>{const u=l.split(Zl);return u[0]===""&&u.length!==1&&u.shift(),Kp(u,t)||z3(l)},getConflictingClassGroupIds:(l,u)=>{const f=n[l]||[];return u&&o[l]?[...f,...o[l]]:f}}},Kp=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],o=t.nextPart.get(n),s=o?Kp(e.slice(1),o):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Zl);return t.validators.find(({validator:l})=>l(a))?.classGroupId},Lh=/^\[(.+)\]$/,z3=e=>{if(Lh.test(e)){const t=Lh.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},H3=e=>{const{theme:t,prefix:n}=e,o={nextPart:new Map,validators:[]};return W3(Object.entries(e.classGroups),n).forEach(([a,l])=>{wl(l,o,a,t)}),o},wl=(e,t,n,o)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Nh(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(U3(s)){wl(s(o),t,n,o);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,l])=>{wl(l,Nh(t,a),n,o)})})},Nh=(e,t)=>{let n=e;return t.split(Zl).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n},U3=e=>e.isThemeGetter,W3=(e,t)=>t?e.map(([n,o])=>{const s=o.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,u])=>[t+l,u])):a);return[n,s]}):e,B3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,o=new Map;const s=(a,l)=>{n.set(a,l),t++,t>e&&(t=0,o=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=o.get(a))!==void 0)return s(a,l),l},set(a,l){n.has(a)?n.set(a,l):s(a,l)}}},qp="!",V3=e=>{const{separator:t,experimentalParseClassName:n}=e,o=t.length===1,s=t[0],a=t.length,l=u=>{const f=[];let h=0,p=0,v;for(let C=0;C<u.length;C++){let A=u[C];if(h===0){if(A===s&&(o||u.slice(C,C+a)===t)){f.push(u.slice(p,C)),p=C+a;continue}if(A==="/"){v=C;continue}}A==="["?h++:A==="]"&&h--}const b=f.length===0?u:u.substring(p),S=b.startsWith(qp),T=S?b.substring(1):b,_=v&&v>p?v-p:void 0;return{modifiers:f,hasImportantModifier:S,baseClassName:T,maybePostfixModifierPosition:_}};return n?u=>n({className:u,parseClassName:l}):l},$3=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(o=>{o[0]==="["?(t.push(...n.sort(),o),n=[]):n.push(o)}),t.push(...n.sort()),t},G3=e=>({cache:B3(e.cacheSize),parseClassName:V3(e),...F3(e)}),Y3=/\s+/,X3=(e,t)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:s}=t,a=[],l=e.trim().split(Y3);let u="";for(let f=l.length-1;f>=0;f-=1){const h=l[f],{modifiers:p,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:S}=n(h);let T=!!S,_=o(T?b.substring(0,S):b);if(!_){if(!T){u=h+(u.length>0?" "+u:u);continue}if(_=o(b),!_){u=h+(u.length>0?" "+u:u);continue}T=!1}const C=$3(p).join(":"),A=v?C+qp:C,R=A+_;if(a.includes(R))continue;a.push(R);const O=s(_,T);for(let D=0;D<O.length;++D){const j=O[D];a.push(A+j)}u=h+(u.length>0?" "+u:u)}return u};function Z3(){let e=0,t,n,o="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Jp(t))&&(o&&(o+=" "),o+=n);return o}const Jp=e=>{if(typeof e=="string")return e;let t,n="";for(let o=0;o<e.length;o++)e[o]&&(t=Jp(e[o]))&&(n&&(n+=" "),n+=t);return n};function K3(e,...t){let n,o,s,a=l;function l(f){const h=t.reduce((p,v)=>v(p),e());return n=G3(h),o=n.cache.get,s=n.cache.set,a=u,u(f)}function u(f){const h=o(f);if(h)return h;const p=X3(f,n);return s(f,p),p}return function(){return a(Z3.apply(null,arguments))}}const He=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Qp=/^\[(?:([a-z-]+):)?(.+)\]$/i,q3=/^\d+\/\d+$/,J3=new Set(["px","full","screen"]),Q3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mn=e=>hi(e)||J3.has(e)||q3.test(e),nr=e=>xi(e,"length",dS),hi=e=>!!e&&!Number.isNaN(Number(e)),qc=e=>xi(e,"number",hi),ao=e=>!!e&&Number.isInteger(Number(e)),iS=e=>e.endsWith("%")&&hi(e.slice(0,-1)),me=e=>Qp.test(e),rr=e=>Q3.test(e),oS=new Set(["length","size","percentage"]),sS=e=>xi(e,oS,e1),aS=e=>xi(e,"position",e1),cS=new Set(["image","url"]),lS=e=>xi(e,cS,hS),uS=e=>xi(e,"",fS),co=()=>!0,xi=(e,t,n)=>{const o=Qp.exec(e);return o?o[1]?typeof t=="string"?o[1]===t:t.has(o[1]):n(o[2]):!1},dS=e=>eS.test(e)&&!tS.test(e),e1=()=>!1,fS=e=>nS.test(e),hS=e=>rS.test(e),pS=()=>{const e=He("colors"),t=He("spacing"),n=He("blur"),o=He("brightness"),s=He("borderColor"),a=He("borderRadius"),l=He("borderSpacing"),u=He("borderWidth"),f=He("contrast"),h=He("grayscale"),p=He("hueRotate"),v=He("invert"),b=He("gap"),S=He("gradientColorStops"),T=He("gradientColorStopPositions"),_=He("inset"),C=He("margin"),A=He("opacity"),R=He("padding"),O=He("saturate"),D=He("scale"),j=He("sepia"),V=He("skew"),F=He("space"),$=He("translate"),G=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",me,t],Y=()=>[me,t],te=()=>["",Mn,nr],ie=()=>["auto",hi,me],Ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],oe=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],xe=()=>["","0",me],pe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],De=()=>[hi,me];return{cacheSize:500,separator:":",theme:{colors:[co],spacing:[Mn,nr],blur:["none","",rr,me],brightness:De(),borderColor:[e],borderRadius:["none","","full",rr,me],borderSpacing:Y(),borderWidth:te(),contrast:De(),grayscale:xe(),hueRotate:De(),invert:xe(),gap:Y(),gradientColorStops:[e],gradientColorStopPositions:[iS,nr],inset:ee(),margin:ee(),opacity:De(),padding:Y(),saturate:De(),scale:De(),sepia:xe(),skew:De(),space:Y(),translate:Y()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[rr]}],"break-after":[{"break-after":pe()}],"break-before":[{"break-before":pe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ie(),me]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ao,me]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:xe()}],shrink:[{shrink:xe()}],order:[{order:["first","last","none",ao,me]}],"grid-cols":[{"grid-cols":[co]}],"col-start-end":[{col:["auto",{span:["full",ao,me]},me]}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":[co]}],"row-start-end":[{row:["auto",{span:[ao,me]},me]}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,t]}],"min-w":[{"min-w":[me,t,"min","max","fit"]}],"max-w":[{"max-w":[me,t,"none","full","min","max","fit","prose",{screen:[rr]},rr]}],h:[{h:[me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",rr,nr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qc]}],"font-family":[{font:[co]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",hi,qc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mn,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mn,nr]}],"underline-offset":[{"underline-offset":["auto",Mn,me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ie(),aS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...oe(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:oe()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...oe()]}],"outline-offset":[{"outline-offset":[Mn,me]}],"outline-w":[{outline:[Mn,nr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[Mn,nr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",rr,uS]}],"shadow-color":[{shadow:[co]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",rr,me]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[v]}],saturate:[{saturate:[O]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[O]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:De()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:De()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[ao,me]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mn,nr,qc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gS=K3(pS);function ut(...e){return gS(Zp(e))}function mS(e,t={}){const{decimals:n=0,sizeType:o="normal"}=t,s=["Bytes","KB","MB","GB","TB"],a=["Bytes","KiB","MiB","GiB","TiB"];if(e===0)return"0 Byte";const l=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,l)).toFixed(n)} ${o==="accurate"?a[l]??"Bytest":s[l]??"Bytes"}`}const t1=j3("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ue=w.forwardRef(({className:e,variant:t,size:n,asChild:o=!1,...s},a)=>{const l=o?Rr:"button";return m.jsx(l,{className:ut(t1({variant:t,size:n,className:e})),ref:a,...s})});Ue.displayName="Button";function Kl(e,[t,n]){return Math.min(n,Math.max(t,e))}function Ce(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function fr(e,t=[]){let n=[];function o(a,l){const u=w.createContext(l),f=n.length;n=[...n,l];const h=v=>{const{scope:b,children:S,...T}=v,_=b?.[e]?.[f]||u,C=w.useMemo(()=>T,Object.values(T));return m.jsx(_.Provider,{value:C,children:S})};h.displayName=a+"Provider";function p(v,b){const S=b?.[e]?.[f]||u,T=w.useContext(S);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[h,p]}const s=()=>{const a=n.map(l=>w.createContext(l));return function(u){const f=u?.[e]||a;return w.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return s.scopeName=e,[o,vS(s,...t)]}function vS(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=o.reduce((u,{useScope:f,scopeName:h})=>{const v=f(a)[`__scope${h}`];return{...u,...v}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function dt(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>t.current?.(...n),[])}function oa({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,s]=yS({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:o,u=dt(n),f=w.useCallback(h=>{if(a){const v=typeof h=="function"?h(e):h;v!==e&&u(v)}else s(h)},[a,e,s,u]);return[l,f]}function yS({defaultProp:e,onChange:t}){const n=w.useState(e),[o]=n,s=w.useRef(o),a=dt(t);return w.useEffect(()=>{s.current!==o&&(a(o),s.current=o)},[o,s,a]),n}var n1=w.createContext(void 0),bS=e=>{const{dir:t,children:n}=e;return m.jsx(n1.Provider,{value:t,children:n})};function sa(e){const t=w.useContext(n1);return e||t||"ltr"}var wS=bS;function xS(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var or=globalThis?.document?w.useLayoutEffect:()=>{};function r1(e){const[t,n]=w.useState(void 0);return or(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,u;if("borderBoxSize"in a){const f=a.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,u=h.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),t}var SS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Fe=SS.reduce((e,t)=>{const n=w.forwardRef((o,s)=>{const{asChild:a,...l}=o,u=a?Rr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(u,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function _S(e,t){e&&Vp.flushSync(()=>e.dispatchEvent(t))}function i1(e){const t=e+"CollectionProvider",[n,o]=fr(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:T,children:_}=S,C=J.useRef(null),A=J.useRef(new Map).current;return m.jsx(s,{scope:T,itemMap:A,collectionRef:C,children:_})};l.displayName=t;const u=e+"CollectionSlot",f=J.forwardRef((S,T)=>{const{scope:_,children:C}=S,A=a(u,_),R=Be(T,A.collectionRef);return m.jsx(Rr,{ref:R,children:C})});f.displayName=u;const h=e+"CollectionItemSlot",p="data-radix-collection-item",v=J.forwardRef((S,T)=>{const{scope:_,children:C,...A}=S,R=J.useRef(null),O=Be(T,R),D=a(h,_);return J.useEffect(()=>(D.itemMap.set(R,{ref:R,...A}),()=>void D.itemMap.delete(R))),m.jsx(Rr,{[p]:"",ref:O,children:C})});v.displayName=h;function b(S){const T=a(e+"CollectionConsumer",S);return J.useCallback(()=>{const C=T.collectionRef.current;if(!C)return[];const A=Array.from(C.querySelectorAll(`[${p}]`));return Array.from(T.itemMap.values()).sort((D,j)=>A.indexOf(D.ref.current)-A.indexOf(j.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:f,ItemSlot:v},b,o]}var o1=["PageUp","PageDown"],s1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],a1={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Si="Slider",[xl,ES,TS]=i1(Si),[c1,RA]=fr(Si,[TS]),[CS,aa]=c1(Si),l1=w.forwardRef((e,t)=>{const{name:n,min:o=0,max:s=100,step:a=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:f=0,defaultValue:h=[o],value:p,onValueChange:v=()=>{},onValueCommit:b=()=>{},inverted:S=!1,form:T,..._}=e,C=w.useRef(new Set),A=w.useRef(0),O=l==="horizontal"?IS:AS,[D=[],j]=oa({prop:p,defaultProp:h,onChange:ee=>{[...C.current][A.current]?.focus(),v(ee)}}),V=w.useRef(D);function F(ee){const Y=MS(D,ee);q(ee,Y)}function $(ee){q(ee,A.current)}function G(){const ee=V.current[A.current];D[A.current]!==ee&&b(D)}function q(ee,Y,{commit:te}={commit:!1}){const ie=jS(a),Ie=FS(Math.round((ee-o)/a)*a+o,ie),oe=Kl(Ie,[o,s]);j((de=[])=>{const ne=PS(de,oe,Y);if(NS(ne,f*a)){A.current=ne.indexOf(oe);const xe=String(ne)!==String(de);return xe&&te&&b(ne),xe?ne:de}else return de})}return m.jsx(CS,{scope:e.__scopeSlider,name:n,disabled:u,min:o,max:s,valueIndexToChangeRef:A,thumbs:C.current,values:D,orientation:l,form:T,children:m.jsx(xl.Provider,{scope:e.__scopeSlider,children:m.jsx(xl.Slot,{scope:e.__scopeSlider,children:m.jsx(O,{"aria-disabled":u,"data-disabled":u?"":void 0,..._,ref:t,onPointerDown:Ce(_.onPointerDown,()=>{u||(V.current=D)}),min:o,max:s,inverted:S,onSlideStart:u?void 0:F,onSlideMove:u?void 0:$,onSlideEnd:u?void 0:G,onHomeKeyDown:()=>!u&&q(o,0,{commit:!0}),onEndKeyDown:()=>!u&&q(s,D.length-1,{commit:!0}),onStepKeyDown:({event:ee,direction:Y})=>{if(!u){const Ie=o1.includes(ee.key)||ee.shiftKey&&s1.includes(ee.key)?10:1,oe=A.current,de=D[oe],ne=a*Ie*Y;q(de+ne,oe,{commit:!0})}}})})})})});l1.displayName=Si;var[u1,d1]=c1(Si,{startEdge:"left",endEdge:"right",size:"width",direction:1}),IS=w.forwardRef((e,t)=>{const{min:n,max:o,dir:s,inverted:a,onSlideStart:l,onSlideMove:u,onSlideEnd:f,onStepKeyDown:h,...p}=e,[v,b]=w.useState(null),S=Be(t,O=>b(O)),T=w.useRef(void 0),_=sa(s),C=_==="ltr",A=C&&!a||!C&&a;function R(O){const D=T.current||v.getBoundingClientRect(),j=[0,D.width],F=ql(j,A?[n,o]:[o,n]);return T.current=D,F(O-D.left)}return m.jsx(u1,{scope:e.__scopeSlider,startEdge:A?"left":"right",endEdge:A?"right":"left",direction:A?1:-1,size:"width",children:m.jsx(f1,{dir:_,"data-orientation":"horizontal",...p,ref:S,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:O=>{const D=R(O.clientX);l?.(D)},onSlideMove:O=>{const D=R(O.clientX);u?.(D)},onSlideEnd:()=>{T.current=void 0,f?.()},onStepKeyDown:O=>{const j=a1[A?"from-left":"from-right"].includes(O.key);h?.({event:O,direction:j?-1:1})}})})}),AS=w.forwardRef((e,t)=>{const{min:n,max:o,inverted:s,onSlideStart:a,onSlideMove:l,onSlideEnd:u,onStepKeyDown:f,...h}=e,p=w.useRef(null),v=Be(t,p),b=w.useRef(void 0),S=!s;function T(_){const C=b.current||p.current.getBoundingClientRect(),A=[0,C.height],O=ql(A,S?[o,n]:[n,o]);return b.current=C,O(_-C.top)}return m.jsx(u1,{scope:e.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:m.jsx(f1,{"data-orientation":"vertical",...h,ref:v,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:_=>{const C=T(_.clientY);a?.(C)},onSlideMove:_=>{const C=T(_.clientY);l?.(C)},onSlideEnd:()=>{b.current=void 0,u?.()},onStepKeyDown:_=>{const A=a1[S?"from-bottom":"from-top"].includes(_.key);f?.({event:_,direction:A?-1:1})}})})}),f1=w.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:f,...h}=e,p=aa(Si,n);return m.jsx(Fe.span,{...h,ref:t,onKeyDown:Ce(e.onKeyDown,v=>{v.key==="Home"?(l(v),v.preventDefault()):v.key==="End"?(u(v),v.preventDefault()):o1.concat(s1).includes(v.key)&&(f(v),v.preventDefault())}),onPointerDown:Ce(e.onPointerDown,v=>{const b=v.target;b.setPointerCapture(v.pointerId),v.preventDefault(),p.thumbs.has(b)?b.focus():o(v)}),onPointerMove:Ce(e.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&s(v)}),onPointerUp:Ce(e.onPointerUp,v=>{const b=v.target;b.hasPointerCapture(v.pointerId)&&(b.releasePointerCapture(v.pointerId),a(v))})})}),h1="SliderTrack",p1=w.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,s=aa(h1,n);return m.jsx(Fe.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...o,ref:t})});p1.displayName=h1;var Sl="SliderRange",g1=w.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,s=aa(Sl,n),a=d1(Sl,n),l=w.useRef(null),u=Be(t,l),f=s.values.length,h=s.values.map(b=>v1(b,s.min,s.max)),p=f>1?Math.min(...h):0,v=100-Math.max(...h);return m.jsx(Fe.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...o,ref:u,style:{...e.style,[a.startEdge]:p+"%",[a.endEdge]:v+"%"}})});g1.displayName=Sl;var _l="SliderThumb",m1=w.forwardRef((e,t)=>{const n=ES(e.__scopeSlider),[o,s]=w.useState(null),a=Be(t,u=>s(u)),l=w.useMemo(()=>o?n().findIndex(u=>u.ref.current===o):-1,[n,o]);return m.jsx(kS,{...e,ref:a,index:l})}),kS=w.forwardRef((e,t)=>{const{__scopeSlider:n,index:o,name:s,...a}=e,l=aa(_l,n),u=d1(_l,n),[f,h]=w.useState(null),p=Be(t,R=>h(R)),v=f?l.form||!!f.closest("form"):!0,b=r1(f),S=l.values[o],T=S===void 0?0:v1(S,l.min,l.max),_=OS(o,l.values.length),C=b?.[u.size],A=C?DS(C,T,u.direction):0;return w.useEffect(()=>{if(f)return l.thumbs.add(f),()=>{l.thumbs.delete(f)}},[f,l.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${T}% + ${A}px)`},children:[m.jsx(xl.ItemSlot,{scope:e.__scopeSlider,children:m.jsx(Fe.span,{role:"slider","aria-label":e["aria-label"]||_,"aria-valuemin":l.min,"aria-valuenow":S,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...a,ref:p,style:S===void 0?{display:"none"}:e.style,onFocus:Ce(e.onFocus,()=>{l.valueIndexToChangeRef.current=o})})}),v&&m.jsx(RS,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:S},o)]})});m1.displayName=_l;var RS=e=>{const{value:t,...n}=e,o=w.useRef(null),s=xS(t);return w.useEffect(()=>{const a=o.current,l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==t&&f){const h=new Event("input",{bubbles:!0});f.call(a,t),a.dispatchEvent(h)}},[s,t]),m.jsx("input",{style:{display:"none"},...n,ref:o,defaultValue:t})};function PS(e=[],t,n){const o=[...e];return o[n]=t,o.sort((s,a)=>s-a)}function v1(e,t,n){const a=100/(n-t)*(e-t);return Kl(a,[0,100])}function OS(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function MS(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),o=Math.min(...n);return n.indexOf(o)}function DS(e,t,n){const o=e/2,a=ql([0,50],[0,o]);return(o-a(t)*n)*n}function LS(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function NS(e,t){if(t>0){const n=LS(e);return Math.min(...n)>=t}return!0}function ql(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function jS(e){return(String(e).split(".")[1]||"").length}function FS(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var y1=l1,zS=p1,HS=g1,US=m1;const b1=w.forwardRef(({className:e,...t},n)=>m.jsxs(y1,{ref:n,className:ut("relative flex w-full touch-none select-none items-center",e),...t,children:[m.jsx(zS,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:m.jsx(HS,{className:"absolute h-full bg-primary"})}),m.jsx(US,{className:"block h-4 w-4 cursor-pointer rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));b1.displayName=y1.displayName;function WS(e,t){return w.useReducer((n,o)=>t[n][o]??n,e)}var zn=e=>{const{present:t,children:n}=e,o=BS(t),s=typeof n=="function"?n({present:o.isPresent}):w.Children.only(n),a=Be(o.ref,VS(s));return typeof n=="function"||o.isPresent?w.cloneElement(s,{ref:a}):null};zn.displayName="Presence";function BS(e){const[t,n]=w.useState(),o=w.useRef({}),s=w.useRef(e),a=w.useRef("none"),l=e?"mounted":"unmounted",[u,f]=WS(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=ks(o.current);a.current=u==="mounted"?h:"none"},[u]),or(()=>{const h=o.current,p=s.current;if(p!==e){const b=a.current,S=ks(h);e?f("MOUNT"):S==="none"||h?.display==="none"?f("UNMOUNT"):f(p&&b!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,f]),or(()=>{if(t){let h;const p=t.ownerDocument.defaultView??window,v=S=>{const _=ks(o.current).includes(S.animationName);if(S.target===t&&_&&(f("ANIMATION_END"),!s.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",h=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},b=S=>{S.target===t&&(a.current=ks(o.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{p.clearTimeout(h),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:w.useCallback(h=>{h&&(o.current=getComputedStyle(h)),n(h)},[])}}function ks(e){return e?.animationName||"none"}function VS(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $S(e,t){return w.useReducer((n,o)=>t[n][o]??n,e)}var Jl="ScrollArea",[w1,PA]=fr(Jl),[GS,$t]=w1(Jl),x1=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:o="hover",dir:s,scrollHideDelay:a=600,...l}=e,[u,f]=w.useState(null),[h,p]=w.useState(null),[v,b]=w.useState(null),[S,T]=w.useState(null),[_,C]=w.useState(null),[A,R]=w.useState(0),[O,D]=w.useState(0),[j,V]=w.useState(!1),[F,$]=w.useState(!1),G=Be(t,ee=>f(ee)),q=sa(s);return m.jsx(GS,{scope:n,type:o,dir:q,scrollHideDelay:a,scrollArea:u,viewport:h,onViewportChange:p,content:v,onContentChange:b,scrollbarX:S,onScrollbarXChange:T,scrollbarXEnabled:j,onScrollbarXEnabledChange:V,scrollbarY:_,onScrollbarYChange:C,scrollbarYEnabled:F,onScrollbarYEnabledChange:$,onCornerWidthChange:R,onCornerHeightChange:D,children:m.jsx(Fe.div,{dir:q,...l,ref:G,style:{position:"relative","--radix-scroll-area-corner-width":A+"px","--radix-scroll-area-corner-height":O+"px",...e.style}})})});x1.displayName=Jl;var S1="ScrollAreaViewport",_1=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:o,nonce:s,...a}=e,l=$t(S1,n),u=w.useRef(null),f=Be(t,u,l.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),m.jsx(Fe.div,{"data-radix-scroll-area-viewport":"",...a,ref:f,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:m.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:o})})]})});_1.displayName=S1;var vn="ScrollAreaScrollbar",ca=w.forwardRef((e,t)=>{const{forceMount:n,...o}=e,s=$t(vn,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=s,u=e.orientation==="horizontal";return w.useEffect(()=>(u?a(!0):l(!0),()=>{u?a(!1):l(!1)}),[u,a,l]),s.type==="hover"?m.jsx(YS,{...o,ref:t,forceMount:n}):s.type==="scroll"?m.jsx(XS,{...o,ref:t,forceMount:n}):s.type==="auto"?m.jsx(E1,{...o,ref:t,forceMount:n}):s.type==="always"?m.jsx(Ql,{...o,ref:t}):null});ca.displayName=vn;var YS=w.forwardRef((e,t)=>{const{forceMount:n,...o}=e,s=$t(vn,e.__scopeScrollArea),[a,l]=w.useState(!1);return w.useEffect(()=>{const u=s.scrollArea;let f=0;if(u){const h=()=>{window.clearTimeout(f),l(!0)},p=()=>{f=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",p),()=>{window.clearTimeout(f),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",p)}}},[s.scrollArea,s.scrollHideDelay]),m.jsx(zn,{present:n||a,children:m.jsx(E1,{"data-state":a?"visible":"hidden",...o,ref:t})})}),XS=w.forwardRef((e,t)=>{const{forceMount:n,...o}=e,s=$t(vn,e.__scopeScrollArea),a=e.orientation==="horizontal",l=ua(()=>f("SCROLL_END"),100),[u,f]=$S("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(u==="idle"){const h=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[u,s.scrollHideDelay,f]),w.useEffect(()=>{const h=s.viewport,p=a?"scrollLeft":"scrollTop";if(h){let v=h[p];const b=()=>{const S=h[p];v!==S&&(f("SCROLL"),l()),v=S};return h.addEventListener("scroll",b),()=>h.removeEventListener("scroll",b)}},[s.viewport,a,f,l]),m.jsx(zn,{present:n||u!=="hidden",children:m.jsx(Ql,{"data-state":u==="hidden"?"hidden":"visible",...o,ref:t,onPointerEnter:Ce(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Ce(e.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),E1=w.forwardRef((e,t)=>{const n=$t(vn,e.__scopeScrollArea),{forceMount:o,...s}=e,[a,l]=w.useState(!1),u=e.orientation==="horizontal",f=ua(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?h:p)}},10);return mi(n.viewport,f),mi(n.content,f),m.jsx(zn,{present:o||a,children:m.jsx(Ql,{"data-state":a?"visible":"hidden",...s,ref:t})})}),Ql=w.forwardRef((e,t)=>{const{orientation:n="vertical",...o}=e,s=$t(vn,e.__scopeScrollArea),a=w.useRef(null),l=w.useRef(0),[u,f]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=A1(u.viewport,u.content),p={...o,sizes:u,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:b=>a.current=b,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:b=>l.current=b};function v(b,S){return e_(b,l.current,u,S)}return n==="horizontal"?m.jsx(ZS,{...p,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const b=s.viewport.scrollLeft,S=jh(b,u,s.dir);a.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:b=>{s.viewport&&(s.viewport.scrollLeft=b)},onDragScroll:b=>{s.viewport&&(s.viewport.scrollLeft=v(b,s.dir))}}):n==="vertical"?m.jsx(KS,{...p,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const b=s.viewport.scrollTop,S=jh(b,u);a.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:b=>{s.viewport&&(s.viewport.scrollTop=b)},onDragScroll:b=>{s.viewport&&(s.viewport.scrollTop=v(b))}}):null}),ZS=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:o,...s}=e,a=$t(vn,e.__scopeScrollArea),[l,u]=w.useState(),f=w.useRef(null),h=Be(t,f,a.onScrollbarXChange);return w.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),m.jsx(C1,{"data-orientation":"horizontal",...s,ref:h,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":la(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,v)=>{if(a.viewport){const b=a.viewport.scrollLeft+p.deltaX;e.onWheelScroll(b),R1(b,v)&&p.preventDefault()}},onResize:()=>{f.current&&a.viewport&&l&&o({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:Bs(l.paddingLeft),paddingEnd:Bs(l.paddingRight)}})}})}),KS=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:o,...s}=e,a=$t(vn,e.__scopeScrollArea),[l,u]=w.useState(),f=w.useRef(null),h=Be(t,f,a.onScrollbarYChange);return w.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),m.jsx(C1,{"data-orientation":"vertical",...s,ref:h,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":la(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,v)=>{if(a.viewport){const b=a.viewport.scrollTop+p.deltaY;e.onWheelScroll(b),R1(b,v)&&p.preventDefault()}},onResize:()=>{f.current&&a.viewport&&l&&o({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:Bs(l.paddingTop),paddingEnd:Bs(l.paddingBottom)}})}})}),[qS,T1]=w1(vn),C1=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:o,hasThumb:s,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:p,onResize:v,...b}=e,S=$t(vn,n),[T,_]=w.useState(null),C=Be(t,G=>_(G)),A=w.useRef(null),R=w.useRef(""),O=S.viewport,D=o.content-o.viewport,j=dt(p),V=dt(f),F=ua(v,10);function $(G){if(A.current){const q=G.clientX-A.current.left,ee=G.clientY-A.current.top;h({x:q,y:ee})}}return w.useEffect(()=>{const G=q=>{const ee=q.target;T?.contains(ee)&&j(q,D)};return document.addEventListener("wheel",G,{passive:!1}),()=>document.removeEventListener("wheel",G,{passive:!1})},[O,T,D,j]),w.useEffect(V,[o,V]),mi(T,F),mi(S.content,F),m.jsx(qS,{scope:n,scrollbar:T,hasThumb:s,onThumbChange:dt(a),onThumbPointerUp:dt(l),onThumbPositionChange:V,onThumbPointerDown:dt(u),children:m.jsx(Fe.div,{...b,ref:C,style:{position:"absolute",...b.style},onPointerDown:Ce(e.onPointerDown,G=>{G.button===0&&(G.target.setPointerCapture(G.pointerId),A.current=T.getBoundingClientRect(),R.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),$(G))}),onPointerMove:Ce(e.onPointerMove,$),onPointerUp:Ce(e.onPointerUp,G=>{const q=G.target;q.hasPointerCapture(G.pointerId)&&q.releasePointerCapture(G.pointerId),document.body.style.webkitUserSelect=R.current,S.viewport&&(S.viewport.style.scrollBehavior=""),A.current=null})})})}),Ws="ScrollAreaThumb",eu=w.forwardRef((e,t)=>{const{forceMount:n,...o}=e,s=T1(Ws,e.__scopeScrollArea);return m.jsx(zn,{present:n||s.hasThumb,children:m.jsx(JS,{ref:t,...o})})}),JS=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:o,...s}=e,a=$t(Ws,n),l=T1(Ws,n),{onThumbPositionChange:u}=l,f=Be(t,v=>l.onThumbChange(v)),h=w.useRef(void 0),p=ua(()=>{h.current&&(h.current(),h.current=void 0)},100);return w.useEffect(()=>{const v=a.viewport;if(v){const b=()=>{if(p(),!h.current){const S=t_(v,u);h.current=S,u()}};return u(),v.addEventListener("scroll",b),()=>v.removeEventListener("scroll",b)}},[a.viewport,p,u]),m.jsx(Fe.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:Ce(e.onPointerDownCapture,v=>{const S=v.target.getBoundingClientRect(),T=v.clientX-S.left,_=v.clientY-S.top;l.onThumbPointerDown({x:T,y:_})}),onPointerUp:Ce(e.onPointerUp,l.onThumbPointerUp)})});eu.displayName=Ws;var tu="ScrollAreaCorner",I1=w.forwardRef((e,t)=>{const n=$t(tu,e.__scopeScrollArea),o=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&o?m.jsx(QS,{...e,ref:t}):null});I1.displayName=tu;var QS=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...o}=e,s=$t(tu,n),[a,l]=w.useState(0),[u,f]=w.useState(0),h=!!(a&&u);return mi(s.scrollbarX,()=>{const p=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(p),f(p)}),mi(s.scrollbarY,()=>{const p=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(p),l(p)}),h?m.jsx(Fe.div,{...o,ref:t,style:{width:a,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Bs(e){return e?parseInt(e,10):0}function A1(e,t){const n=e/t;return isNaN(n)?0:n}function la(e){const t=A1(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=(e.scrollbar.size-n)*t;return Math.max(o,18)}function e_(e,t,n,o="ltr"){const s=la(n),a=s/2,l=t||a,u=s-l,f=n.scrollbar.paddingStart+l,h=n.scrollbar.size-n.scrollbar.paddingEnd-u,p=n.content-n.viewport,v=o==="ltr"?[0,p]:[p*-1,0];return k1([f,h],v)(e)}function jh(e,t,n="ltr"){const o=la(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,l=t.content-t.viewport,u=a-o,f=n==="ltr"?[0,l]:[l*-1,0],h=Kl(e,f);return k1([0,l],[0,u])(h)}function k1(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function R1(e,t){return e>0&&e<t}var t_=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},o=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},l=n.left!==a.left,u=n.top!==a.top;(l||u)&&t(),n=a,o=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(o)};function ua(e,t){const n=dt(e),o=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(o.current),[]),w.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(n,t)},[n,t])}function mi(e,t){const n=dt(t);or(()=>{let o=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(o),s.unobserve(e)}}},[e,n])}var Vs=x1,El=_1,Fh=ca,zh=eu,n_=I1;const Fr=w.forwardRef(({className:e,children:t,...n},o)=>m.jsxs(Vs,{ref:o,className:ut("relative overflow-hidden",e),...n,children:[m.jsx(El,{className:"h-full w-full rounded-[inherit]",children:t}),m.jsx(nu,{}),m.jsx(n_,{})]}));Fr.displayName=Vs.displayName;const nu=w.forwardRef(({className:e,orientation:t="vertical",...n},o)=>m.jsx(ca,{ref:o,orientation:t,className:ut("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:m.jsx(eu,{className:"relative flex-1 rounded-full bg-border"})}));nu.displayName=ca.displayName;const Ao=({children:e,renderCustomPreview:t,data:n={},shouldDisplayPreview:o=!0})=>{const[s,a]=J.useState(!1),[l,u]=J.useState({x:0,y:0}),f=J.useRef(null),h=S=>{a(!0),S.dataTransfer.setDragImage(new Image,0,0),S.dataTransfer.setData(JSON.stringify(n),JSON.stringify(n)),u({x:S.clientX,y:S.clientY})},p=()=>{a(!1)},v=S=>{s&&u({x:S.clientX,y:S.clientY})},b=J.cloneElement(e,{draggable:!0,onDragStart:h,onDragEnd:p,onDrag:v,style:{...e.props.style}});return m.jsxs(m.Fragment,{children:[b,s&&o&&t?Xl.createPortal(m.jsx("div",{ref:f,style:{position:"fixed",left:l.x,top:l.y,pointerEvents:"none",zIndex:9999,transform:"translate(-50%, -50%)"},children:t}),document.body):null]})};var r_=w.useId||(()=>{}),i_=0;function ru(e){const[t,n]=w.useState(r_());return or(()=>{n(o=>o??String(i_++))},[e]),t?`radix-${t}`:""}var Jc="rovingFocusGroup.onEntryFocus",o_={bubbles:!1,cancelable:!0},da="RovingFocusGroup",[Tl,P1,s_]=i1(da),[a_,O1]=fr(da,[s_]),[c_,l_]=a_(da),M1=w.forwardRef((e,t)=>m.jsx(Tl.Provider,{scope:e.__scopeRovingFocusGroup,children:m.jsx(Tl.Slot,{scope:e.__scopeRovingFocusGroup,children:m.jsx(u_,{...e,ref:t})})}));M1.displayName=da;var u_=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...v}=e,b=w.useRef(null),S=Be(t,b),T=sa(a),[_=null,C]=oa({prop:l,defaultProp:u,onChange:f}),[A,R]=w.useState(!1),O=dt(h),D=P1(n),j=w.useRef(!1),[V,F]=w.useState(0);return w.useEffect(()=>{const $=b.current;if($)return $.addEventListener(Jc,O),()=>$.removeEventListener(Jc,O)},[O]),m.jsx(c_,{scope:n,orientation:o,dir:T,loop:s,currentTabStopId:_,onItemFocus:w.useCallback($=>C($),[C]),onItemShiftTab:w.useCallback(()=>R(!0),[]),onFocusableItemAdd:w.useCallback(()=>F($=>$+1),[]),onFocusableItemRemove:w.useCallback(()=>F($=>$-1),[]),children:m.jsx(Fe.div,{tabIndex:A||V===0?-1:0,"data-orientation":o,...v,ref:S,style:{outline:"none",...e.style},onMouseDown:Ce(e.onMouseDown,()=>{j.current=!0}),onFocus:Ce(e.onFocus,$=>{const G=!j.current;if($.target===$.currentTarget&&G&&!A){const q=new CustomEvent(Jc,o_);if($.currentTarget.dispatchEvent(q),!q.defaultPrevented){const ee=D().filter(oe=>oe.focusable),Y=ee.find(oe=>oe.active),te=ee.find(oe=>oe.id===_),Ie=[Y,te,...ee].filter(Boolean).map(oe=>oe.ref.current);N1(Ie,p)}}j.current=!1}),onBlur:Ce(e.onBlur,()=>R(!1))})})}),D1="RovingFocusGroupItem",L1=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:s=!1,tabStopId:a,...l}=e,u=ru(),f=a||u,h=l_(D1,n),p=h.currentTabStopId===f,v=P1(n),{onFocusableItemAdd:b,onFocusableItemRemove:S}=h;return w.useEffect(()=>{if(o)return b(),()=>S()},[o,b,S]),m.jsx(Tl.ItemSlot,{scope:n,id:f,focusable:o,active:s,children:m.jsx(Fe.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:Ce(e.onMouseDown,T=>{o?h.onItemFocus(f):T.preventDefault()}),onFocus:Ce(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:Ce(e.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){h.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const _=h_(T,h.orientation,h.dir);if(_!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let A=v().filter(R=>R.focusable).map(R=>R.ref.current);if(_==="last")A.reverse();else if(_==="prev"||_==="next"){_==="prev"&&A.reverse();const R=A.indexOf(T.currentTarget);A=h.loop?p_(A,R+1):A.slice(R+1)}setTimeout(()=>N1(A))}})})})});L1.displayName=D1;var d_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function f_(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function h_(e,t,n){const o=f_(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return d_[o]}function N1(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function p_(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var g_=M1,m_=L1,iu="Tabs",[v_,OA]=fr(iu,[O1]),j1=O1(),[y_,ou]=v_(iu),F1=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,onValueChange:s,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:f="automatic",...h}=e,p=sa(u),[v,b]=oa({prop:o,onChange:s,defaultProp:a});return m.jsx(y_,{scope:n,baseId:ru(),value:v,onValueChange:b,orientation:l,dir:p,activationMode:f,children:m.jsx(Fe.div,{dir:p,"data-orientation":l,...h,ref:t})})});F1.displayName=iu;var z1="TabsList",H1=w.forwardRef((e,t)=>{const{__scopeTabs:n,loop:o=!0,...s}=e,a=ou(z1,n),l=j1(n);return m.jsx(g_,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:o,children:m.jsx(Fe.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});H1.displayName=z1;var U1="TabsTrigger",W1=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,disabled:s=!1,...a}=e,l=ou(U1,n),u=j1(n),f=$1(l.baseId,o),h=G1(l.baseId,o),p=o===l.value;return m.jsx(m_,{asChild:!0,...u,focusable:!s,active:p,children:m.jsx(Fe.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...a,ref:t,onMouseDown:Ce(e.onMouseDown,v=>{!s&&v.button===0&&v.ctrlKey===!1?l.onValueChange(o):v.preventDefault()}),onKeyDown:Ce(e.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&l.onValueChange(o)}),onFocus:Ce(e.onFocus,()=>{const v=l.activationMode!=="manual";!p&&!s&&v&&l.onValueChange(o)})})})});W1.displayName=U1;var B1="TabsContent",V1=w.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,forceMount:s,children:a,...l}=e,u=ou(B1,n),f=$1(u.baseId,o),h=G1(u.baseId,o),p=o===u.value,v=w.useRef(p);return w.useEffect(()=>{const b=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(b)},[]),m.jsx(zn,{present:s||p,children:({present:b})=>m.jsx(Fe.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!b,id:h,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0},children:b&&a})})});V1.displayName=B1;function $1(e,t){return`${e}-trigger-${t}`}function G1(e,t){return`${e}-content-${t}`}var b_=F1,Y1=H1,X1=W1,Z1=V1;const K1=b_,su=w.forwardRef(({className:e,...t},n)=>m.jsx(Y1,{ref:n,className:ut("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));su.displayName=Y1.displayName;const $s=w.forwardRef(({className:e,...t},n)=>m.jsx(X1,{ref:n,className:ut("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));$s.displayName=X1.displayName;const Gs=w.forwardRef(({className:e,...t},n)=>m.jsx(Z1,{ref:n,className:ut("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Gs.displayName=Z1.displayName;const w_="add",x_="track",S_="trackItems",__="track:changed",E_="trackItems:changed",T_="state",C_="state:changed",q1="add",au="add:text",_i="add:video",Ei="add:audio",I_="add:placeholder",Ti="add:image",A_="add:mask",k_="add:transition",R_="add:animation",P_="edit",O_="edit:object",M_="edit:text",D_="edit:shape",L_="enterEditMode",J1="player",cu="player:play",lu="player:pause",Q1="player:seek",N_="player:seekTo",eg="player:seekBy",tg="player:togglePlay",ng="active",j_="active:set",uu="active:delete",F_="active:paste",du="active:clone",fu="active:split",rg="layer",z_="layer:locked",H_="layer:hidden",U_="layer:move",W_="layer:select",hu="layer:selection",B_="layer:sendTo",V_="layer:rename",$_="layer:editingName",G_="layer:copy",Y_="layer:paste",X_="layer:clone",Z_="layer:split",K_="layer:cut",q_="layer:delete",ig="history",pu="history:undo",gu="history:redo",J_="history:reset",og="scale",mu="scale:changed",sg="drag",vu="drag:start",mo="drag:end",ag="timeline",yu="timeline:boundingChanged",Q_="design:load",e4="design",cg="scene",bu="scene:resize",lg="scene:load";var Cl=function(e,t){return Cl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},Cl(e,t)};function Ci(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Cl(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var fn=function(){return fn=Object.assign||function(t){for(var n,o=1,s=arguments.length;o<s;o++){n=arguments[o];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},fn.apply(this,arguments)};function ug(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(n[o[s]]=e[o[s]]);return n}function Il(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Al(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var o=n.call(e),s,a=[],l;try{for(;(t===void 0||t-- >0)&&!(s=o.next()).done;)a.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(l)throw l.error}}return a}function Ys(e,t,n){if(n||arguments.length===2)for(var o=0,s=t.length,a;o<s;o++)(a||!(o in t))&&(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))}function hn(e){return typeof e=="function"}function dg(e){var t=function(o){Error.call(o),o.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Qc=dg(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(o,s){return s+1+") "+o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function kl(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var fa=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,o,s,a;if(!this.closed){this.closed=!0;var l=this._parentage;if(l)if(this._parentage=null,Array.isArray(l))try{for(var u=Il(l),f=u.next();!f.done;f=u.next()){var h=f.value;h.remove(this)}}catch(_){t={error:_}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}else l.remove(this);var p=this.initialTeardown;if(hn(p))try{p()}catch(_){a=_ instanceof Qc?_.errors:[_]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var b=Il(v),S=b.next();!S.done;S=b.next()){var T=S.value;try{Hh(T)}catch(_){a=a??[],_ instanceof Qc?a=Ys(Ys([],Al(a)),Al(_.errors)):a.push(_)}}}catch(_){o={error:_}}finally{try{S&&!S.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}}if(a)throw new Qc(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Hh(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&kl(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&kl(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),fg=fa.EMPTY;function hg(e){return e instanceof fa||e&&"closed"in e&&hn(e.remove)&&hn(e.add)&&hn(e.unsubscribe)}function Hh(e){hn(e)?e():e.unsubscribe()}var t4={Promise:void 0},n4={setTimeout:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return setTimeout.apply(void 0,Ys([e,t],Al(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function r4(e){n4.setTimeout(function(){throw e})}function Uh(){}function js(e){e()}var wu=function(e){Ci(t,e);function t(n){var o=e.call(this)||this;return o.isStopped=!1,n?(o.destination=n,hg(n)&&n.add(o)):o.destination=s4,o}return t.create=function(n,o,s){return new Rl(n,o,s)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(fa),i4=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(o){Rs(o)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(o){Rs(o)}else Rs(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Rs(n)}},e}(),Rl=function(e){Ci(t,e);function t(n,o,s){var a=e.call(this)||this,l;return hn(n)||!n?l={next:n??void 0,error:o??void 0,complete:s??void 0}:l=n,a.destination=new i4(l),a}return t}(wu);function Rs(e){r4(e)}function o4(e){throw e}var s4={closed:!0,next:Uh,error:o4,complete:Uh},a4=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function c4(e){return e}function l4(e){return e.length===0?c4:e.length===1?e[0]:function(n){return e.reduce(function(o,s){return s(o)},n)}}var Wh=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,o){var s=this,a=d4(t)?t:new Rl(t,n,o);return js(function(){var l=s,u=l.operator,f=l.source;a.add(u?u.call(a,f):f?s._subscribe(a):s._trySubscribe(a))}),a},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var o=this;return n=Bh(n),new n(function(s,a){var l=new Rl({next:function(u){try{t(u)}catch(f){a(f),l.unsubscribe()}},error:a,complete:s});o.subscribe(l)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[a4]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return l4(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Bh(t),new t(function(o,s){var a;n.subscribe(function(l){return a=l},function(l){return s(l)},function(){return o(a)})})},e.create=function(t){return new e(t)},e}();function Bh(e){var t;return(t=e??t4.Promise)!==null&&t!==void 0?t:Promise}function u4(e){return e&&hn(e.next)&&hn(e.error)&&hn(e.complete)}function d4(e){return e&&e instanceof wu||u4(e)&&hg(e)}function f4(e){return hn(e?.lift)}function h4(e){return function(t){if(f4(t))return t.lift(function(n){try{return e(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function p4(e,t,n,o,s){return new g4(e,t,n,o,s)}var g4=function(e){Ci(t,e);function t(n,o,s,a,l,u){var f=e.call(this,n)||this;return f.onFinalize=l,f.shouldUnsubscribe=u,f._next=o?function(h){try{o(h)}catch(p){n.error(p)}}:e.prototype._next,f._error=a?function(h){try{a(h)}catch(p){n.error(p)}finally{this.unsubscribe()}}:e.prototype._error,f._complete=s?function(){try{s()}catch(h){n.error(h)}finally{this.unsubscribe()}}:e.prototype._complete,f}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var o=this.closed;e.prototype.unsubscribe.call(this),!o&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(wu),m4=dg(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),xu=function(e){Ci(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var o=new Vh(this,this);return o.operator=n,o},t.prototype._throwIfClosed=function(){if(this.closed)throw new m4},t.prototype.next=function(n){var o=this;js(function(){var s,a;if(o._throwIfClosed(),!o.isStopped){o.currentObservers||(o.currentObservers=Array.from(o.observers));try{for(var l=Il(o.currentObservers),u=l.next();!u.done;u=l.next()){var f=u.value;f.next(n)}}catch(h){s={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}}})},t.prototype.error=function(n){var o=this;js(function(){if(o._throwIfClosed(),!o.isStopped){o.hasError=o.isStopped=!0,o.thrownError=n;for(var s=o.observers;s.length;)s.shift().error(n)}})},t.prototype.complete=function(){var n=this;js(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var o=n.observers;o.length;)o.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var o=this,s=this,a=s.hasError,l=s.isStopped,u=s.observers;return a||l?fg:(this.currentObservers=null,u.push(n),new fa(function(){o.currentObservers=null,kl(u,n)}))},t.prototype._checkFinalizedStatuses=function(n){var o=this,s=o.hasError,a=o.thrownError,l=o.isStopped;s?n.error(a):l&&n.complete()},t.prototype.asObservable=function(){var n=new Wh;return n.source=this,n},t.create=function(n,o){return new Vh(n,o)},t}(Wh),Vh=function(e){Ci(t,e);function t(n,o){var s=e.call(this)||this;return s.destination=n,s.source=o,s}return t.prototype.next=function(n){var o,s;(s=(o=this.destination)===null||o===void 0?void 0:o.next)===null||s===void 0||s.call(o,n)},t.prototype.error=function(n){var o,s;(s=(o=this.destination)===null||o===void 0?void 0:o.error)===null||s===void 0||s.call(o,n)},t.prototype.complete=function(){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||o===void 0||o.call(n)},t.prototype._subscribe=function(n){var o,s;return(s=(o=this.source)===null||o===void 0?void 0:o.subscribe(n))!==null&&s!==void 0?s:fg},t}(xu),$h=function(e){Ci(t,e);function t(n){var o=e.call(this)||this;return o._value=n,o}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var o=e.prototype._subscribe.call(this,n);return!o.closed&&n.next(this._value),o},t.prototype.getValue=function(){var n=this,o=n.hasError,s=n.thrownError,a=n._value;if(o)throw s;return this._throwIfClosed(),a},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(xu);function Dn(e,t){return h4(function(n,o){var s=0;n.subscribe(p4(o,function(a){return e.call(t,a,s++)&&o.next(a)}))})}const pg=new xu,v4=(e,t)=>{pg.next({key:e,value:t})},we={subject:pg,dispatch:v4},at=[];for(let e=0;e<256;++e)at.push((e+256).toString(16).slice(1));function y4(e,t=0){return(at[e[t+0]]+at[e[t+1]]+at[e[t+2]]+at[e[t+3]]+"-"+at[e[t+4]]+at[e[t+5]]+"-"+at[e[t+6]]+at[e[t+7]]+"-"+at[e[t+8]]+at[e[t+9]]+"-"+at[e[t+10]]+at[e[t+11]]+at[e[t+12]]+at[e[t+13]]+at[e[t+14]]+at[e[t+15]]).toLowerCase()}let el;const b4=new Uint8Array(16);function w4(){if(!el){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");el=crypto.getRandomValues.bind(crypto)}return el(b4)}const x4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Gh={randomUUID:x4};function nt(e,t,n){if(Gh.randomUUID&&!e)return Gh.randomUUID();e=e||{};const o=e.random??e.rng?.()??w4();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,y4(o)}var gg=(e=>(e.IMAGE="image",e.VIDEO="video",e.AUDIO="audio",e))(gg||{});const S4=e=>{const[t,n]=J.useState(!1),[o,s]=J.useState(!1),a=J.useCallback(p=>{const v={...p,id:nt()};switch(p.type){case"image":we.dispatch(Ti,{payload:v});break;case"video":we.dispatch(_i,{payload:v});break;case"audio":we.dispatch(Ei,{payload:v});break}},[]),l=J.useCallback(p=>{p.preventDefault();try{const v=p.dataTransfer?.types[0],b=JSON.parse(v);if(!Object.values(gg).includes(b.type))return;s(!0),n(!0),e?.(!0)}catch(v){console.error("Error parsing dragged data:",v)}},[e]),u=J.useCallback(p=>{p.preventDefault(),t&&(s(!0),e?.(!0))},[t,e]),f=J.useCallback(p=>{if(o){p.preventDefault(),s(!1),e?.(!1);try{const v=p.dataTransfer?.types[0],b=JSON.parse(p.dataTransfer.getData(v));a(b)}catch(v){console.error("Error parsing dropped data:",v)}}},[o,e,a]),h=J.useCallback(p=>{p.preventDefault(),p.currentTarget.contains(p.relatedTarget)||(s(!1),n(!1),e?.(!1))},[e]);return{onDragEnter:l,onDragOver:u,onDrop:f,onDragLeave:h,isDraggingOver:o}},mg=({children:e,className:t,style:n,onDragStateChange:o,id:s})=>{const{onDragEnter:a,onDragOver:l,onDrop:u,onDragLeave:f}=S4(o);return m.jsx("div",{id:s,onDragEnter:a,onDrop:u,onDragOver:l,onDragLeave:f,className:t,style:n,role:"region","aria-label":"Droppable area for images, videos, and audio",children:e})};var _4="VisuallyHidden",vg=w.forwardRef((e,t)=>m.jsx(Fe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));vg.displayName=_4;var E4=vg;function T4(e,t=globalThis?.document){const n=dt(e);w.useEffect(()=>{const o=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[n,t])}var C4="DismissableLayer",Pl="dismissableLayer.update",I4="dismissableLayer.pointerDownOutside",A4="dismissableLayer.focusOutside",Yh,yg=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Su=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...f}=e,h=w.useContext(yg),[p,v]=w.useState(null),b=p?.ownerDocument??globalThis?.document,[,S]=w.useState({}),T=Be(t,F=>v(F)),_=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),A=_.indexOf(C),R=p?_.indexOf(p):-1,O=h.layersWithOutsidePointerEventsDisabled.size>0,D=R>=A,j=P4(F=>{const $=F.target,G=[...h.branches].some(q=>q.contains($));!D||G||(s?.(F),l?.(F),F.defaultPrevented||u?.())},b),V=O4(F=>{const $=F.target;[...h.branches].some(q=>q.contains($))||(a?.(F),l?.(F),F.defaultPrevented||u?.())},b);return T4(F=>{R===h.layers.size-1&&(o?.(F),!F.defaultPrevented&&u&&(F.preventDefault(),u()))},b),w.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Yh=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Xh(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Yh)}},[p,b,n,h]),w.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Xh())},[p,h]),w.useEffect(()=>{const F=()=>S({});return document.addEventListener(Pl,F),()=>document.removeEventListener(Pl,F)},[]),m.jsx(Fe.div,{...f,ref:T,style:{pointerEvents:O?D?"auto":"none":void 0,...e.style},onFocusCapture:Ce(e.onFocusCapture,V.onFocusCapture),onBlurCapture:Ce(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Ce(e.onPointerDownCapture,j.onPointerDownCapture)})});Su.displayName=C4;var k4="DismissableLayerBranch",R4=w.forwardRef((e,t)=>{const n=w.useContext(yg),o=w.useRef(null),s=Be(t,o);return w.useEffect(()=>{const a=o.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),m.jsx(Fe.div,{...e,ref:s})});R4.displayName=k4;function P4(e,t=globalThis?.document){const n=dt(e),o=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const a=u=>{if(u.target&&!o.current){let f=function(){bg(I4,n,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=f,t.addEventListener("click",s.current,{once:!0})):f()}else t.removeEventListener("click",s.current);o.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function O4(e,t=globalThis?.document){const n=dt(e),o=w.useRef(!1);return w.useEffect(()=>{const s=a=>{a.target&&!o.current&&bg(A4,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Xh(){const e=new CustomEvent(Pl);document.dispatchEvent(e)}function bg(e,t,n,{discrete:o}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),o?_S(s,a):s.dispatchEvent(a)}var tl="focusScope.autoFocusOnMount",nl="focusScope.autoFocusOnUnmount",Zh={bubbles:!1,cancelable:!0},M4="FocusScope",wg=w.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=e,[u,f]=w.useState(null),h=dt(s),p=dt(a),v=w.useRef(null),b=Be(t,_=>f(_)),S=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(o){let _=function(O){if(S.paused||!u)return;const D=O.target;u.contains(D)?v.current=D:ir(v.current,{select:!0})},C=function(O){if(S.paused||!u)return;const D=O.relatedTarget;D!==null&&(u.contains(D)||ir(v.current,{select:!0}))},A=function(O){if(document.activeElement===document.body)for(const j of O)j.removedNodes.length>0&&ir(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",C);const R=new MutationObserver(A);return u&&R.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",C),R.disconnect()}}},[o,u,S.paused]),w.useEffect(()=>{if(u){qh.add(S);const _=document.activeElement;if(!u.contains(_)){const A=new CustomEvent(tl,Zh);u.addEventListener(tl,h),u.dispatchEvent(A),A.defaultPrevented||(D4(z4(xg(u)),{select:!0}),document.activeElement===_&&ir(u))}return()=>{u.removeEventListener(tl,h),setTimeout(()=>{const A=new CustomEvent(nl,Zh);u.addEventListener(nl,p),u.dispatchEvent(A),A.defaultPrevented||ir(_??document.body,{select:!0}),u.removeEventListener(nl,p),qh.remove(S)},0)}}},[u,h,p,S]);const T=w.useCallback(_=>{if(!n&&!o||S.paused)return;const C=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,A=document.activeElement;if(C&&A){const R=_.currentTarget,[O,D]=L4(R);O&&D?!_.shiftKey&&A===D?(_.preventDefault(),n&&ir(O,{select:!0})):_.shiftKey&&A===O&&(_.preventDefault(),n&&ir(D,{select:!0})):A===R&&_.preventDefault()}},[n,o,S.paused]);return m.jsx(Fe.div,{tabIndex:-1,...l,ref:b,onKeyDown:T})});wg.displayName=M4;function D4(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(ir(o,{select:t}),document.activeElement!==n)return}function L4(e){const t=xg(e),n=Kh(t,e),o=Kh(t.reverse(),e);return[n,o]}function xg(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const s=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||s?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kh(e,t){for(const n of e)if(!N4(n,{upTo:t}))return n}function N4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function j4(e){return e instanceof HTMLInputElement&&"select"in e}function ir(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&j4(e)&&t&&e.select()}}var qh=F4();function F4(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Jh(e,t),e.unshift(t)},remove(t){e=Jh(e,t),e[0]?.resume()}}}function Jh(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function z4(e){return e.filter(t=>t.tagName!=="A")}var H4="Portal",Sg=w.forwardRef((e,t)=>{const{container:n,...o}=e,[s,a]=w.useState(!1);or(()=>a(!0),[]);const l=n||s&&globalThis?.document?.body;return l?Xl.createPortal(m.jsx(Fe.div,{...o,ref:t}),l):null});Sg.displayName=H4;var rl=0;function U4(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qh()),document.body.insertAdjacentElement("beforeend",e[1]??Qh()),rl++,()=>{rl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rl--}},[])}function Qh(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fs="right-scroll-bar-position",zs="width-before-scroll-bar",W4="with-scroll-bars-hidden",B4="--removed-body-scroll-bar-size";function il(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function V4(e,t){var n=J.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(o){var s=n.value;s!==o&&(n.value=o,n.callback(o,s))}}}})[0];return n.callback=t,n.facade}var $4=typeof window<"u"?w.useLayoutEffect:w.useEffect,ep=new WeakMap;function G4(e,t){var n=V4(null,function(o){return e.forEach(function(s){return il(s,o)})});return $4(function(){var o=ep.get(n);if(o){var s=new Set(o),a=new Set(e),l=n.current;s.forEach(function(u){a.has(u)||il(u,null)}),a.forEach(function(u){s.has(u)||il(u,l)})}ep.set(n,e)},[e]),n}function Y4(e){return e}function X4(e,t){t===void 0&&(t=Y4);var n=[],o=!1,s={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var l=t(a,o);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(o=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){o=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(a),l=n}var f=function(){var p=l;l=[],p.forEach(a)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return s}function Z4(e){e===void 0&&(e={});var t=X4(null);return t.options=fn({async:!0,ssr:!1},e),t}var _g=function(e){var t=e.sideCar,n=ug(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return w.createElement(o,fn({},n))};_g.isSideCarExport=!0;function K4(e,t){return e.useMedium(t),_g}var Eg=Z4(),ol=function(){},ha=w.forwardRef(function(e,t){var n=w.useRef(null),o=w.useState({onScrollCapture:ol,onWheelCapture:ol,onTouchMoveCapture:ol}),s=o[0],a=o[1],l=e.forwardProps,u=e.children,f=e.className,h=e.removeScrollBar,p=e.enabled,v=e.shards,b=e.sideCar,S=e.noIsolation,T=e.inert,_=e.allowPinchZoom,C=e.as,A=C===void 0?"div":C,R=e.gapMode,O=ug(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=b,j=G4([n,t]),V=fn(fn({},O),s);return w.createElement(w.Fragment,null,p&&w.createElement(D,{sideCar:Eg,removeScrollBar:h,shards:v,noIsolation:S,inert:T,setCallbacks:a,allowPinchZoom:!!_,lockRef:n,gapMode:R}),l?w.cloneElement(w.Children.only(u),fn(fn({},V),{ref:j})):w.createElement(A,fn({},V,{className:f,ref:j}),u))});ha.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ha.classNames={fullWidth:zs,zeroRight:Fs};var q4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=q4();return t&&e.setAttribute("nonce",t),e}function Q4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eE(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var tE=function(){var e=0,t=null;return{add:function(n){e==0&&(t=J4())&&(Q4(t,n),eE(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},nE=function(){var e=tE();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Tg=function(){var e=nE(),t=function(n){var o=n.styles,s=n.dynamic;return e(o,s),null};return t},rE={left:0,top:0,right:0,gap:0},sl=function(e){return parseInt(e||"",10)||0},iE=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[sl(n),sl(o),sl(s)]},oE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return rE;var t=iE(e),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-n+t[2]-t[0])}},sE=Tg(),pi="data-scroll-locked",aE=function(e,t,n,o){var s=e.left,a=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(W4,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(u,"px ").concat(o,`;
  }
  body[`).concat(pi,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fs,` {
    right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat(zs,` {
    margin-right: `).concat(u,"px ").concat(o,`;
  }
  
  .`).concat(Fs," .").concat(Fs,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(zs," .").concat(zs,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(pi,`] {
    `).concat(B4,": ").concat(u,`px;
  }
`)},tp=function(){var e=parseInt(document.body.getAttribute(pi)||"0",10);return isFinite(e)?e:0},cE=function(){w.useEffect(function(){return document.body.setAttribute(pi,(tp()+1).toString()),function(){var e=tp()-1;e<=0?document.body.removeAttribute(pi):document.body.setAttribute(pi,e.toString())}},[])},lE=function(e){var t=e.noRelative,n=e.noImportant,o=e.gapMode,s=o===void 0?"margin":o;cE();var a=w.useMemo(function(){return oE(s)},[s]);return w.createElement(sE,{styles:aE(a,!t,s,n?"":"!important")})},Ol=!1;if(typeof window<"u")try{var Ps=Object.defineProperty({},"passive",{get:function(){return Ol=!0,!0}});window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{Ol=!1}var ci=Ol?{passive:!1}:!1,uE=function(e){return e.tagName==="TEXTAREA"},Cg=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!uE(e)&&n[t]==="visible")},dE=function(e){return Cg(e,"overflowY")},fE=function(e){return Cg(e,"overflowX")},np=function(e,t){var n=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var s=Ig(e,o);if(s){var a=Ag(e,o),l=a[1],u=a[2];if(l>u)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},hE=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},pE=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},Ig=function(e,t){return e==="v"?dE(t):fE(t)},Ag=function(e,t){return e==="v"?hE(t):pE(t)},gE=function(e,t){return e==="h"&&t==="rtl"?-1:1},mE=function(e,t,n,o,s){var a=gE(e,window.getComputedStyle(t).direction),l=a*o,u=n.target,f=t.contains(u),h=!1,p=l>0,v=0,b=0;do{var S=Ag(e,u),T=S[0],_=S[1],C=S[2],A=_-C-a*T;(T||A)&&Ig(e,u)&&(v+=A,b+=T),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(p&&Math.abs(v)<1||!p&&Math.abs(b)<1)&&(h=!0),h},Os=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rp=function(e){return[e.deltaX,e.deltaY]},ip=function(e){return e&&"current"in e?e.current:e},vE=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yE=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},bE=0,li=[];function wE(e){var t=w.useRef([]),n=w.useRef([0,0]),o=w.useRef(),s=w.useState(bE++)[0],a=w.useState(Tg)[0],l=w.useRef(e);w.useEffect(function(){l.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var _=Ys([e.lockRef.current],(e.shards||[]).map(ip),!0).filter(Boolean);return _.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=w.useCallback(function(_,C){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var A=Os(_),R=n.current,O="deltaX"in _?_.deltaX:R[0]-A[0],D="deltaY"in _?_.deltaY:R[1]-A[1],j,V=_.target,F=Math.abs(O)>Math.abs(D)?"h":"v";if("touches"in _&&F==="h"&&V.type==="range")return!1;var $=np(F,V);if(!$)return!0;if($?j=F:(j=F==="v"?"h":"v",$=np(F,V)),!$)return!1;if(!o.current&&"changedTouches"in _&&(O||D)&&(o.current=j),!j)return!0;var G=o.current||j;return mE(G,C,_,G==="h"?O:D)},[]),f=w.useCallback(function(_){var C=_;if(!(!li.length||li[li.length-1]!==a)){var A="deltaY"in C?rp(C):Os(C),R=t.current.filter(function(j){return j.name===C.type&&(j.target===C.target||C.target===j.shadowParent)&&vE(j.delta,A)})[0];if(R&&R.should){C.cancelable&&C.preventDefault();return}if(!R){var O=(l.current.shards||[]).map(ip).filter(Boolean).filter(function(j){return j.contains(C.target)}),D=O.length>0?u(C,O[0]):!l.current.noIsolation;D&&C.cancelable&&C.preventDefault()}}},[]),h=w.useCallback(function(_,C,A,R){var O={name:_,delta:C,target:A,should:R,shadowParent:xE(A)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(D){return D!==O})},1)},[]),p=w.useCallback(function(_){n.current=Os(_),o.current=void 0},[]),v=w.useCallback(function(_){h(_.type,rp(_),_.target,u(_,e.lockRef.current))},[]),b=w.useCallback(function(_){h(_.type,Os(_),_.target,u(_,e.lockRef.current))},[]);w.useEffect(function(){return li.push(a),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:b}),document.addEventListener("wheel",f,ci),document.addEventListener("touchmove",f,ci),document.addEventListener("touchstart",p,ci),function(){li=li.filter(function(_){return _!==a}),document.removeEventListener("wheel",f,ci),document.removeEventListener("touchmove",f,ci),document.removeEventListener("touchstart",p,ci)}},[]);var S=e.removeScrollBar,T=e.inert;return w.createElement(w.Fragment,null,T?w.createElement(a,{styles:yE(s)}):null,S?w.createElement(lE,{gapMode:e.gapMode}):null)}function xE(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const SE=K4(Eg,wE);var kg=w.forwardRef(function(e,t){return w.createElement(ha,fn({},e,{ref:t,sideCar:SE}))});kg.classNames=ha.classNames;var _E=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ui=new WeakMap,Ms=new WeakMap,Ds={},al=0,Rg=function(e){return e&&(e.host||Rg(e.parentNode))},EE=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=Rg(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},TE=function(e,t,n,o){var s=EE(t,Array.isArray(e)?e:[e]);Ds[n]||(Ds[n]=new WeakMap);var a=Ds[n],l=[],u=new Set,f=new Set(s),h=function(v){!v||u.has(v)||(u.add(v),h(v.parentNode))};s.forEach(h);var p=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(b){if(u.has(b))p(b);else try{var S=b.getAttribute(o),T=S!==null&&S!=="false",_=(ui.get(b)||0)+1,C=(a.get(b)||0)+1;ui.set(b,_),a.set(b,C),l.push(b),_===1&&T&&Ms.set(b,!0),C===1&&b.setAttribute(n,"true"),T||b.setAttribute(o,"true")}catch(A){console.error("aria-hidden: cannot operate on ",b,A)}})};return p(t),u.clear(),al++,function(){l.forEach(function(v){var b=ui.get(v)-1,S=a.get(v)-1;ui.set(v,b),a.set(v,S),b||(Ms.has(v)||v.removeAttribute(o),Ms.delete(v)),S||v.removeAttribute(n)}),al--,al||(ui=new WeakMap,ui=new WeakMap,Ms=new WeakMap,Ds={})}},CE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),s=_E(e);return s?(o.push.apply(o,Array.from(s.querySelectorAll("[aria-live]"))),TE(o,s,n,"aria-hidden")):function(){return null}};const IE=["top","right","bottom","left"],sr=Math.min,Rt=Math.max,Xs=Math.round,Ls=Math.floor,pn=e=>({x:e,y:e}),AE={left:"right",right:"left",bottom:"top",top:"bottom"},kE={start:"end",end:"start"};function Ml(e,t,n){return Rt(e,sr(t,n))}function Nn(e,t){return typeof e=="function"?e(t):e}function jn(e){return e.split("-")[0]}function Ii(e){return e.split("-")[1]}function _u(e){return e==="x"?"y":"x"}function Eu(e){return e==="y"?"height":"width"}function ar(e){return["top","bottom"].includes(jn(e))?"y":"x"}function Tu(e){return _u(ar(e))}function RE(e,t,n){n===void 0&&(n=!1);const o=Ii(e),s=Tu(e),a=Eu(s);let l=s==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=Zs(l)),[l,Zs(l)]}function PE(e){const t=Zs(e);return[Dl(e),t,Dl(t)]}function Dl(e){return e.replace(/start|end/g,t=>kE[t])}function OE(e,t,n){const o=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:o:t?o:s;case"left":case"right":return t?a:l;default:return[]}}function ME(e,t,n,o){const s=Ii(e);let a=OE(jn(e),n==="start",o);return s&&(a=a.map(l=>l+"-"+s),t&&(a=a.concat(a.map(Dl)))),a}function Zs(e){return e.replace(/left|right|bottom|top/g,t=>AE[t])}function DE(e){return{top:0,right:0,bottom:0,left:0,...e}}function Pg(e){return typeof e!="number"?DE(e):{top:e,right:e,bottom:e,left:e}}function Ks(e){const{x:t,y:n,width:o,height:s}=e;return{width:o,height:s,top:n,left:t,right:t+o,bottom:n+s,x:t,y:n}}function op(e,t,n){let{reference:o,floating:s}=e;const a=ar(t),l=Tu(t),u=Eu(l),f=jn(t),h=a==="y",p=o.x+o.width/2-s.width/2,v=o.y+o.height/2-s.height/2,b=o[u]/2-s[u]/2;let S;switch(f){case"top":S={x:p,y:o.y-s.height};break;case"bottom":S={x:p,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y:v};break;case"left":S={x:o.x-s.width,y:v};break;default:S={x:o.x,y:o.y}}switch(Ii(t)){case"start":S[l]-=b*(n&&h?-1:1);break;case"end":S[l]+=b*(n&&h?-1:1);break}return S}const LE=async(e,t,n)=>{const{placement:o="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,u=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:v}=op(h,o,f),b=o,S={},T=0;for(let _=0;_<u.length;_++){const{name:C,fn:A}=u[_],{x:R,y:O,data:D,reset:j}=await A({x:p,y:v,initialPlacement:o,placement:b,strategy:s,middlewareData:S,rects:h,platform:l,elements:{reference:e,floating:t}});p=R??p,v=O??v,S={...S,[C]:{...S[C],...D}},j&&T<=50&&(T++,typeof j=="object"&&(j.placement&&(b=j.placement),j.rects&&(h=j.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:p,y:v}=op(h,b,f)),_=-1)}return{x:p,y:v,placement:b,strategy:s,middlewareData:S}};async function vo(e,t){var n;t===void 0&&(t={});const{x:o,y:s,platform:a,rects:l,elements:u,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:b=!1,padding:S=0}=Nn(t,e),T=Pg(S),C=u[b?v==="floating"?"reference":"floating":v],A=Ks(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(C)))==null||n?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:f})),R=v==="floating"?{x:o,y:s,width:l.floating.width,height:l.floating.height}:l.reference,O=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),D=await(a.isElement==null?void 0:a.isElement(O))?await(a.getScale==null?void 0:a.getScale(O))||{x:1,y:1}:{x:1,y:1},j=Ks(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:O,strategy:f}):R);return{top:(A.top-j.top+T.top)/D.y,bottom:(j.bottom-A.bottom+T.bottom)/D.y,left:(A.left-j.left+T.left)/D.x,right:(j.right-A.right+T.right)/D.x}}const NE=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:s,rects:a,platform:l,elements:u,middlewareData:f}=t,{element:h,padding:p=0}=Nn(e,t)||{};if(h==null)return{};const v=Pg(p),b={x:n,y:o},S=Tu(s),T=Eu(S),_=await l.getDimensions(h),C=S==="y",A=C?"top":"left",R=C?"bottom":"right",O=C?"clientHeight":"clientWidth",D=a.reference[T]+a.reference[S]-b[S]-a.floating[T],j=b[S]-a.reference[S],V=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let F=V?V[O]:0;(!F||!await(l.isElement==null?void 0:l.isElement(V)))&&(F=u.floating[O]||a.floating[T]);const $=D/2-j/2,G=F/2-_[T]/2-1,q=sr(v[A],G),ee=sr(v[R],G),Y=q,te=F-_[T]-ee,ie=F/2-_[T]/2+$,Ie=Ml(Y,ie,te),oe=!f.arrow&&Ii(s)!=null&&ie!==Ie&&a.reference[T]/2-(ie<Y?q:ee)-_[T]/2<0,de=oe?ie<Y?ie-Y:ie-te:0;return{[S]:b[S]+de,data:{[S]:Ie,centerOffset:ie-Ie-de,...oe&&{alignmentOffset:de}},reset:oe}}}),jE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:s,middlewareData:a,rects:l,initialPlacement:u,platform:f,elements:h}=t,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:b,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:_=!0,...C}=Nn(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const A=jn(s),R=ar(u),O=jn(u)===u,D=await(f.isRTL==null?void 0:f.isRTL(h.floating)),j=b||(O||!_?[Zs(u)]:PE(u)),V=T!=="none";!b&&V&&j.push(...ME(u,_,T,D));const F=[u,...j],$=await vo(t,C),G=[];let q=((o=a.flip)==null?void 0:o.overflows)||[];if(p&&G.push($[A]),v){const ie=RE(s,l,D);G.push($[ie[0]],$[ie[1]])}if(q=[...q,{placement:s,overflows:G}],!G.every(ie=>ie<=0)){var ee,Y;const ie=(((ee=a.flip)==null?void 0:ee.index)||0)+1,Ie=F[ie];if(Ie)return{data:{index:ie,overflows:q},reset:{placement:Ie}};let oe=(Y=q.filter(de=>de.overflows[0]<=0).sort((de,ne)=>de.overflows[1]-ne.overflows[1])[0])==null?void 0:Y.placement;if(!oe)switch(S){case"bestFit":{var te;const de=(te=q.filter(ne=>{if(V){const xe=ar(ne.placement);return xe===R||xe==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(xe=>xe>0).reduce((xe,pe)=>xe+pe,0)]).sort((ne,xe)=>ne[1]-xe[1])[0])==null?void 0:te[0];de&&(oe=de);break}case"initialPlacement":oe=u;break}if(s!==oe)return{reset:{placement:oe}}}return{}}}};function sp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ap(e){return IE.some(t=>e[t]>=0)}const FE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...s}=Nn(e,t);switch(o){case"referenceHidden":{const a=await vo(t,{...s,elementContext:"reference"}),l=sp(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:ap(l)}}}case"escaped":{const a=await vo(t,{...s,altBoundary:!0}),l=sp(a,n.floating);return{data:{escapedOffsets:l,escaped:ap(l)}}}default:return{}}}}};async function zE(e,t){const{placement:n,platform:o,elements:s}=e,a=await(o.isRTL==null?void 0:o.isRTL(s.floating)),l=jn(n),u=Ii(n),f=ar(n)==="y",h=["left","top"].includes(l)?-1:1,p=a&&f?-1:1,v=Nn(t,e);let{mainAxis:b,crossAxis:S,alignmentAxis:T}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof T=="number"&&(S=u==="end"?T*-1:T),f?{x:S*p,y:b*h}:{x:b*h,y:S*p}}const HE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:s,y:a,placement:l,middlewareData:u}=t,f=await zE(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(o=u.arrow)!=null&&o.alignmentOffset?{}:{x:s+f.x,y:a+f.y,data:{...f,placement:l}}}}},UE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:s}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:C=>{let{x:A,y:R}=C;return{x:A,y:R}}},...f}=Nn(e,t),h={x:n,y:o},p=await vo(t,f),v=ar(jn(s)),b=_u(v);let S=h[b],T=h[v];if(a){const C=b==="y"?"top":"left",A=b==="y"?"bottom":"right",R=S+p[C],O=S-p[A];S=Ml(R,S,O)}if(l){const C=v==="y"?"top":"left",A=v==="y"?"bottom":"right",R=T+p[C],O=T-p[A];T=Ml(R,T,O)}const _=u.fn({...t,[b]:S,[v]:T});return{..._,data:{x:_.x-n,y:_.y-o,enabled:{[b]:a,[v]:l}}}}}},WE=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:s,rects:a,middlewareData:l}=t,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=Nn(e,t),p={x:n,y:o},v=ar(s),b=_u(v);let S=p[b],T=p[v];const _=Nn(u,t),C=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(f){const O=b==="y"?"height":"width",D=a.reference[b]-a.floating[O]+C.mainAxis,j=a.reference[b]+a.reference[O]-C.mainAxis;S<D?S=D:S>j&&(S=j)}if(h){var A,R;const O=b==="y"?"width":"height",D=["top","left"].includes(jn(s)),j=a.reference[v]-a.floating[O]+(D&&((A=l.offset)==null?void 0:A[v])||0)+(D?0:C.crossAxis),V=a.reference[v]+a.reference[O]+(D?0:((R=l.offset)==null?void 0:R[v])||0)-(D?C.crossAxis:0);T<j?T=j:T>V&&(T=V)}return{[b]:S,[v]:T}}}},BE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:s,rects:a,platform:l,elements:u}=t,{apply:f=()=>{},...h}=Nn(e,t),p=await vo(t,h),v=jn(s),b=Ii(s),S=ar(s)==="y",{width:T,height:_}=a.floating;let C,A;v==="top"||v==="bottom"?(C=v,A=b===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(A=v,C=b==="end"?"top":"bottom");const R=_-p.top-p.bottom,O=T-p.left-p.right,D=sr(_-p[C],R),j=sr(T-p[A],O),V=!t.middlewareData.shift;let F=D,$=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&($=O),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(F=R),V&&!b){const q=Rt(p.left,0),ee=Rt(p.right,0),Y=Rt(p.top,0),te=Rt(p.bottom,0);S?$=T-2*(q!==0||ee!==0?q+ee:Rt(p.left,p.right)):F=_-2*(Y!==0||te!==0?Y+te:Rt(p.top,p.bottom))}await f({...t,availableWidth:$,availableHeight:F});const G=await l.getDimensions(u.floating);return T!==G.width||_!==G.height?{reset:{rects:!0}}:{}}}};function pa(){return typeof window<"u"}function Ai(e){return Og(e)?(e.nodeName||"").toLowerCase():"#document"}function Pt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function yn(e){var t;return(t=(Og(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Og(e){return pa()?e instanceof Node||e instanceof Pt(e).Node:!1}function Qt(e){return pa()?e instanceof Element||e instanceof Pt(e).Element:!1}function gn(e){return pa()?e instanceof HTMLElement||e instanceof Pt(e).HTMLElement:!1}function cp(e){return!pa()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pt(e).ShadowRoot}function ko(e){const{overflow:t,overflowX:n,overflowY:o,display:s}=en(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(s)}function VE(e){return["table","td","th"].includes(Ai(e))}function ga(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Cu(e){const t=Iu(),n=Qt(e)?en(e):e;return["transform","translate","scale","rotate","perspective"].some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function $E(e){let t=cr(e);for(;gn(t)&&!vi(t);){if(Cu(t))return t;if(ga(t))return null;t=cr(t)}return null}function Iu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vi(e){return["html","body","#document"].includes(Ai(e))}function en(e){return Pt(e).getComputedStyle(e)}function ma(e){return Qt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cr(e){if(Ai(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cp(e)&&e.host||yn(e);return cp(t)?t.host:t}function Mg(e){const t=cr(e);return vi(t)?e.ownerDocument?e.ownerDocument.body:e.body:gn(t)&&ko(t)?t:Mg(t)}function yo(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Mg(e),a=s===((o=e.ownerDocument)==null?void 0:o.body),l=Pt(s);if(a){const u=Ll(l);return t.concat(l,l.visualViewport||[],ko(s)?s:[],u&&n?yo(u):[])}return t.concat(s,yo(s,[],n))}function Ll(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Dg(e){const t=en(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=gn(e),a=s?e.offsetWidth:n,l=s?e.offsetHeight:o,u=Xs(n)!==a||Xs(o)!==l;return u&&(n=a,o=l),{width:n,height:o,$:u}}function Au(e){return Qt(e)?e:e.contextElement}function gi(e){const t=Au(e);if(!gn(t))return pn(1);const n=t.getBoundingClientRect(),{width:o,height:s,$:a}=Dg(t);let l=(a?Xs(n.width):n.width)/o,u=(a?Xs(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const GE=pn(0);function Lg(e){const t=Pt(e);return!Iu()||!t.visualViewport?GE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Pt(e)?!1:t}function Pr(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Au(e);let l=pn(1);t&&(o?Qt(o)&&(l=gi(o)):l=gi(e));const u=YE(a,n,o)?Lg(a):pn(0);let f=(s.left+u.x)/l.x,h=(s.top+u.y)/l.y,p=s.width/l.x,v=s.height/l.y;if(a){const b=Pt(a),S=o&&Qt(o)?Pt(o):o;let T=b,_=Ll(T);for(;_&&o&&S!==T;){const C=gi(_),A=_.getBoundingClientRect(),R=en(_),O=A.left+(_.clientLeft+parseFloat(R.paddingLeft))*C.x,D=A.top+(_.clientTop+parseFloat(R.paddingTop))*C.y;f*=C.x,h*=C.y,p*=C.x,v*=C.y,f+=O,h+=D,T=Pt(_),_=Ll(T)}}return Ks({width:p,height:v,x:f,y:h})}function ku(e,t){const n=ma(e).scrollLeft;return t?t.left+n:Pr(yn(e)).left+n}function Ng(e,t,n){n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=o.left+t.scrollLeft-(n?0:ku(e,o)),a=o.top+t.scrollTop;return{x:s,y:a}}function XE(e){let{elements:t,rect:n,offsetParent:o,strategy:s}=e;const a=s==="fixed",l=yn(o),u=t?ga(t.floating):!1;if(o===l||u&&a)return n;let f={scrollLeft:0,scrollTop:0},h=pn(1);const p=pn(0),v=gn(o);if((v||!v&&!a)&&((Ai(o)!=="body"||ko(l))&&(f=ma(o)),gn(o))){const S=Pr(o);h=gi(o),p.x=S.x+o.clientLeft,p.y=S.y+o.clientTop}const b=l&&!v&&!a?Ng(l,f,!0):pn(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+p.x+b.x,y:n.y*h.y-f.scrollTop*h.y+p.y+b.y}}function ZE(e){return Array.from(e.getClientRects())}function KE(e){const t=yn(e),n=ma(e),o=e.ownerDocument.body,s=Rt(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),a=Rt(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+ku(e);const u=-n.scrollTop;return en(o).direction==="rtl"&&(l+=Rt(t.clientWidth,o.clientWidth)-s),{width:s,height:a,x:l,y:u}}function qE(e,t){const n=Pt(e),o=yn(e),s=n.visualViewport;let a=o.clientWidth,l=o.clientHeight,u=0,f=0;if(s){a=s.width,l=s.height;const h=Iu();(!h||h&&t==="fixed")&&(u=s.offsetLeft,f=s.offsetTop)}return{width:a,height:l,x:u,y:f}}function JE(e,t){const n=Pr(e,!0,t==="fixed"),o=n.top+e.clientTop,s=n.left+e.clientLeft,a=gn(e)?gi(e):pn(1),l=e.clientWidth*a.x,u=e.clientHeight*a.y,f=s*a.x,h=o*a.y;return{width:l,height:u,x:f,y:h}}function lp(e,t,n){let o;if(t==="viewport")o=qE(e,n);else if(t==="document")o=KE(yn(e));else if(Qt(t))o=JE(t,n);else{const s=Lg(e);o={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ks(o)}function jg(e,t){const n=cr(e);return n===t||!Qt(n)||vi(n)?!1:en(n).position==="fixed"||jg(n,t)}function QE(e,t){const n=t.get(e);if(n)return n;let o=yo(e,[],!1).filter(u=>Qt(u)&&Ai(u)!=="body"),s=null;const a=en(e).position==="fixed";let l=a?cr(e):e;for(;Qt(l)&&!vi(l);){const u=en(l),f=Cu(l);!f&&u.position==="fixed"&&(s=null),(a?!f&&!s:!f&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ko(l)&&!f&&jg(e,l))?o=o.filter(p=>p!==l):s=u,l=cr(l)}return t.set(e,o),o}function e6(e){let{element:t,boundary:n,rootBoundary:o,strategy:s}=e;const l=[...n==="clippingAncestors"?ga(t)?[]:QE(t,this._c):[].concat(n),o],u=l[0],f=l.reduce((h,p)=>{const v=lp(t,p,s);return h.top=Rt(v.top,h.top),h.right=sr(v.right,h.right),h.bottom=sr(v.bottom,h.bottom),h.left=Rt(v.left,h.left),h},lp(t,u,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function t6(e){const{width:t,height:n}=Dg(e);return{width:t,height:n}}function n6(e,t,n){const o=gn(t),s=yn(t),a=n==="fixed",l=Pr(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const f=pn(0);if(o||!o&&!a)if((Ai(t)!=="body"||ko(s))&&(u=ma(t)),o){const b=Pr(t,!0,a,t);f.x=b.x+t.clientLeft,f.y=b.y+t.clientTop}else s&&(f.x=ku(s));const h=s&&!o&&!a?Ng(s,u):pn(0),p=l.left+u.scrollLeft-f.x-h.x,v=l.top+u.scrollTop-f.y-h.y;return{x:p,y:v,width:l.width,height:l.height}}function cl(e){return en(e).position==="static"}function up(e,t){if(!gn(e)||en(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return yn(e)===n&&(n=n.ownerDocument.body),n}function Fg(e,t){const n=Pt(e);if(ga(e))return n;if(!gn(e)){let s=cr(e);for(;s&&!vi(s);){if(Qt(s)&&!cl(s))return s;s=cr(s)}return n}let o=up(e,t);for(;o&&VE(o)&&cl(o);)o=up(o,t);return o&&vi(o)&&cl(o)&&!Cu(o)?n:o||$E(e)||n}const r6=async function(e){const t=this.getOffsetParent||Fg,n=this.getDimensions,o=await n(e.floating);return{reference:n6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function i6(e){return en(e).direction==="rtl"}const o6={convertOffsetParentRelativeRectToViewportRelativeRect:XE,getDocumentElement:yn,getClippingRect:e6,getOffsetParent:Fg,getElementRects:r6,getClientRects:ZE,getDimensions:t6,getScale:gi,isElement:Qt,isRTL:i6};function zg(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function s6(e,t){let n=null,o;const s=yn(e);function a(){var u;clearTimeout(o),(u=n)==null||u.disconnect(),n=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const h=e.getBoundingClientRect(),{left:p,top:v,width:b,height:S}=h;if(u||t(),!b||!S)return;const T=Ls(v),_=Ls(s.clientWidth-(p+b)),C=Ls(s.clientHeight-(v+S)),A=Ls(p),O={rootMargin:-T+"px "+-_+"px "+-C+"px "+-A+"px",threshold:Rt(0,sr(1,f))||1};let D=!0;function j(V){const F=V[0].intersectionRatio;if(F!==f){if(!D)return l();F?l(!1,F):o=setTimeout(()=>{l(!1,1e-7)},1e3)}F===1&&!zg(h,e.getBoundingClientRect())&&l(),D=!1}try{n=new IntersectionObserver(j,{...O,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,O)}n.observe(e)}return l(!0),a}function a6(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,h=Au(e),p=s||a?[...h?yo(h):[],...yo(t)]:[];p.forEach(A=>{s&&A.addEventListener("scroll",n,{passive:!0}),a&&A.addEventListener("resize",n)});const v=h&&u?s6(h,n):null;let b=-1,S=null;l&&(S=new ResizeObserver(A=>{let[R]=A;R&&R.target===h&&S&&(S.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var O;(O=S)==null||O.observe(t)})),n()}),h&&!f&&S.observe(h),S.observe(t));let T,_=f?Pr(e):null;f&&C();function C(){const A=Pr(e);_&&!zg(_,A)&&n(),_=A,T=requestAnimationFrame(C)}return n(),()=>{var A;p.forEach(R=>{s&&R.removeEventListener("scroll",n),a&&R.removeEventListener("resize",n)}),v?.(),(A=S)==null||A.disconnect(),S=null,f&&cancelAnimationFrame(T)}}const c6=HE,l6=UE,u6=jE,d6=BE,f6=FE,dp=NE,h6=WE,p6=(e,t,n)=>{const o=new Map,s={platform:o6,...n},a={...s.platform,_c:o};return LE(e,t,{...s,platform:a})};var Hs=typeof document<"u"?J.useLayoutEffect:J.useEffect;function qs(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!==0;)if(!qs(e[o],t[o]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(t,s[o]))return!1;for(o=n;o--!==0;){const a=s[o];if(!(a==="_owner"&&e.$$typeof)&&!qs(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Hg(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fp(e,t){const n=Hg(e);return Math.round(t*n)/n}function ll(e){const t=w.useRef(e);return Hs(()=>{t.current=e}),t}function g6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:o=[],platform:s,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:f,open:h}=e,[p,v]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,S]=w.useState(o);qs(b,o)||S(o);const[T,_]=w.useState(null),[C,A]=w.useState(null),R=w.useCallback(ne=>{ne!==V.current&&(V.current=ne,_(ne))},[]),O=w.useCallback(ne=>{ne!==F.current&&(F.current=ne,A(ne))},[]),D=a||T,j=l||C,V=w.useRef(null),F=w.useRef(null),$=w.useRef(p),G=f!=null,q=ll(f),ee=ll(s),Y=ll(h),te=w.useCallback(()=>{if(!V.current||!F.current)return;const ne={placement:t,strategy:n,middleware:b};ee.current&&(ne.platform=ee.current),p6(V.current,F.current,ne).then(xe=>{const pe={...xe,isPositioned:Y.current!==!1};ie.current&&!qs($.current,pe)&&($.current=pe,Vp.flushSync(()=>{v(pe)}))})},[b,t,n,ee,Y]);Hs(()=>{h===!1&&$.current.isPositioned&&($.current.isPositioned=!1,v(ne=>({...ne,isPositioned:!1})))},[h]);const ie=w.useRef(!1);Hs(()=>(ie.current=!0,()=>{ie.current=!1}),[]),Hs(()=>{if(D&&(V.current=D),j&&(F.current=j),D&&j){if(q.current)return q.current(D,j,te);te()}},[D,j,te,q,G]);const Ie=w.useMemo(()=>({reference:V,floating:F,setReference:R,setFloating:O}),[R,O]),oe=w.useMemo(()=>({reference:D,floating:j}),[D,j]),de=w.useMemo(()=>{const ne={position:n,left:0,top:0};if(!oe.floating)return ne;const xe=fp(oe.floating,p.x),pe=fp(oe.floating,p.y);return u?{...ne,transform:"translate("+xe+"px, "+pe+"px)",...Hg(oe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:xe,top:pe}},[n,u,oe.floating,p.x,p.y]);return w.useMemo(()=>({...p,update:te,refs:Ie,elements:oe,floatingStyles:de}),[p,te,Ie,oe,de])}const m6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:o,padding:s}=typeof e=="function"?e(n):e;return o&&t(o)?o.current!=null?dp({element:o.current,padding:s}).fn(n):{}:o?dp({element:o,padding:s}).fn(n):{}}}},v6=(e,t)=>({...c6(e),options:[e,t]}),y6=(e,t)=>({...l6(e),options:[e,t]}),b6=(e,t)=>({...h6(e),options:[e,t]}),w6=(e,t)=>({...u6(e),options:[e,t]}),x6=(e,t)=>({...d6(e),options:[e,t]}),S6=(e,t)=>({...f6(e),options:[e,t]}),_6=(e,t)=>({...m6(e),options:[e,t]});var E6="Arrow",Ug=w.forwardRef((e,t)=>{const{children:n,width:o=10,height:s=5,...a}=e;return m.jsx(Fe.svg,{...a,ref:t,width:o,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ug.displayName=E6;var T6=Ug,Ru="Popper",[Wg,va]=fr(Ru),[C6,Bg]=Wg(Ru),Vg=e=>{const{__scopePopper:t,children:n}=e,[o,s]=w.useState(null);return m.jsx(C6,{scope:t,anchor:o,onAnchorChange:s,children:n})};Vg.displayName=Ru;var $g="PopperAnchor",Gg=w.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:o,...s}=e,a=Bg($g,n),l=w.useRef(null),u=Be(t,l);return w.useEffect(()=>{a.onAnchorChange(o?.current||l.current)}),o?null:m.jsx(Fe.div,{...s,ref:u})});Gg.displayName=$g;var Pu="PopperContent",[I6,A6]=Wg(Pu),Yg=w.forwardRef((e,t)=>{const{__scopePopper:n,side:o="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:b=!1,updatePositionStrategy:S="optimized",onPlaced:T,..._}=e,C=Bg(Pu,n),[A,R]=w.useState(null),O=Be(t,Gt=>R(Gt)),[D,j]=w.useState(null),V=r1(D),F=V?.width??0,$=V?.height??0,G=o+(a!=="center"?"-"+a:""),q=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},ee=Array.isArray(h)?h:[h],Y=ee.length>0,te={padding:q,boundary:ee.filter(R6),altBoundary:Y},{refs:ie,floatingStyles:Ie,placement:oe,isPositioned:de,middlewareData:ne}=g6({strategy:"fixed",placement:G,whileElementsMounted:(...Gt)=>a6(...Gt,{animationFrame:S==="always"}),elements:{reference:C.anchor},middleware:[v6({mainAxis:s+$,alignmentAxis:l}),f&&y6({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?b6():void 0,...te}),f&&w6({...te}),x6({...te,apply:({elements:Gt,rects:wt,availableWidth:Yt,availableHeight:Un})=>{const{width:Wn,height:wn}=wt.reference,xn=Gt.floating.style;xn.setProperty("--radix-popper-available-width",`${Yt}px`),xn.setProperty("--radix-popper-available-height",`${Un}px`),xn.setProperty("--radix-popper-anchor-width",`${Wn}px`),xn.setProperty("--radix-popper-anchor-height",`${wn}px`)}}),D&&_6({element:D,padding:u}),P6({arrowWidth:F,arrowHeight:$}),b&&S6({strategy:"referenceHidden",...te})]}),[xe,pe]=Kg(oe),De=dt(T);or(()=>{de&&De?.()},[de,De]);const bn=ne.arrow?.x,Hn=ne.arrow?.y,pr=ne.arrow?.centerOffset!==0,[rn,on]=w.useState();return or(()=>{A&&on(window.getComputedStyle(A).zIndex)},[A]),m.jsx("div",{ref:ie.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ie,transform:de?Ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:rn,"--radix-popper-transform-origin":[ne.transformOrigin?.x,ne.transformOrigin?.y].join(" "),...ne.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:m.jsx(I6,{scope:n,placedSide:xe,onArrowChange:j,arrowX:bn,arrowY:Hn,shouldHideArrow:pr,children:m.jsx(Fe.div,{"data-side":xe,"data-align":pe,..._,ref:O,style:{..._.style,animation:de?void 0:"none"}})})})});Yg.displayName=Pu;var Xg="PopperArrow",k6={top:"bottom",right:"left",bottom:"top",left:"right"},Zg=w.forwardRef(function(t,n){const{__scopePopper:o,...s}=t,a=A6(Xg,o),l=k6[a.placedSide];return m.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:m.jsx(T6,{...s,ref:n,style:{...s.style,display:"block"}})})});Zg.displayName=Xg;function R6(e){return e!==null}var P6=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:o,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,f=l?0:e.arrowHeight,[h,p]=Kg(n),v={start:"0%",center:"50%",end:"100%"}[p],b=(s.arrow?.x??0)+u/2,S=(s.arrow?.y??0)+f/2;let T="",_="";return h==="bottom"?(T=l?v:`${b}px`,_=`${-f}px`):h==="top"?(T=l?v:`${b}px`,_=`${o.floating.height+f}px`):h==="right"?(T=`${-f}px`,_=l?v:`${S}px`):h==="left"&&(T=`${o.floating.width+f}px`,_=l?v:`${S}px`),{data:{x:T,y:_}}}});function Kg(e){const[t,n="center"]=e.split("-");return[t,n]}var O6=Vg,Ou=Gg,qg=Yg,Jg=Zg,Mu="Popover",[Qg,MA]=fr(Mu,[va]),Ro=va(),[M6,hr]=Qg(Mu),em=e=>{const{__scopePopover:t,children:n,open:o,defaultOpen:s,onOpenChange:a,modal:l=!1}=e,u=Ro(t),f=w.useRef(null),[h,p]=w.useState(!1),[v=!1,b]=oa({prop:o,defaultProp:s,onChange:a});return m.jsx(O6,{...u,children:m.jsx(M6,{scope:t,contentId:ru(),triggerRef:f,open:v,onOpenChange:b,onOpenToggle:w.useCallback(()=>b(S=>!S),[b]),hasCustomAnchor:h,onCustomAnchorAdd:w.useCallback(()=>p(!0),[]),onCustomAnchorRemove:w.useCallback(()=>p(!1),[]),modal:l,children:n})})};em.displayName=Mu;var tm="PopoverAnchor",nm=w.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,s=hr(tm,n),a=Ro(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=s;return w.useEffect(()=>(l(),()=>u()),[l,u]),m.jsx(Ou,{...a,...o,ref:t})});nm.displayName=tm;var rm="PopoverTrigger",im=w.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,s=hr(rm,n),a=Ro(n),l=Be(t,s.triggerRef),u=m.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":um(s.open),...o,ref:l,onClick:Ce(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:m.jsx(Ou,{asChild:!0,...a,children:u})});im.displayName=rm;var Du="PopoverPortal",[D6,L6]=Qg(Du,{forceMount:void 0}),om=e=>{const{__scopePopover:t,forceMount:n,children:o,container:s}=e,a=hr(Du,t);return m.jsx(D6,{scope:t,forceMount:n,children:m.jsx(zn,{present:n||a.open,children:m.jsx(Sg,{asChild:!0,container:s,children:o})})})};om.displayName=Du;var yi="PopoverContent",sm=w.forwardRef((e,t)=>{const n=L6(yi,e.__scopePopover),{forceMount:o=n.forceMount,...s}=e,a=hr(yi,e.__scopePopover);return m.jsx(zn,{present:o||a.open,children:a.modal?m.jsx(N6,{...s,ref:t}):m.jsx(j6,{...s,ref:t})})});sm.displayName=yi;var N6=w.forwardRef((e,t)=>{const n=hr(yi,e.__scopePopover),o=w.useRef(null),s=Be(t,o),a=w.useRef(!1);return w.useEffect(()=>{const l=o.current;if(l)return CE(l)},[]),m.jsx(kg,{as:Rr,allowPinchZoom:!0,children:m.jsx(am,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(e.onCloseAutoFocus,l=>{l.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Ce(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;a.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),j6=w.forwardRef((e,t)=>{const n=hr(yi,e.__scopePopover),o=w.useRef(!1),s=w.useRef(!1);return m.jsx(am,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(o.current||n.triggerRef.current?.focus(),a.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;n.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),am=w.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,...v}=e,b=hr(yi,n),S=Ro(n);return U4(),m.jsx(wg,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:a,children:m.jsx(Su,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onDismiss:()=>b.onOpenChange(!1),children:m.jsx(qg,{"data-state":um(b.open),role:"dialog",id:b.contentId,...S,...v,ref:t,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),cm="PopoverClose",lm=w.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,s=hr(cm,n);return m.jsx(Fe.button,{type:"button",...o,ref:t,onClick:Ce(e.onClick,()=>s.onOpenChange(!1))})});lm.displayName=cm;var F6="PopoverArrow",z6=w.forwardRef((e,t)=>{const{__scopePopover:n,...o}=e,s=Ro(n);return m.jsx(Jg,{...s,...o,ref:t})});z6.displayName=F6;function um(e){return e?"open":"closed"}var H6=em,U6=nm,W6=im,B6=om,V6=sm,$6=lm,[ya,DA]=fr("Tooltip",[va]),Lu=va(),dm="TooltipProvider",G6=700,hp="tooltip.open",[Y6,fm]=ya(dm),hm=e=>{const{__scopeTooltip:t,delayDuration:n=G6,skipDelayDuration:o=300,disableHoverableContent:s=!1,children:a}=e,[l,u]=w.useState(!0),f=w.useRef(!1),h=w.useRef(0);return w.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),m.jsx(Y6,{scope:t,isOpenDelayed:l,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(h.current),u(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u(!0),o)},[o]),isPointerInTransitRef:f,onPointerInTransitChange:w.useCallback(p=>{f.current=p},[]),disableHoverableContent:s,children:a})};hm.displayName=dm;var pm="Tooltip",[LA,ba]=ya(pm),Nl="TooltipTrigger",X6=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...o}=e,s=ba(Nl,n),a=fm(Nl,n),l=Lu(n),u=w.useRef(null),f=Be(t,u,s.onTriggerChange),h=w.useRef(!1),p=w.useRef(!1),v=w.useCallback(()=>h.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),m.jsx(Ou,{asChild:!0,...l,children:m.jsx(Fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...o,ref:f,onPointerMove:Ce(e.onPointerMove,b=>{b.pointerType!=="touch"&&!p.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ce(e.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:Ce(e.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Ce(e.onFocus,()=>{h.current||s.onOpen()}),onBlur:Ce(e.onBlur,s.onClose),onClick:Ce(e.onClick,s.onClose)})})});X6.displayName=Nl;var Z6="TooltipPortal",[NA,K6]=ya(Z6,{forceMount:void 0}),bi="TooltipContent",q6=w.forwardRef((e,t)=>{const n=K6(bi,e.__scopeTooltip),{forceMount:o=n.forceMount,side:s="top",...a}=e,l=ba(bi,e.__scopeTooltip);return m.jsx(zn,{present:o||l.open,children:l.disableHoverableContent?m.jsx(gm,{side:s,...a,ref:t}):m.jsx(J6,{side:s,...a,ref:t})})}),J6=w.forwardRef((e,t)=>{const n=ba(bi,e.__scopeTooltip),o=fm(bi,e.__scopeTooltip),s=w.useRef(null),a=Be(t,s),[l,u]=w.useState(null),{trigger:f,onClose:h}=n,p=s.current,{onPointerInTransitChange:v}=o,b=w.useCallback(()=>{u(null),v(!1)},[v]),S=w.useCallback((T,_)=>{const C=T.currentTarget,A={x:T.clientX,y:T.clientY},R=nT(A,C.getBoundingClientRect()),O=rT(A,R),D=iT(_.getBoundingClientRect()),j=sT([...O,...D]);u(j),v(!0)},[v]);return w.useEffect(()=>()=>b(),[b]),w.useEffect(()=>{if(f&&p){const T=C=>S(C,p),_=C=>S(C,f);return f.addEventListener("pointerleave",T),p.addEventListener("pointerleave",_),()=>{f.removeEventListener("pointerleave",T),p.removeEventListener("pointerleave",_)}}},[f,p,S,b]),w.useEffect(()=>{if(l){const T=_=>{const C=_.target,A={x:_.clientX,y:_.clientY},R=f?.contains(C)||p?.contains(C),O=!oT(A,l);R?b():O&&(b(),h())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[f,p,l,h,b]),m.jsx(gm,{...e,ref:a})}),[Q6,eT]=ya(pm,{isInside:!1}),gm=w.forwardRef((e,t)=>{const{__scopeTooltip:n,children:o,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:l,...u}=e,f=ba(bi,n),h=Lu(n),{onClose:p}=f;return w.useEffect(()=>(document.addEventListener(hp,p),()=>document.removeEventListener(hp,p)),[p]),w.useEffect(()=>{if(f.trigger){const v=b=>{b.target?.contains(f.trigger)&&p()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[f.trigger,p]),m.jsx(Su,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:p,children:m.jsxs(qg,{"data-state":f.stateAttribute,...h,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(Gp,{children:o}),m.jsx(Q6,{scope:n,isInside:!0,children:m.jsx(E4,{id:f.contentId,role:"tooltip",children:s||o})})]})})});q6.displayName=bi;var mm="TooltipArrow",tT=w.forwardRef((e,t)=>{const{__scopeTooltip:n,...o}=e,s=Lu(n);return eT(mm,n).isInside?null:m.jsx(Jg,{...s,...o,ref:t})});tT.displayName=mm;function nT(e,t){const n=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,o,s,a)){case a:return"left";case s:return"right";case n:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function rT(e,t,n=5){const o=[];switch(t){case"top":o.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":o.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":o.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":o.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return o}function iT(e){const{top:t,right:n,bottom:o,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:o},{x:s,y:o}]}function oT(e,t){const{x:n,y:o}=e;let s=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const u=t[a].x,f=t[a].y,h=t[l].x,p=t[l].y;f>o!=p>o&&n<(h-u)*(o-f)/(p-f)+u&&(s=!s)}return s}function sT(e){const t=e.slice();return t.sort((n,o)=>n.x<o.x?-1:n.x>o.x?1:n.y<o.y?-1:n.y>o.y?1:0),aT(t)}function aT(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const s=e[o];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let o=e.length-1;o>=0;o--){const s=e[o];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(s.y-l.y)>=(a.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var cT=hm,vm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(a=s(a,o(u)))}return a}function o(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var u in a)t.call(a,u)&&a[u]&&(l=s(l,u));return l}function s(a,l){return l?a?a+" "+l:a+l:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(vm);var lT=vm.exports;const kr=P3(lT),ym={asChild:{type:"boolean"}},Us={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},bm={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},Nu=["initial","xs","sm","md","lg","xl"];function wm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fo(e){return typeof e=="object"&&Object.keys(e).some(t=>Nu.includes(t))}function uT({className:e,customProperties:t,...n}){const o=xm({allowArbitraryValues:!0,className:e,...n}),s=dT({customProperties:t,...n});return[o,s]}function xm({allowArbitraryValues:e,value:t,className:n,propValues:o,parseValue:s=a=>a}){const a=[];if(t){if(typeof t=="string"&&o.includes(t))return pp(n,t,s);if(fo(t)){const l=t;for(const u in l){if(!wm(l,u)||!Nu.includes(u))continue;const f=l[u];if(f!==void 0){if(o.includes(f)){const h=pp(n,f,s),p=u==="initial"?h:`${u}:${h}`;a.push(p)}else if(e){const h=u==="initial"?n:`${u}:${n}`;a.push(h)}}}return a.join(" ")}if(e)return n}}function pp(e,t,n){const o=e?"-":"",s=n(t),a=s?.startsWith("-"),l=a?"-":"",u=a?s?.substring(1):s;return`${l}${e}${o}${u}`}function dT({customProperties:e,value:t,propValues:n,parseValue:o=s=>s}){let s={};if(!(!t||typeof t=="string"&&n.includes(t))){if(typeof t=="string"&&(s=Object.fromEntries(e.map(a=>[a,t]))),fo(t)){const a=t;for(const l in a){if(!wm(a,l)||!Nu.includes(l))continue;const u=a[l];if(!n.includes(u))for(const f of e)s={[l==="initial"?f:`${f}-${l}`]:u,...s}}}for(const a in s){const l=s[a];l!==void 0&&(s[a]=o(l))}return s}}function gp(...e){let t={};for(const n of e)n&&(t={...t,...n});return Object.keys(t).length?t:void 0}function fT(...e){return Object.assign({},...e)}function Sm(e,...t){let n,o;const s={...e},a=fT(...t);for(const l in a){let u=s[l];const f=a[l];if(f.default!==void 0&&u===void 0&&(u=f.default),f.type==="enum"&&![f.default,...f.values].includes(u)&&!fo(u)&&(u=f.default),s[l]=u,"className"in f&&f.className){delete s[l];const h="responsive"in f;if(!u||fo(u)&&!h)continue;if(fo(u)&&(f.default!==void 0&&u.initial===void 0&&(u.initial=f.default),f.type==="enum"&&([f.default,...f.values].includes(u.initial)||(u.initial=f.default))),f.type==="enum"){const p=xm({allowArbitraryValues:!1,value:u,className:f.className,propValues:f.values,parseValue:f.parseValue});n=kr(n,p);continue}if(f.type==="string"||f.type==="enum | string"){const p=f.type==="string"?[]:f.values,[v,b]=uT({className:f.className,customProperties:f.customProperties,propValues:p,parseValue:f.parseValue,value:u});o=gp(o,b),n=kr(n,v);continue}if(f.type==="boolean"&&u){n=kr(n,f.className);continue}}}return s.className=kr(n,e.className),s.style=gp(o,e.style),s}const Cr=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],hT={m:{type:"enum | string",values:Cr,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:Cr,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:Cr,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:Cr,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:Cr,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:Cr,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:Cr,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}};function pT(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const kt={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}},di=()=>{},jl=w.createContext(void 0),_m=w.forwardRef((e,t)=>w.useContext(jl)===void 0?w.createElement(cT,{delayDuration:200},w.createElement(wS,{dir:"ltr"},w.createElement(Em,{...e,ref:t}))):w.createElement(ju,{...e,ref:t}));_m.displayName="Theme";const Em=w.forwardRef((e,t)=>{const{appearance:n=kt.appearance.default,accentColor:o=kt.accentColor.default,grayColor:s=kt.grayColor.default,panelBackground:a=kt.panelBackground.default,radius:l=kt.radius.default,scaling:u=kt.scaling.default,hasBackground:f=kt.hasBackground.default,...h}=e,[p,v]=w.useState(n);w.useEffect(()=>v(n),[n]);const[b,S]=w.useState(o);w.useEffect(()=>S(o),[o]);const[T,_]=w.useState(s);w.useEffect(()=>_(s),[s]);const[C,A]=w.useState(a);w.useEffect(()=>A(a),[a]);const[R,O]=w.useState(l);w.useEffect(()=>O(l),[l]);const[D,j]=w.useState(u);return w.useEffect(()=>j(u),[u]),w.createElement(ju,{...h,ref:t,isRoot:!0,hasBackground:f,appearance:p,accentColor:b,grayColor:T,panelBackground:C,radius:R,scaling:D,onAppearanceChange:v,onAccentColorChange:S,onGrayColorChange:_,onPanelBackgroundChange:A,onRadiusChange:O,onScalingChange:j})});Em.displayName="ThemeRoot";const ju=w.forwardRef((e,t)=>{const n=w.useContext(jl),{asChild:o,isRoot:s,hasBackground:a,appearance:l=n?.appearance??kt.appearance.default,accentColor:u=n?.accentColor??kt.accentColor.default,grayColor:f=n?.resolvedGrayColor??kt.grayColor.default,panelBackground:h=n?.panelBackground??kt.panelBackground.default,radius:p=n?.radius??kt.radius.default,scaling:v=n?.scaling??kt.scaling.default,onAppearanceChange:b=di,onAccentColorChange:S=di,onGrayColorChange:T=di,onPanelBackgroundChange:_=di,onRadiusChange:C=di,onScalingChange:A=di,...R}=e,O=o?Yp:"div",D=f==="auto"?pT(u):f,j=e.appearance==="light"||e.appearance==="dark",V=a===void 0?s||j:a;return w.createElement(jl.Provider,{value:w.useMemo(()=>({appearance:l,accentColor:u,grayColor:f,resolvedGrayColor:D,panelBackground:h,radius:p,scaling:v,onAppearanceChange:b,onAccentColorChange:S,onGrayColorChange:T,onPanelBackgroundChange:_,onRadiusChange:C,onScalingChange:A}),[l,u,f,D,h,p,v,b,S,T,_,C,A])},w.createElement(O,{"data-is-root-theme":s?"true":"false","data-accent-color":u,"data-gray-color":D,"data-has-background":V?"true":"false","data-panel-background":h,"data-radius":p,"data-scaling":v,ref:t,...R,className:kr("radix-themes",{light:l==="light",dark:l==="dark"},R.className)}))});ju.displayName="ThemeImpl";const Tm=e=>{if(!w.isValidElement(e))throw Error(`Expected a single React Element child, but got: ${w.Children.toArray(e).map(t=>typeof t=="object"&&"type"in t&&typeof t.type=="string"?t.type:typeof t).join(", ")}`);return e},gT=Yp,Ir=["0","1","2","3","4","5","6","7","8","9"],mT={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:Ir,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:Ir,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:Ir,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:Ir,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:Ir,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:Ir,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:Ir,responsive:!0}},ul=["visible","hidden","clip","scroll","auto"],vT=["static","relative","absolute","fixed","sticky"],lo=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],yT=["0","1"],bT=["0","1"],wT={...mT,...Us,...bm,position:{type:"enum",className:"rt-r-position",values:vT,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:lo,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:lo,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:lo,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:lo,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:lo,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:ul,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:ul,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:ul,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:yT,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:bT,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0}},dl=["0","1","2","3","4","5","6","7","8","9"],xT={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:dl,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:dl,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:dl,responsive:!0}},ST=["div","span"],_T=["none","inline-flex","flex"],ET=["row","column","row-reverse","column-reverse"],TT=["start","center","end","baseline","stretch"],CT=["start","center","end","between"],IT=["nowrap","wrap","wrap-reverse"],AT={as:{type:"enum",values:ST,default:"div"},...ym,display:{type:"enum",className:"rt-r-display",values:_T,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:ET,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:TT,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:CT,parseValue:kT,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:IT,responsive:!0},...xT};function kT(e){return e==="between"?"space-between":e}const Fu=w.forwardRef((e,t)=>{const{className:n,asChild:o,as:s="div",...a}=Sm(e,AT,wT,hT);return w.createElement(o?gT:s,{...a,ref:t,className:kr("rt-Flex",n)})});Fu.displayName="Flex";const RT=["1","2","3","4"],PT={...ym,size:{type:"enum",className:"rt-r-size",values:RT,default:"2",responsive:!0},width:Us.width,minWidth:Us.minWidth,maxWidth:{...Us.maxWidth,default:"480px"},...bm},Cm=e=>w.createElement(H6,{...e});Cm.displayName="Popover.Root";const Im=w.forwardRef(({children:e,...t},n)=>w.createElement(W6,{...t,ref:n,asChild:!0},Tm(e)));Im.displayName="Popover.Trigger";const Am=w.forwardRef((e,t)=>{const{className:n,forceMount:o,container:s,...a}=Sm(e,PT);return w.createElement(B6,{container:s,forceMount:o},w.createElement(_m,{asChild:!0},w.createElement(V6,{align:"start",sideOffset:8,collisionPadding:10,...a,ref:t,className:kr("rt-PopperContent","rt-PopoverContent",n)})))});Am.displayName="Popover.Content";const OT=w.forwardRef(({children:e,...t},n)=>w.createElement($6,{...t,ref:n,asChild:!0},Tm(e)));OT.displayName="Popover.Close";const MT=w.forwardRef(({children:e,...t},n)=>w.createElement(U6,{...t,ref:n}));MT.displayName="Popover.Anchor";const km=({trigger:e,children:t,...n})=>{const o=s=>{s.stopPropagation()};return m.jsxs(Cm,{...n,children:[e&&m.jsx(Im,{onClick:o,children:e}),m.jsx(Am,{maxHeight:"250px",children:t})]})},DT=({size:e,children:t})=>{const[n,o]=J.useState(!1);return m.jsxs(mg,{id:"artboard",onDragStateChange:o,style:{width:e.width,height:e.height},className:"designcombo_scene pointer-events-auto mt-3.5 bg-black",children:[m.jsx("div",{style:{width:e.width,height:e.height},className:`pointer-events-none absolute z-50 mt-3.5 transition-colors duration-200 ease-in-out ${n?"border-4 border-dashed border-white bg-white/[0.075]":"bg-transparent"} shadow-[0_0_0_5000px_#1D1D1F]`}),t]})},LT=100,NT=30,jT=18,FT=14,zT=30,HT=24,UT=16,Rm=12,WT="Regular",Pm="sans-serif",Po=188,Js=40,BT=4e3,Om=1920,Mm=1080,Dm=60,Lm=1e3/Dm,VT=2e6,$T=1e7,GT=48e3,YT=192e3,zu=2.3,XT=Om/zu,ZT=Mm/zu,KT=184,qT=348,JT=512,QT=300,eC=0,tC=5e3,nC=1,rC=0,iC=0,oC=0,sC=359,aC=1,cC=0,lC=!1,uC=!1,dC=0,fC=2,hC=.01,pC=1,gC=0,mC=3,vC=.01,yC=1,bC=0,wC=1,xC=.01,SC=.5,_C=-1e3,EC=1e3,TC=1,CC=1,IC=0,AC=1,kC=.01,RC=1,PC=0,OC=1,MC=.01,DC=0,LC=.5,NC=10,jC=.01,FC=1,zC=0,HC=1,UC=.01,WC=1,wa=16,Fl=80;function Nm(e){if(!e)return"0";const t=e/Po,n=Math.trunc(t)%60,o=Math.trunc(t/60)%60,s=Math.trunc(t/3600)%60,l=[Math.trunc(t/216e3).toString(),s.toString(),o.toString(),n.toString()];return t<60?`${l[3].padStart(2,"0")}f`:t<3600?`${l[2].padStart(1,"0")}s`:t<216e3?`${l[1].padStart(2,"0")}:${l[2].padStart(2,"0")}`:`${l[0].padStart(2,"0")}:${l[1].padStart(2,"0")}:${l[2].padStart(2,"0")}`}function BC(e,t=!1){if(!e)return"00:00";const o=1e3/60;if(e<1e3)return t?`${Math.floor(e/o)}f`:`${(e/1e3).toFixed(1)}s`;const s=Math.floor(e/1e3);if(s<60)return`${s}s`;const a=Math.floor(s/60);if(a<60){const h=s%60;return`${a.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`}const l=Math.floor(a/60),u=a%60,f=s%60;return`${l.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`}function bo(e,t){return e.map(n=>({...n,items:n.items.filter(o=>!t.includes(o))}))}const jm=({frame:e},{fps:t})=>{const n=e/t,o=Math.floor(n/3600),s=n%3600,a=Math.floor(s/60),l=Math.floor(s%60),u=Math.floor((s-Math.floor(s))*100);return o>0?`${o}:${a.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`:`${a.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`},Fm=({time:e})=>{const t=e/1e3,n=Math.floor(t/3600),o=t%3600,s=Math.floor(o/60),a=Math.floor(o%60),l=Math.floor((o-Math.floor(o))*100);return n>0?`${n}:${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`:`${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`},zm=()=>{const e=document.getElementById("video-current-time");return(e?parseFloat(e.getAttribute("data-current-time")??""):0)*1e3},tn=[{index:0,unit:18e3,zoom:1/18e3,segments:5},{index:1,unit:10800,zoom:1/10800,segments:3},{index:2,unit:7200,zoom:1/7200,segments:2},{index:3,unit:3600,zoom:1/3600,segments:1},{index:4,unit:1800,zoom:1/1800,segments:2},{index:5,unit:900,zoom:1/900,segments:3},{index:6,unit:600,zoom:1/600,segments:2},{index:7,unit:300,zoom:1/300,segments:5},{index:8,unit:180,zoom:1/180,segments:3},{index:9,unit:120,zoom:1/120,segments:10},{index:10,unit:60,zoom:1/60,segments:5},{index:11,unit:60,zoom:1/60,segments:5},{index:12,unit:30,zoom:1/30,segments:2},{index:13,unit:15,zoom:1/15,segments:3},{index:14,unit:10,zoom:1/10,segments:2},{index:15,unit:5,zoom:1/5,segments:5},{index:16,unit:3,zoom:1/3,segments:3},{index:17,unit:2,zoom:1/2,segments:5},{index:18,unit:1,zoom:1,segments:5},{index:19,unit:1,zoom:2,segments:5},{index:20,unit:1,zoom:4,segments:10}];function Hu(e,t){let n=-1,o=e.length-1;for(;1+n<o;){const s=n+(o-n>>1);t(e[s],s,e)?o=s:n=s}return o}function VC(e,t=1){const n=()=>{const f=Math.max(0,Js),p=document.getElementById("designcombo-timeline-canvas")?.offsetWidth??document.body.offsetWidth;return Math.max(1,p-f)},o=()=>typeof e=="number"?qe(e,t):$m(e,t),s=n()/o(),a=t*s;return{segments:5,index:Hu(tn,u=>u.zoom>a),zoom:a,unit:1/a}}function $C(e){return tn[e]}function Hm(e){return Um(e)||tn[0]}const Um=e=>{const t=tn.filter(o=>o.zoom<e.zoom);return t.length===0?null:t.reduce((o,s)=>s.zoom>o.zoom?s:o)},Wm=e=>{const t=tn.filter(o=>o.zoom>e.zoom);return t.length===0?null:t.reduce((o,s)=>s.zoom<o.zoom?s:o)};function Bm(e){return Wm(e)||tn[tn.length-1]}function GC(e){const t=tn.at(-1),n=e===t,s=Vm(e)-(n?1:2);return Math.max(0,s)}function Vm(e){const t=Hu(tn,n=>n.zoom>e.zoom);return Math.min(tn.length-1,t)}function qe(e,t=1,n=1){const o=Po*t;return e*(60/1e3)*o/n}function Bt(e,t=1){const n=Po*t;return e/n*Lm}function $m(e,t=1){return qe(e,t)}const YC=Math.floor(Math.random()*1e3)+1;function Uu(e,t=1){const n=[],o=Math.floor(t),s=(a,l)=>{for(const u of a)Array.isArray(u)&&l<o?s(u,l+1):n.push(u)};return s(e,0),n}function Wu(e,t){const n=t.sort((s,a)=>s.tempIndex-a.tempIndex),o=[];for(const s of n)s.tempIndex<0&&o.push(s);o.push(e);for(const s of n)s.tempIndex>=0&&o.push(s);return o}const zl={id:"font_UwdNKSyVq2iiMiuHSRRsUIOu",family:"Roboto",fullName:"Roboto Bold",postScriptName:"Roboto-Bold",preview:"https://ik.imagekit.io/lh/fonts/v2/5zQgS86djScKA0ri67BBCqW7.png",style:"Roboto-Bold",url:"https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmWUlvAx05IsDqlA.ttf",category:"sans-serif",createdAt:"2023-06-20T04:42:55.909Z",updatedAt:"2023-06-20T04:42:55.909Z",userId:null},Gm=e=>{const t=e.map(n=>new FontFace(n.fontFamily,`url(${n.fontUrl})`).load());return t.length===0?Promise.resolve(!0):new Promise((n,o)=>{Promise.all(t).then(s=>{s.forEach(a=>{a instanceof FontFace&&a.family&&(document.fonts.add(a),n(!0))})}).catch(s=>{o(s)})})},mn=Wp.create(e=>({timeline:null,size:{width:1080,height:1920},aspectRatio:16/9,duration:5e3,fps:30,scale:{index:7,unit:300,zoom:1/300,segments:5},scroll:{left:0,top:0},playerRef:null,activeIds:[],targetIds:[],tracks:[],trackItemIds:[],transitionIds:[],transitionsMap:{},trackItemDetailsMap:{},trackItemsMap:{},setTimeline:t=>{e(()=>({timeline:t}))},setScale:t=>{e(()=>({scale:t}))},setScroll:t=>{e(()=>({scroll:t}))},setState:async t=>{e({...t})},setPlayerRef:t=>{e({playerRef:t})}}));/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ym=(...e)=>e.filter((t,n,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=J.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:s="",children:a,iconNode:l,...u},f)=>J.createElement("svg",{ref:f,...ZC,width:t,height:t,stroke:e,strokeWidth:o?Number(n)*24/Number(t):n,className:Ym("lucide",s),...u},[...l.map(([h,p])=>J.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(e,t)=>{const n=J.forwardRef(({className:o,...s},a)=>J.createElement(KC,{ref:a,iconNode:t,className:Ym(`lucide-${XC(e)}`,o),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=ue("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=ue("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=ue("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=ue("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=ue("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=ue("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=ue("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=ue("FolderClosed",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=ue("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ue("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=ue("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=ue("LayoutPanelLeft",[["rect",{width:"7",height:"18",x:"3",y:"3",rx:"1",key:"2obqm"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=ue("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ue("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=ue("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=ue("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=ue("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=ue("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=ue("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=ue("RectangleVertical",[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=ue("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=ue("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=ue("SquareSplitHorizontal",[["path",{d:"M8 19H5c-1 0-2-1-2-2V7c0-1 1-2 2-2h3",key:"lubmu8"}],["path",{d:"M16 5h3c1 0 2 1 2 2v10c0 1-1 2-2 2h-3",key:"1ag34g"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=ue("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=ue("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=ue("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=ue("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=ue("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=ue("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=ue("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=ue("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=ue("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),xa=e=>{const t=J.useCallback(o=>{if(!e?.current)return()=>{};const s=()=>{o()};return e.current.addEventListener("frameupdate",s),()=>{e.current&&e.current.removeEventListener("frameupdate",s)}},[e]);return J.useSyncExternalStore(t,()=>e?.current?.getCurrentFrame()??0,()=>0)},Oo=()=>{const[e,t]=J.useState(!1);return J.useEffect(()=>{const o=we.subject.pipe(Dn(({key:s})=>s.startsWith(sg))).subscribe(s=>{s.key===vu?t(!0):s.key===mo&&t(!1)});return()=>o.unsubscribe()},[]),e},qm=()=>{const[e,t]=J.useState(!1),{duration:n,fps:o,scale:s,playerRef:a,activeIds:l}=mn(),u=xa(a),f=()=>{we.dispatch(uu)},h=()=>{we.dispatch(fu,{payload:{},options:{time:zm()}})},p=S=>{we.dispatch(mu,{payload:{scale:S}})},v=()=>{we.dispatch(cu)},b=()=>{we.dispatch(lu)};return J.useEffect(()=>(a?.current?.addEventListener("play",()=>{t(!0)}),a?.current?.addEventListener("pause",()=>{t(!1)}),()=>{a?.current?.removeEventListener("play",()=>{t(!0)}),a?.current?.removeEventListener("pause",()=>{t(!1)})}),[a]),m.jsx("div",{style:{position:"relative",height:"50px",boxShadow:"inset 0 1px 0 0 #27272a",flex:"none"},className:"bg-background",children:m.jsx("div",{style:{position:"absolute",height:50,width:"100%",display:"flex",alignItems:"center"},children:m.jsxs("div",{style:{height:36,width:"100%",display:"grid",gridTemplateColumns:"1fr 260px 1fr",alignItems:"center"},children:[m.jsxs("div",{className:"flex px-2",children:[m.jsxs(Ue,{disabled:!l.length,onClick:f,variant:"ghost",size:"sm",className:"flex items-center gap-1 px-2",children:[m.jsx(Zm,{size:14})," Delete"]}),m.jsxs(Ue,{disabled:!l.length,onClick:h,variant:"ghost",size:"sm",className:"flex items-center gap-1 px-2",children:[m.jsx(vp,{size:15})," Split"]}),m.jsxs(Ue,{disabled:!l.length,onClick:()=>{we.dispatch(du)},variant:"ghost",size:"sm",className:"flex items-center gap-1 px-2",children:[m.jsx(vp,{size:15})," Clone"]})]}),m.jsxs("div",{className:"flex items-center justify-center",children:[m.jsxs("div",{children:[m.jsx(Ue,{onClick:f,variant:"ghost",size:"icon",children:m.jsx(I7,{size:14})}),m.jsx(Ue,{onClick:()=>{if(e)return b();v()},variant:"ghost",size:"icon",children:e?m.jsx(b7,{size:14}):m.jsx(w7,{size:14})}),m.jsx(Ue,{onClick:h,variant:"ghost",size:"icon",children:m.jsx(A7,{size:14})})]}),m.jsxs("div",{className:"text-xs font-light",style:{display:"grid",alignItems:"center",gridTemplateColumns:"54px 4px 54px",paddingTop:"2px",justifyContent:"center"},children:[m.jsx("div",{className:"font-medium text-zinc-200",style:{display:"flex",justifyContent:"center"},"data-current-time":u/o,id:"video-current-time",children:jm({frame:u},{fps:o})}),m.jsx("span",{children:"/"}),m.jsx("div",{className:"text-muted-foreground",style:{display:"flex",justifyContent:"center"},children:Fm({time:n})})]})]}),m.jsx(F7,{scale:s,onChangeTimelineScale:p,duration:n})]})})})},F7=({scale:e,onChangeTimelineScale:t,duration:n})=>{const o=()=>{const a=Hm(e);t(a)},s=()=>{const a=Bm(e);t(a)};return m.jsx("div",{className:"flex items-center justify-end",children:m.jsxs("div",{className:"flex border-l border-border pl-4 pr-2",children:[m.jsx(Ue,{size:"icon",variant:"ghost",onClick:o,disabled:e.index===0,children:m.jsx(j7,{size:16})}),m.jsx(Ue,{size:"icon",variant:"ghost",onClick:s,disabled:e.index===20,children:m.jsx(N7,{size:16})})]})})},Jm=[{id:"111",details:{src:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/generated/voiceover/2025/2/20/18\\KhDhy5qKkppcfCMWV9md5w.mpeg",text:"Voiceover"},name:"Super",type:"audio",metadata:{author:"Adilet"},display:{from:0}},{id:"222",details:{src:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/generated/voiceover/2025/2/20/18\\SQCTWQnVjRBzbUjCMyZd32.mpeg",text:"Voiceover"},name:"Super",type:"audio",metadata:{author:"Adilet2"},display:{from:0}},{id:"1",details:{src:"https://cdn.designcombo.dev/audio/Dawn%20of%20change.mp3",text:"Voiceover"},name:"Dawn of change",type:"audio",metadata:{author:"Roman Senyk"},display:{from:3e3}},{id:"2",details:{src:"https://cdn.designcombo.dev/audio/Hope.mp3"},name:"Hope",type:"audio",metadata:{author:"Hugo Dujardin"}},{id:"3",details:{src:"https://cdn.designcombo.dev/audio/Tenderness.mp3"},name:"Tenderness",type:"audio",metadata:{author:"Benjamin Tissot"}},{id:"4",details:{src:"https://cdn.designcombo.dev/audio/Piano%20Moment.mp3"},name:"Piano moment",type:"audio",metadata:{author:"Benjamin Tissot"}}],Qm=[{id:"1",details:{src:"https://ik.imagekit.io/wombo/images/img1.jpg"},preview:"https://ik.imagekit.io/wombo/images/img1.jpg?tr=w-190",type:"image"},{id:"2",details:{src:"https://ik.imagekit.io/wombo/images/img2.jpg"},preview:"https://ik.imagekit.io/wombo/images/img2.jpg?tr=w-190",type:"image"},{id:"3",details:{src:"https://ik.imagekit.io/wombo/images/img3.jpg"},preview:"https://ik.imagekit.io/wombo/images/img3.jpg?tr=w-190",type:"image"},{id:"4",details:{src:"https://ik.imagekit.io/wombo/images/img4.jpg"},preview:"https://ik.imagekit.io/wombo/images/img4.jpg?tr=w-190",type:"image"},{id:"5",details:{src:"https://ik.imagekit.io/wombo/images/img5.jpg"},preview:"https://ik.imagekit.io/wombo/images/img5.jpg?tr=w-190",type:"image"},,{id:"6",details:{src:"https://ik.imagekit.io/wombo/images/img6.jpg"},preview:"https://ik.imagekit.io/wombo/images/img6.jpg?tr=w-190",type:"image"},{id:"7",details:{src:"https://ik.imagekit.io/wombo/images/img7.jpg"},preview:"https://ik.imagekit.io/wombo/images/img7.jpg?tr=w-190",type:"image"}],e0=[{id:"11",details:{src:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/generated/video/2025/2/20/19\\fdcKLDioCK6fNMFSaV9no9.mp4",text:"Video"},type:"video",preview:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/uploaded/image/2025/2/20/19\\MjU9BA9oBAcasKPWW89oAq.webp",display:{from:0}},{id:"22",details:{src:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/generated/video/2025/2/20/19\\NarjF5LQKZ3RE8cg5BAEZa.mp4",text:"Video"},type:"video",preview:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/uploaded/image/2025/2/20/19\\br3G6fanEMrVZCXAmYpWdL.webp",display:{from:0}},{id:"33",details:{src:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/generated/video/2025/2/20/19\\LUB9JnQSSeVJdzRrq8PnAr.mp4",text:"Video"},type:"video",preview:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/uploaded/image/2025/2/20/19\\N8SF2nTVffFxn8fwA7VZZM.webp",display:{from:0}},{id:"1",details:{src:"https://cdn.designcombo.dev/videos/demo-video-1.mp4",text:"Scene"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-1.png",duration:17e3,display:{from:3e3}},{id:"2",details:{src:"https://cdn.designcombo.dev/videos/demo-video-2.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-2.png"},{id:"3",details:{src:"https://cdn.designcombo.dev/videos/demo-video-3.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-3.png",duration:2e4},{id:"4",details:{src:"https://cdn.designcombo.dev/videos/demo-video-4.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-4.png",duration:2e4},{id:"5",details:{src:"https://cdn.designcombo.dev/videos/demo-video-5.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-5.png",duration:23e3},{id:"6",details:{src:"https://cdn.designcombo.dev/videos/demo-video-6.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-6.png",duration:1e4},{id:"7",details:{src:"https://cdn.designcombo.dev/videos/demo-video-7.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-7.png",duration:12e3},{id:"8",details:{src:"https://cdn.designcombo.dev/videos/demo-video-8.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-8.png",duration:15e3},{id:"9",details:{src:"https://cdn.designcombo.dev/videos/demo-video-9.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-9.png",duration:15e3},{id:"10",details:{src:"https://cdn.designcombo.dev/videos/demo-video-10.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-10.png",duration:5e3},{id:"11",details:{src:"https://cdn.designcombo.dev/videos/demo-video-11.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-11.png",duration:5e3}],t0=[{id:"1",kind:"none",duration:0,preview:"https://ik.imagekit.io/wombo/transitions-v2/transition-none.png",type:"transition"},{id:"2",kind:"fade",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/fade.webp",type:"transition"},{id:"3",kind:"slide",name:"slide up",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/slide-up.webp",type:"transition",direction:"from-bottom"},{id:"4",kind:"slide",name:"slide down",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/slide-down.webp",type:"transition",direction:"from-top"},{id:"5",kind:"slide",name:"slide left",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/slide-left.webp",type:"transition",direction:"from-right"},{id:"6",kind:"slide",name:"slide right",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/slide-right.webp",type:"transition",direction:"from-left"},{id:"7",kind:"wipe",name:"wipe up",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/wipe-up.webp",type:"transition",direction:"from-bottom"},{id:"8",kind:"wipe",name:"wipe down",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/wipe-down.webp",type:"transition",direction:"from-top"},{id:"9",kind:"wipe",name:"wipe left",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/wipe-left.webp",type:"transition",direction:"from-right"},{id:"10",kind:"wipe",name:"wipe right",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/wipe-right.webp",type:"transition",direction:"from-left"},{id:"11",kind:"flip",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/flip.webp",type:"transition"},{id:"12",kind:"clockWipe",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/clock-wipe.webp",type:"transition"},{id:"13",kind:"star",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/star.webp",type:"transition"},{id:"14",kind:"circle",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/circle.webp",type:"transition"},{id:"15",kind:"rectangle",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/rectangle.webp",type:"transition"}],z7=[{id:"1",src:"https://ik.imagekit.io/snapmotion/upload-video-1.mp4",type:"video"},{id:"2",src:"https://ik.imagekit.io/snapmotion/upload-video-2.mp4",type:"video"},{id:"3",src:"https://ik.imagekit.io/snapmotion/upload-video-3.mp4",type:"video"}],H7=()=>{const e=Oo();return m.jsxs("div",{className:"flex flex-1 flex-col overflow-auto",children:[m.jsx("div",{className:"text-text-primary flex h-12 flex-none items-center px-4 text-sm font-medium",children:"Transitions"}),m.jsx(Fr,{children:m.jsx("div",{className:"grid grid-cols-3 gap-2 px-4",children:t0.map((t,n)=>m.jsx(U7,{transition:t,shouldDisplayPreview:!e},n))})})]})},U7=({transition:e,shouldDisplayPreview:t})=>{const n=J.useMemo(()=>({backgroundImage:`url(${e.preview})`,backgroundSize:"cover",width:"70px",height:"70px"}),[e.preview]);return m.jsx(Ao,{data:e,renderCustomPreview:m.jsx("div",{style:n}),shouldDisplayPreview:t,children:m.jsxs("div",{children:[m.jsx("div",{children:m.jsx("div",{style:n,draggable:!1})}),m.jsx("div",{className:"flex h-6 items-center overflow-ellipsis text-nowrap text-[12px] capitalize text-muted-foreground",children:e.name||e.type})]})})},W7=()=>{const e=()=>{we.dispatch(au,{payload:{id:nt(),display:{from:0,to:5e3},details:{text:"Heading and some body",fontSize:120,width:600,fontUrl:zl.url,fontFamily:zl.postScriptName,color:"#ffffff",wordWrap:"break-word",textAlign:"center",borderWidth:0,borderColor:"#000000",boxShadow:{color:"#ffffff",x:0,y:0,blur:0}}},options:{}})};return m.jsxs("div",{className:"flex flex-1 flex-col",children:[m.jsx("div",{className:"text-text-primary flex h-12 flex-none items-center px-4 text-sm font-medium",children:"Text"}),m.jsx("div",{className:"flex flex-col gap-2 px-4",children:m.jsx(Ue,{draggable:!1,onClick:e,variant:"secondary",className:"w-full",children:"Add text"})})]})},B7=()=>{const e=J.useRef(null),t=o=>{n(o)},n=async o=>{const s=o[0].type;s.includes("audio")&&we.dispatch(Ei,{payload:{id:nt(),details:{src:URL.createObjectURL(o[0]),volume:50}}}),s.includes("video")&&we.dispatch(_i,{payload:{id:nt(),display:{from:2e3,to:7e3},details:{src:URL.createObjectURL(o[0]),name:o[0].name}}}),s.includes("image")&&we.dispatch(Ti,{payload:{id:nt(),details:{src:URL.createObjectURL(o[0])}}})};return m.jsxs("div",{className:"flex flex-1 flex-col",children:[m.jsx("div",{className:"text-text-primary flex h-12 flex-none items-center px-4 text-sm font-medium",children:"Your media"}),m.jsx("input",{ref:e,id:"file-upload-handle",type:"file",accept:"audio/*,video/*,image/*",onChange:o=>t(Array.from(o.target.files||[])),className:"hidden"}),m.jsx("div",{className:"px-4 py-2",children:m.jsx("div",{children:m.jsxs(K1,{defaultValue:"projects",className:"w-full",children:[m.jsxs(su,{className:"grid w-full grid-cols-2",children:[m.jsx($s,{value:"projects",children:"Project"}),m.jsx($s,{value:"workspace",children:"Workspace"})]}),m.jsxs(Gs,{value:"projects",children:[m.jsxs(Ue,{onClick:()=>{e.current?.click()},className:"flex w-full gap-2",variant:"secondary",children:[m.jsx(bp,{size:16})," Upload"]}),m.jsx("div",{})]}),m.jsx(Gs,{value:"workspace",children:m.jsxs(Ue,{onClick:()=>{e.current?.click()},className:"flex w-full gap-2",variant:"secondary",children:[m.jsx(bp,{size:16})," Upload"]})})]})})}),m.jsx(Fr,{children:m.jsx("div",{className:"masonry-sm px-4"})})]})},V7=()=>{const e=Oo(),t=n=>{we.dispatch(Ei,{payload:n,options:{}})};return m.jsxs("div",{className:"flex flex-1 flex-col",children:[m.jsx("div",{className:"text-text-primary flex h-12 flex-none items-center px-4 text-sm font-medium",children:"Audios"}),m.jsx(Fr,{children:m.jsx("div",{className:"flex flex-col px-2",children:Jm.map((n,o)=>m.jsx($7,{shouldDisplayPreview:!e,handleAddAudio:t,audio:n},o))})})]})},$7=({handleAddAudio:e,audio:t,shouldDisplayPreview:n})=>{const o=J.useMemo(()=>({backgroundImage:"url(https://cdn.designcombo.dev/thumbnails/music-preview.png)",backgroundSize:"cover",width:"70px",height:"70px"}),[]);return m.jsx(Ao,{data:t,renderCustomPreview:m.jsx("div",{style:o}),shouldDisplayPreview:n,children:m.jsxs("div",{draggable:!1,onClick:()=>e(t),style:{display:"grid",gridTemplateColumns:"48px 1fr"},className:"flex cursor-pointer gap-4 px-2 py-1 text-sm hover:bg-zinc-800/70",children:[m.jsx("div",{className:"flex h-12 items-center justify-center bg-zinc-800",children:m.jsx(Xm,{width:16})}),m.jsxs("div",{className:"flex flex-col justify-center",children:[m.jsx("div",{children:t.name}),m.jsx("div",{className:"text-zinc-400",children:t.metadata?.author})]})]})})},G7=()=>{const e=Oo(),t=n=>{we.dispatch(Ti,{payload:n,options:{trackId:"main"}})};return m.jsxs("div",{className:"flex flex-1 flex-col",children:[m.jsx("div",{className:"text-text-primary flex h-12 flex-none items-center px-4 text-sm font-medium",children:"Photos"}),m.jsx(Fr,{children:m.jsx("div",{className:"masonry-sm px-4",children:Qm.map((n,o)=>m.jsx(Y7,{image:n,shouldDisplayPreview:!e,handleAddImage:t},o))})})]})},Y7=({handleAddImage:e,image:t,shouldDisplayPreview:n})=>{const o=J.useMemo(()=>({backgroundImage:`url(${t.preview})`,backgroundSize:"cover",width:"80px",height:"80px"}),[t.preview]);return m.jsx(Ao,{data:t,renderCustomPreview:m.jsx("div",{style:o}),shouldDisplayPreview:n,children:m.jsx("div",{onClick:()=>e({id:nt(),details:{src:t.details.src}}),className:"flex w-full items-center justify-center overflow-hidden bg-background pb-2",children:m.jsx("img",{draggable:!1,src:t.preview,className:"h-full w-full rounded-md object-cover",alt:"image"})})})},X7=()=>{const e=Oo(),t=n=>{we.dispatch(_i,{payload:n,options:{resourceId:"main"}})};return m.jsxs("div",{className:"flex flex-1 flex-col",children:[m.jsx("div",{className:"text-text-primary flex h-12 flex-none items-center px-4 text-sm font-medium",children:"Videos"}),m.jsx(Fr,{children:m.jsx("div",{className:"masonry-sm px-4",children:e0.map((n,o)=>m.jsx(Z7,{video:n,shouldDisplayPreview:!e,handleAddVideo:t},o))})})]})},Z7=({handleAddVideo:e,video:t,shouldDisplayPreview:n})=>{const o=J.useMemo(()=>({backgroundImage:`url(${t.preview})`,backgroundSize:"cover",width:"80px",height:"80px"}),[t.preview]);return m.jsx(Ao,{data:t,renderCustomPreview:m.jsx("div",{style:o,className:"draggable"}),shouldDisplayPreview:n,children:m.jsx("div",{onClick:()=>e({...t,id:nt(),details:{src:t.details.src,...t.details}}),className:"flex w-full items-center justify-center overflow-hidden bg-background pb-2",children:m.jsx("img",{draggable:!1,src:t.preview,className:"h-full w-full rounded-md object-cover",alt:"image"})})})},Sa=Wp.create(e=>({activeMenuItem:null,showMenuItem:!1,cropTarget:null,showControlItem:!1,showToolboxItem:!1,activeToolboxItem:null,setCropTarget:t=>e({cropTarget:t}),setActiveMenuItem:t=>e({activeMenuItem:t}),setShowMenuItem:t=>e({showMenuItem:t}),setShowControlItem:t=>e({showControlItem:t}),setShowToolboxItem:t=>e({showToolboxItem:t}),setActiveToolboxItem:t=>e({activeToolboxItem:t})})),K7=({children:e})=>{const{showMenuItem:t,setShowMenuItem:n}=Sa(),o=()=>{n(!1)};return m.jsxs("div",{style:{left:t?"0":"-100%",transition:"left 0.25s ease-in-out",zIndex:200},className:"absolute top-1/2 mt-6 flex h-[calc(100%-32px-64px)] w-[340px] -translate-y-1/2 rounded-lg shadow-lg",children:[m.jsx("div",{className:"w-[74px]"}),m.jsxs("div",{className:"relative flex flex-1 bg-background/80 backdrop-blur-lg backdrop-filter",children:[m.jsx(Ue,{variant:"ghost",className:"absolute right-2 top-2 h-8 w-8 text-muted-foreground",size:"icon",children:m.jsx(Km,{width:16,onClick:o})}),e]})]})},q7=()=>{const{activeMenuItem:e}=Sa();return e==="transitions"?m.jsx(H7,{}):e==="texts"?m.jsx(W7,{}):e==="videos"?m.jsx(X7,{}):e==="audios"?m.jsx(V7,{}):e==="images"?m.jsx(G7,{}):e==="uploads"?m.jsx(B7,{}):null},n0=()=>m.jsx(K7,{children:m.jsx(q7,{})}),dn={add:x7,audio:Xm,arrowRight:qC,arrowUpRight:JC,billing:a7,bookOpen:QC,captions:e7,chevronLeft:r7,chevronRight:i7,check:n7,close:Km,copy:s7,dashboard:p7,ellipsis:c7,folder:d7,gitHub:({...e})=>m.jsx("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"github",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...e,children:m.jsx("path",{fill:"currentColor",d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})}),google:({...e})=>m.jsx("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",...e,children:m.jsx("path",{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z",fill:"currentColor"})}),nextjs:({...e})=>m.jsx("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"nextjs",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15",...e,children:m.jsx("path",{fill:"currentColor",d:"m4.5 4.5l.405-.293A.5.5 0 0 0 4 4.5zm3 9.5A6.5 6.5 0 0 1 1 7.5H0A7.5 7.5 0 0 0 7.5 15zM14 7.5A6.5 6.5 0 0 1 7.5 14v1A7.5 7.5 0 0 0 15 7.5zM7.5 1A6.5 6.5 0 0 1 14 7.5h1A7.5 7.5 0 0 0 7.5 0zm0-1A7.5 7.5 0 0 0 0 7.5h1A6.5 6.5 0 0 1 7.5 1zM5 12V4.5H4V12zm-.905-7.207l6.5 9l.81-.586l-6.5-9zM10 4v6h1V4z"})}),help:o7,home:f7,image:mp,landscape:_7,laptop:h7,lineChart:t7,logo:S7,media:mp,messages:m7,moon:v7,package:y7,page:u7,portrait:E7,post:l7,preset:L7,search:T7,square:k7,redo:({...e})=>m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2957 4.15721C13.9052 3.76669 13.9052 3.13352 14.2957 2.743C14.6862 2.35247 15.3194 2.35247 15.7099 2.743L20.953 7.98603C21.1387 8.16758 21.2539 8.42087 21.2539 8.70108C21.2539 8.70111 21.2539 8.70114 21.2539 8.70117C21.2539 8.70431 21.2539 8.70744 21.2539 8.71057C21.2518 8.93273 21.1773 9.13757 21.0528 9.30262C21.0249 9.33973 20.9942 9.37505 20.961 9.40828L15.7099 14.6593C15.3194 15.0499 14.6862 15.0499 14.2957 14.6593C13.9052 14.2688 13.9052 13.6357 14.2957 13.2451L17.8398 9.70108H9.22665C8.59943 9.70108 7.97836 9.82462 7.39888 10.0646C6.81941 10.3047 6.29289 10.6565 5.84938 11.1C5.40587 11.5435 5.05406 12.07 4.81403 12.6495C4.57401 13.229 4.45047 13.85 4.45047 14.4773C4.45047 15.1045 4.57401 15.7256 4.81403 16.305C5.05406 16.8845 5.40587 17.411 5.84938 17.8545C6.29289 18.298 6.81941 18.6498 7.39888 18.8899C7.97836 19.1299 8.59943 19.2534 9.22665 19.2534H12.9024C13.4547 19.2534 13.9024 19.7012 13.9024 20.2534C13.9024 20.8057 13.4547 21.2534 12.9024 21.2534H9.22665C8.33679 21.2534 7.45564 21.0782 6.63352 20.7376C5.81139 20.3971 5.06439 19.898 4.43517 19.2687C3.80594 18.6395 3.30681 17.8925 2.96627 17.0704C2.62574 16.2483 2.45047 15.3671 2.45047 14.4773C2.45047 13.5874 2.62574 12.7063 2.96627 11.8841C3.30681 11.062 3.80594 10.315 4.43517 9.68578C5.06439 9.05655 5.81139 8.55742 6.63352 8.21689C7.45564 7.87635 8.33679 7.70108 9.22665 7.70108H17.8396L14.2957 4.15721Z",fill:"currentColor"})}),shapes:({...e})=>m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[m.jsx("g",{clipPath:"url(#clip0_2077_2705)",children:m.jsx("path",{d:"M3.75 12H2.25V20.25C2.25 20.6478 2.40804 21.0294 2.68934 21.3107C2.97064 21.592 3.35218 21.75 3.75 21.75H9.75V20.25H3.75V12ZM21 21.75H12.75C12.6197 21.75 12.4916 21.716 12.3784 21.6514C12.2652 21.5868 12.1708 21.4938 12.1045 21.3816C12.0382 21.2694 12.0022 21.1419 12.0002 21.0116C11.9982 20.8813 12.0302 20.7527 12.093 20.6385L16.218 13.1385C16.2821 13.0203 16.377 12.9218 16.4928 12.8534C16.6085 12.7849 16.7406 12.7492 16.875 12.75C17.1322 12.75 17.3895 12.879 17.532 13.1385L21.657 20.6385C21.7198 20.7527 21.7518 20.8813 21.7498 21.0116C21.7478 21.1419 21.7118 21.2694 21.6455 21.3816C21.5792 21.4938 21.4848 21.5868 21.3716 21.6514C21.2584 21.716 21.1303 21.75 21 21.75ZM14.0182 20.25H19.7318L16.875 15.0563L14.0182 20.25ZM20.25 2.25H12V3.75H20.25V14.244H21.75V3.75C21.75 3.35218 21.592 2.97064 21.3107 2.68934C21.0294 2.40804 20.6478 2.25 20.25 2.25ZM8.25 2.25H3.75C3.35218 2.25 2.97064 2.40804 2.68934 2.68934C2.40804 2.97064 2.25 3.35218 2.25 3.75V8.25C2.25 8.64782 2.40804 9.02936 2.68934 9.31066C2.97064 9.59196 3.35218 9.75 3.75 9.75H8.25C8.64782 9.75 9.02936 9.59196 9.31066 9.31066C9.59196 9.02936 9.75 8.64782 9.75 8.25V3.75C9.75 3.35218 9.59196 2.97064 9.31066 2.68934C9.02936 2.40804 8.64782 2.25 8.25 2.25ZM8.25 8.25H3.75V3.75H8.25V8.25Z",fill:"currentColor"})}),m.jsx("defs",{children:m.jsx("clipPath",{id:"clip0_2077_2705",children:m.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}),settings:C7,smart:D7,spinner:g7,sun:R7,templates:({...e})=>m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[m.jsx("g",{clipPath:"url(#clip0_2077_2714)",children:m.jsx("path",{d:"M19.5 4.5V7.5H4.5V4.5H19.5ZM19.5 3H4.5C4.10218 3 3.72064 3.15804 3.43934 3.43934C3.15804 3.72064 3 4.10218 3 4.5V7.5C3 7.89782 3.15804 8.27936 3.43934 8.56066C3.72064 8.84196 4.10218 9 4.5 9H19.5C19.8978 9 20.2794 8.84196 20.5607 8.56066C20.842 8.27936 21 7.89782 21 7.5V4.5C21 4.10218 20.842 3.72064 20.5607 3.43934C20.2794 3.15804 19.8978 3 19.5 3ZM7.5 12V19.5H4.5V12H7.5ZM7.5 10.5H4.5C4.10218 10.5 3.72064 10.658 3.43934 10.9393C3.15804 11.2206 3 11.6022 3 12V19.5C3 19.8978 3.15804 20.2794 3.43934 20.5607C3.72064 20.842 4.10218 21 4.5 21H7.5C7.89782 21 8.27936 20.842 8.56066 20.5607C8.84196 20.2794 9 19.8978 9 19.5V12C9 11.6022 8.84196 11.2206 8.56066 10.9393C8.27936 10.658 7.89782 10.5 7.5 10.5ZM19.5 12V19.5H12V12H19.5ZM19.5 10.5H12C11.6022 10.5 11.2206 10.658 10.9393 10.9393C10.658 11.2206 10.5 11.6022 10.5 12V19.5C10.5 19.8978 10.658 20.2794 10.9393 20.5607C11.2206 20.842 11.6022 21 12 21H19.5C19.8978 21 20.2794 20.842 20.5607 20.5607C20.842 20.2794 21 19.8978 21 19.5V12C21 11.6022 20.842 11.2206 20.5607 10.9393C20.2794 10.658 19.8978 10.5 19.5 10.5Z",fill:"currentColor"})}),m.jsx("defs",{children:m.jsx("clipPath",{id:"clip0_2077_2714",children:m.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}),text:yp,trash:Zm,twitter:({...e})=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"twitter",role:"img",...e,children:m.jsx("path",{d:"M14.258 10.152L23.176 0h-2.113l-7.747 8.813L7.133 0H0l9.352 13.328L0 23.973h2.113l8.176-9.309 6.531 9.309h7.133zm-2.895 3.293l-.949-1.328L2.875 1.56h3.246l6.086 8.523.945 1.328 7.91 11.078h-3.246zm0 0",fill:"currentColor"})}),type:yp,undo:({...e})=>m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.60387 4.30711C9.99439 3.91659 9.99439 3.28342 9.60387 2.8929C9.21334 2.50238 8.58018 2.50237 8.18965 2.8929L2.8925 8.19004C2.70497 8.37758 2.59961 8.63193 2.59961 8.89715C2.59961 9.16237 2.70497 9.41672 2.8925 9.60426L8.18965 14.9014C8.58018 15.2919 9.21334 15.2919 9.60387 14.9014C9.99439 14.5109 9.99439 13.8777 9.60387 13.4872L5.86478 9.7481H15.1044C15.7383 9.7481 16.366 9.87295 16.9516 10.1155C17.5372 10.3581 18.0693 10.7136 18.5176 11.1619C18.9658 11.6101 19.3213 12.1422 19.5639 12.7278C19.8065 13.3134 19.9313 13.9411 19.9313 14.575C19.9313 15.2088 19.8065 15.8365 19.5639 16.4221C19.3213 17.0077 18.9658 17.5398 18.5176 17.9881C18.0693 18.4363 17.5372 18.7918 16.9516 19.0344C16.366 19.277 15.7383 19.4018 15.1044 19.4018H11.3964C10.8442 19.4018 10.3964 19.8495 10.3964 20.4018C10.3964 20.9541 10.8442 21.4018 11.3964 21.4018H15.1044C16.001 21.4018 16.8887 21.2252 17.717 20.8822C18.5452 20.5391 19.2978 20.0362 19.9318 19.4023C20.5657 18.7683 21.0686 18.0158 21.4116 17.1875C21.7547 16.3592 21.9313 15.4715 21.9313 14.575C21.9313 13.6784 21.7547 12.7907 21.4116 11.9624C21.0686 11.1342 20.5657 10.3816 19.9318 9.74764C19.2978 9.11371 18.5452 8.61085 17.717 8.26777C16.8887 7.92469 16.001 7.7481 15.1044 7.7481H6.16287L9.60387 4.30711Z",fill:"currentColor"})}),upload:({...e})=>m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[m.jsxs("g",{clipPath:"url(#clip0_2077_2699)",children:[m.jsx("path",{d:"M8.25 13.5L9.3075 14.5575L11.25 12.6225V21.75H12.75V12.6225L14.6925 14.5575L15.75 13.5L12 9.75L8.25 13.5Z",fill:"currentColor"}),m.jsx("path",{d:"M17.6249 16.5004H17.2499V15.0004H17.6249C18.52 15.0362 19.3927 14.715 20.0509 14.1074C20.7092 13.4997 21.0991 12.6555 21.1349 11.7604C21.1707 10.8653 20.8495 9.99264 20.2418 9.33438C19.6342 8.67613 18.79 8.28621 17.8949 8.25041H17.2499L17.1749 7.63541C17.0085 6.37275 16.3888 5.21362 15.4312 4.37395C14.4736 3.53428 13.2435 3.07132 11.9699 3.07132C10.6963 3.07132 9.46616 3.53428 8.50857 4.37395C7.55099 5.21362 6.93129 6.37275 6.76489 7.63541L6.74989 8.25041H6.10489C5.20979 8.28621 4.36557 8.67613 3.75795 9.33438C3.15033 9.99264 2.82909 10.8653 2.86489 11.7604C2.9007 12.6555 3.29062 13.4997 3.94887 14.1074C4.60712 14.715 5.47979 15.0362 6.37489 15.0004H6.74989V16.5004H6.37489C5.1722 16.4928 4.01477 16.0409 3.12513 15.2315C2.2355 14.4221 1.67646 13.3124 1.55549 12.1158C1.43453 10.9192 1.76018 9.72009 2.46983 8.74905C3.17949 7.77801 4.22305 7.10357 5.39989 6.85541C5.72367 5.3453 6.55552 3.99189 7.75663 3.02101C8.95774 2.05013 10.4555 1.52051 11.9999 1.52051C13.5443 1.52051 15.042 2.05013 16.2432 3.02101C17.4443 3.99189 18.2761 5.3453 18.5999 6.85541C19.7767 7.10357 20.8203 7.77801 21.53 8.74905C22.2396 9.72009 22.5653 10.9192 22.4443 12.1158C22.3233 13.3124 21.7643 14.4221 20.8747 15.2315C19.985 16.0409 18.8276 16.4928 17.6249 16.5004Z",fill:"currentColor"})]}),m.jsx("defs",{children:m.jsx("clipPath",{id:"clip0_2077_2699",children:m.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}),user:O7,video:M7,warning:P7};function r0(){const{setActiveMenuItem:e,setShowMenuItem:t,activeMenuItem:n,showMenuItem:o}=Sa();return m.jsxs("div",{style:{zIndex:201},className:"absolute left-2.5 top-1/2 mt-6 flex w-14 -translate-y-1/2 flex-col items-center rounded-lg bg-background/80 py-2 shadow-lg backdrop-blur-lg backdrop-filter",children:[m.jsx(Ue,{onClick:()=>{e("uploads"),t(!0)},className:ut(o&&n==="uploads"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:m.jsx(dn.upload,{width:20})}),m.jsx(Ue,{onClick:()=>{e("texts"),t(!0)},className:ut(o&&n==="texts"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:m.jsx(dn.type,{width:20})}),m.jsx(Ue,{onClick:()=>{e("videos"),t(!0)},className:ut(o&&n==="videos"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:m.jsx(dn.video,{width:20})}),m.jsx(Ue,{onClick:()=>{e("captions"),t(!0)},className:ut(o&&n==="captions"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:m.jsx(dn.captions,{width:20})}),m.jsx(Ue,{onClick:()=>{e("images"),t(!0)},className:ut(o&&n==="images"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:m.jsx(dn.image,{width:20})}),m.jsx(Ue,{onClick:()=>{e("shapes"),t(!0)},className:ut(o&&n==="shapes"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:m.jsx(dn.shapes,{width:20})}),m.jsx(Ue,{onClick:()=>{e("audios"),t(!0)},className:ut(o&&n==="audios"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:m.jsx(dn.audio,{width:20})}),m.jsx(Ue,{onClick:()=>{e("transitions"),t(!0)},className:ut(o&&n==="transitions"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:m.jsx("svg",{width:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M3 5.30359C3 3.93159 4.659 3.24359 5.629 4.21359L11.997 10.5826L10.583 11.9966L5 6.41359V17.5856L10.586 11.9996L10.583 11.9966L11.997 10.5826L12 10.5856L18.371 4.21459C19.341 3.24459 21 3.93159 21 5.30359V18.6956C21 20.0676 19.341 20.7556 18.371 19.7856L12 13.5L13.414 11.9996L19 17.5866V6.41359L13.414 11.9996L13.421 12.0056L12.006 13.4206L12 13.4136L5.629 19.7846C4.659 20.7546 3 20.0676 3 18.6956V5.30359Z",fill:"currentColor"})})})]})}function i0(){const e=()=>{we.dispatch(pu)},t=()=>{we.dispatch(gu)};return m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"320px 1fr 320px"},className:"pointer-events-none absolute left-0 right-0 top-0 z-[205] flex h-[72px] items-center px-2",children:[m.jsxs("div",{className:"pointer-events-auto flex h-14 items-center gap-2",children:[m.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-md bg-background"}),m.jsxs("div",{className:"flex h-12 items-center bg-background px-1.5",children:[m.jsx(Ue,{onClick:e,className:"text-muted-foreground",variant:"ghost",size:"icon",children:m.jsx(dn.undo,{width:20})}),m.jsx(Ue,{onClick:t,className:"text-muted-foreground",variant:"ghost",size:"icon",children:m.jsx(dn.redo,{width:20})})]})]}),m.jsx("div",{className:"pointer-events-auto flex h-14 items-center justify-center gap-2",children:m.jsxs("div",{className:"flex h-12 items-center gap-4 rounded-md bg-background px-2.5",children:[m.jsx("div",{className:"px-1 text-sm font-medium",children:"Untitled video"}),m.jsx(Q7,{})]})})]})}const J7=[{label:"16:9",icon:"landscape",description:"YouTube ads",value:{width:1920,height:1080,name:"16:9"}},{label:"9:16",icon:"portrait",description:"TikTok, YouTube Shorts",value:{width:1080,height:1920,name:"9:16"}},{label:"1:1",icon:"square",description:"Instagram, Facebook posts",value:{width:1080,height:1080,name:"1:1"}}],Q7=()=>{const e=t=>{we.dispatch(bu,{payload:{...t}})};return m.jsx("div",{className:"text-sm",children:m.jsx(km,{trigger:m.jsx(Ue,{className:"border border-border",variant:"secondary",children:"Resize"}),children:J7.map((t,n)=>m.jsx(e9,{label:t.label,icon:t.icon,value:t.value,handleResize:e,description:t.description},n))})})},e9=({label:e,icon:t,value:n,description:o,handleResize:s})=>{const a=dn[t];return m.jsxs("div",{onClick:()=>s(n),className:"flex cursor-pointer items-center rounded-md p-2 hover:bg-zinc-50/10",children:[m.jsx("div",{className:"w-8 text-muted-foreground",children:m.jsx(a,{size:20})}),m.jsxs("div",{children:[m.jsx("div",{children:e}),m.jsx("div",{className:"text-xs text-muted-foreground",children:o})]})]})},Ns=(e,t)=>{const n=e.from/1e3*t,o=e.to/1e3*t-n;return{from:n,durationInFrames:o}},o0={text:(e,t)=>{const{fps:n,height:o,width:s}=t,{from:a,durationInFrames:l}=Ns(e.display,n);return m.jsx(un.Sequence,{from:a,durationInFrames:l,"data-track-item":"transition-element",style:{position:"absolute",width:e.details.width??300,height:e.details.height??400,transform:e.details.transform??"none",fontSize:e.details.fontSize||"16px",textAlign:e.details.textAlign||"left",top:e.details.top??300,left:e.details.left??600,color:e.details.color||"#000000",backgroundColor:e.details.backgroundColor||"transparent",border:e.details.border??"none",opacity:e.details.opacity??100/100,fontFamily:e.details.fontFamily||"Arial",textDecoration:e.details.textDecoration||"none",fontWeight:e.details.fontWeight||"normal",lineHeight:e.details.lineHeight||"normal",letterSpacing:e.details.letterSpacing||"normal",wordSpacing:e.details.wordSpacing||"normal",wordWrap:e.details.wordWrap||"normal",wordBreak:e.details.wordBreak||"normal",pointerEvents:"auto"},children:m.jsx("div",{children:e.details.text})},e.id)},image:(e,t)=>{const{fps:n}=t,{from:o,durationInFrames:s}=Ns(e.display,n);return m.jsx(un.Sequence,{from:o,durationInFrames:s,style:{width:e.details.width??"100%",height:e.details.height??"auto",transform:e.details.transform??"none",opacity:(e.details.opacity??100)/100||1,border:e.details.border??"none",borderRadius:e.details.borderRadius??"0",boxShadow:e.details.boxShadow??"none",filter:e.details.filter||"none",top:e.details.top??0,left:e.details.left??0},children:m.jsx(un.AbsoluteFill,{style:{pointerEvents:"none"},children:m.jsx(un.Img,{style:{pointerEvents:"none"},"data-id":e.id,src:e.details.src})})},e.id)},video:(e,t)=>{const{fps:n}=t,{from:o,durationInFrames:s}=Ns(e.display,n),a=e.trim,l=e.details.crop||{x:0,y:0,width:e.details.width,height:e.details.height};return a?m.jsx(un.Sequence,{premountFor:30*5,from:o,durationInFrames:s,style:{width:l.width||"100%",height:l.height||"auto",transform:e.details.transform??"none",opacity:(e.details.opacity??100)/100||1,border:e.details.border??"none",borderRadius:e.details.borderRadius??"0",boxShadow:e.details.boxShadow??"none",top:e.details.top??0,left:e.details.left??0,overflow:"hidden"},children:m.jsx(un.AbsoluteFill,{style:{pointerEvents:"none",width:e.details.width,height:e.details.height,top:-l.y,left:-l.x},children:m.jsx(un.OffthreadVideo,{startFrom:a.from/1e3*n,endAt:a.to/1e3*n,src:e.details.src,volume:(e.details.volume??100)/100,style:{pointerEvents:"none",width:e.details.width,height:e.details.height}})})},e.id):m.jsx(m.Fragment,{})},audio:(e,t)=>{const{fps:n}=t,{from:o,durationInFrames:s}=Ns(e.display,n),a=e.trim;return a?m.jsx(un.Sequence,{className:`moonshine-scene-item id-${e.id} moonshine-scene-item-type-${e.type}`,from:o,durationInFrames:s,style:{userSelect:"none",pointerEvents:"none"},children:m.jsx(un.AbsoluteFill,{children:m.jsx(un.Audio,{startFrom:a.from/1e3*n,endAt:a.to/1e3*n,src:e.details.src,volume:(e.details.volume??100)/100})})},e.id):m.jsx(m.Fragment,{})}};var Qs={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Qs.exports;(function(e,t){(function(){var n,o="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",v=1,b=2,S=4,T=1,_=2,C=1,A=2,R=4,O=8,D=16,j=32,V=64,F=128,$=256,G=512,q=30,ee="...",Y=800,te=16,ie=1,Ie=2,oe=3,de=1/0,ne=9007199254740991,xe=17976931348623157e292,pe=NaN,De=4294967295,bn=De-1,Hn=De>>>1,pr=[["ary",F],["bind",C],["bindKey",A],["curry",O],["curryRight",D],["flip",G],["partial",j],["partialRight",V],["rearg",$]],rn="[object Arguments]",on="[object Array]",Gt="[object AsyncFunction]",wt="[object Boolean]",Yt="[object Date]",Un="[object DOMException]",Wn="[object Error]",wn="[object Function]",xn="[object GeneratorFunction]",xt="[object Map]",sn="[object Number]",gr="[object Null]",Dt="[object Object]",Pi="[object Promise]",Ur="[object Proxy]",mr="[object RegExp]",St="[object Set]",Sn="[object String]",Wr="[object Symbol]",Pa="[object Undefined]",Bn="[object WeakMap]",jo="[object WeakSet]",Vn="[object ArrayBuffer]",$n="[object DataView]",Br="[object Float32Array]",Vr="[object Float64Array]",Oi="[object Int8Array]",Mi="[object Int16Array]",Di="[object Int32Array]",Li="[object Uint8Array]",Ni="[object Uint8ClampedArray]",ji="[object Uint16Array]",Fi="[object Uint32Array]",zi=/\b__p \+= '';/g,Fo=/\b(__p \+=) '' \+/g,Gn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$r=/&(?:amp|lt|gt|quot|#39);/g,Gr=/[&<>"']/g,zo=RegExp($r.source),Oa=RegExp(Gr.source),Ho=/<%-([\s\S]+?)%>/g,Ma=/<%([\s\S]+?)%>/g,Hi=/<%=([\s\S]+?)%>/g,Uo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Da=/^\w*$/,La=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yr=/[\\^$.*+?()[\]{}|]/g,Wo=RegExp(Yr.source),Ui=/^\s+/,Na=/\s/,ja=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fa=/\{\n\/\* \[wrapped with (.+)\] \*/,I=/,? & /,W=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,K=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,ke=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oe=/\w*$/,Ee=/^[-+]0x[0-9a-f]+$/i,be=/^0b[01]+$/i,it=/^\[object .+?Constructor\]$/,Ve=/^0o[0-7]+$/i,Ge=/^(?:0|[1-9]\d*)$/,gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,_n=/['\n\r\u2028\u2029\\]/g,Je="\\ud800-\\udfff",Wi="\\u0300-\\u036f",za="\\ufe20-\\ufe2f",Ha="\\u20d0-\\u20ff",id=Wi+za+Ha,od="\\u2700-\\u27bf",sd="a-z\\xdf-\\xf6\\xf8-\\xff",Cv="\\xac\\xb1\\xd7\\xf7",Iv="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Av="\\u2000-\\u206f",kv=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ad="A-Z\\xc0-\\xd6\\xd8-\\xde",cd="\\ufe0e\\ufe0f",ld=Cv+Iv+Av+kv,Ua="['’]",Rv="["+Je+"]",ud="["+ld+"]",Bo="["+id+"]",dd="\\d+",Pv="["+od+"]",fd="["+sd+"]",hd="[^"+Je+ld+dd+od+sd+ad+"]",Wa="\\ud83c[\\udffb-\\udfff]",Ov="(?:"+Bo+"|"+Wa+")",pd="[^"+Je+"]",Ba="(?:\\ud83c[\\udde6-\\uddff]){2}",Va="[\\ud800-\\udbff][\\udc00-\\udfff]",Xr="["+ad+"]",gd="\\u200d",md="(?:"+fd+"|"+hd+")",Mv="(?:"+Xr+"|"+hd+")",vd="(?:"+Ua+"(?:d|ll|m|re|s|t|ve))?",yd="(?:"+Ua+"(?:D|LL|M|RE|S|T|VE))?",bd=Ov+"?",wd="["+cd+"]?",Dv="(?:"+gd+"(?:"+[pd,Ba,Va].join("|")+")"+wd+bd+")*",Lv="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xd=wd+bd+Dv,jv="(?:"+[Pv,Ba,Va].join("|")+")"+xd,Fv="(?:"+[pd+Bo+"?",Bo,Ba,Va,Rv].join("|")+")",zv=RegExp(Ua,"g"),Hv=RegExp(Bo,"g"),$a=RegExp(Wa+"(?="+Wa+")|"+Fv+xd,"g"),Uv=RegExp([Xr+"?"+fd+"+"+vd+"(?="+[ud,Xr,"$"].join("|")+")",Mv+"+"+yd+"(?="+[ud,Xr+md,"$"].join("|")+")",Xr+"?"+md+"+"+vd,Xr+"+"+yd,Nv,Lv,dd,jv].join("|"),"g"),Wv=RegExp("["+gd+Je+id+cd+"]"),Bv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$v=-1,ze={};ze[Br]=ze[Vr]=ze[Oi]=ze[Mi]=ze[Di]=ze[Li]=ze[Ni]=ze[ji]=ze[Fi]=!0,ze[rn]=ze[on]=ze[Vn]=ze[wt]=ze[$n]=ze[Yt]=ze[Wn]=ze[wn]=ze[xt]=ze[sn]=ze[Dt]=ze[mr]=ze[St]=ze[Sn]=ze[Bn]=!1;var je={};je[rn]=je[on]=je[Vn]=je[$n]=je[wt]=je[Yt]=je[Br]=je[Vr]=je[Oi]=je[Mi]=je[Di]=je[xt]=je[sn]=je[Dt]=je[mr]=je[St]=je[Sn]=je[Wr]=je[Li]=je[Ni]=je[ji]=je[Fi]=!0,je[Wn]=je[wn]=je[Bn]=!1;var Gv={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Yv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kv=parseFloat,qv=parseInt,Sd=typeof io=="object"&&io&&io.Object===Object&&io,Jv=typeof self=="object"&&self&&self.Object===Object&&self,ot=Sd||Jv||Function("return this")(),Ga=t&&!t.nodeType&&t,vr=Ga&&!0&&e&&!e.nodeType&&e,_d=vr&&vr.exports===Ga,Ya=_d&&Sd.process,Lt=function(){try{var P=vr&&vr.require&&vr.require("util").types;return P||Ya&&Ya.binding&&Ya.binding("util")}catch{}}(),Ed=Lt&&Lt.isArrayBuffer,Td=Lt&&Lt.isDate,Cd=Lt&&Lt.isMap,Id=Lt&&Lt.isRegExp,Ad=Lt&&Lt.isSet,kd=Lt&&Lt.isTypedArray;function _t(P,N,L){switch(L.length){case 0:return P.call(N);case 1:return P.call(N,L[0]);case 2:return P.call(N,L[0],L[1]);case 3:return P.call(N,L[0],L[1],L[2])}return P.apply(N,L)}function Qv(P,N,L,Q){for(var fe=-1,Re=P==null?0:P.length;++fe<Re;){var Qe=P[fe];N(Q,Qe,L(Qe),P)}return Q}function Nt(P,N){for(var L=-1,Q=P==null?0:P.length;++L<Q&&N(P[L],L,P)!==!1;);return P}function e2(P,N){for(var L=P==null?0:P.length;L--&&N(P[L],L,P)!==!1;);return P}function Rd(P,N){for(var L=-1,Q=P==null?0:P.length;++L<Q;)if(!N(P[L],L,P))return!1;return!0}function Yn(P,N){for(var L=-1,Q=P==null?0:P.length,fe=0,Re=[];++L<Q;){var Qe=P[L];N(Qe,L,P)&&(Re[fe++]=Qe)}return Re}function Vo(P,N){var L=P==null?0:P.length;return!!L&&Zr(P,N,0)>-1}function Xa(P,N,L){for(var Q=-1,fe=P==null?0:P.length;++Q<fe;)if(L(N,P[Q]))return!0;return!1}function We(P,N){for(var L=-1,Q=P==null?0:P.length,fe=Array(Q);++L<Q;)fe[L]=N(P[L],L,P);return fe}function Xn(P,N){for(var L=-1,Q=N.length,fe=P.length;++L<Q;)P[fe+L]=N[L];return P}function Za(P,N,L,Q){var fe=-1,Re=P==null?0:P.length;for(Q&&Re&&(L=P[++fe]);++fe<Re;)L=N(L,P[fe],fe,P);return L}function t2(P,N,L,Q){var fe=P==null?0:P.length;for(Q&&fe&&(L=P[--fe]);fe--;)L=N(L,P[fe],fe,P);return L}function Ka(P,N){for(var L=-1,Q=P==null?0:P.length;++L<Q;)if(N(P[L],L,P))return!0;return!1}var n2=qa("length");function r2(P){return P.split("")}function i2(P){return P.match(W)||[]}function Pd(P,N,L){var Q;return L(P,function(fe,Re,Qe){if(N(fe,Re,Qe))return Q=Re,!1}),Q}function $o(P,N,L,Q){for(var fe=P.length,Re=L+(Q?1:-1);Q?Re--:++Re<fe;)if(N(P[Re],Re,P))return Re;return-1}function Zr(P,N,L){return N===N?m2(P,N,L):$o(P,Od,L)}function o2(P,N,L,Q){for(var fe=L-1,Re=P.length;++fe<Re;)if(Q(P[fe],N))return fe;return-1}function Od(P){return P!==P}function Md(P,N){var L=P==null?0:P.length;return L?Qa(P,N)/L:pe}function qa(P){return function(N){return N==null?n:N[P]}}function Ja(P){return function(N){return P==null?n:P[N]}}function Dd(P,N,L,Q,fe){return fe(P,function(Re,Qe,Ne){L=Q?(Q=!1,Re):N(L,Re,Qe,Ne)}),L}function s2(P,N){var L=P.length;for(P.sort(N);L--;)P[L]=P[L].value;return P}function Qa(P,N){for(var L,Q=-1,fe=P.length;++Q<fe;){var Re=N(P[Q]);Re!==n&&(L=L===n?Re:L+Re)}return L}function ec(P,N){for(var L=-1,Q=Array(P);++L<P;)Q[L]=N(L);return Q}function a2(P,N){return We(N,function(L){return[L,P[L]]})}function Ld(P){return P&&P.slice(0,zd(P)+1).replace(Ui,"")}function Et(P){return function(N){return P(N)}}function tc(P,N){return We(N,function(L){return P[L]})}function Bi(P,N){return P.has(N)}function Nd(P,N){for(var L=-1,Q=P.length;++L<Q&&Zr(N,P[L],0)>-1;);return L}function jd(P,N){for(var L=P.length;L--&&Zr(N,P[L],0)>-1;);return L}function c2(P,N){for(var L=P.length,Q=0;L--;)P[L]===N&&++Q;return Q}var l2=Ja(Gv),u2=Ja(Yv);function d2(P){return"\\"+Zv[P]}function f2(P,N){return P==null?n:P[N]}function Kr(P){return Wv.test(P)}function h2(P){return Bv.test(P)}function p2(P){for(var N,L=[];!(N=P.next()).done;)L.push(N.value);return L}function nc(P){var N=-1,L=Array(P.size);return P.forEach(function(Q,fe){L[++N]=[fe,Q]}),L}function Fd(P,N){return function(L){return P(N(L))}}function Zn(P,N){for(var L=-1,Q=P.length,fe=0,Re=[];++L<Q;){var Qe=P[L];(Qe===N||Qe===p)&&(P[L]=p,Re[fe++]=L)}return Re}function Go(P){var N=-1,L=Array(P.size);return P.forEach(function(Q){L[++N]=Q}),L}function g2(P){var N=-1,L=Array(P.size);return P.forEach(function(Q){L[++N]=[Q,Q]}),L}function m2(P,N,L){for(var Q=L-1,fe=P.length;++Q<fe;)if(P[Q]===N)return Q;return-1}function v2(P,N,L){for(var Q=L+1;Q--;)if(P[Q]===N)return Q;return Q}function qr(P){return Kr(P)?b2(P):n2(P)}function Zt(P){return Kr(P)?w2(P):r2(P)}function zd(P){for(var N=P.length;N--&&Na.test(P.charAt(N)););return N}var y2=Ja(Xv);function b2(P){for(var N=$a.lastIndex=0;$a.test(P);)++N;return N}function w2(P){return P.match($a)||[]}function x2(P){return P.match(Uv)||[]}var S2=function P(N){N=N==null?ot:Jr.defaults(ot.Object(),N,Jr.pick(ot,Vv));var L=N.Array,Q=N.Date,fe=N.Error,Re=N.Function,Qe=N.Math,Ne=N.Object,rc=N.RegExp,_2=N.String,jt=N.TypeError,Yo=L.prototype,E2=Re.prototype,Qr=Ne.prototype,Xo=N["__core-js_shared__"],Zo=E2.toString,Le=Qr.hasOwnProperty,T2=0,Hd=function(){var r=/[^.]+$/.exec(Xo&&Xo.keys&&Xo.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Ko=Qr.toString,C2=Zo.call(Ne),I2=ot._,A2=rc("^"+Zo.call(Le).replace(Yr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qo=_d?N.Buffer:n,Kn=N.Symbol,Jo=N.Uint8Array,Ud=qo?qo.allocUnsafe:n,Qo=Fd(Ne.getPrototypeOf,Ne),Wd=Ne.create,Bd=Qr.propertyIsEnumerable,es=Yo.splice,Vd=Kn?Kn.isConcatSpreadable:n,Vi=Kn?Kn.iterator:n,yr=Kn?Kn.toStringTag:n,ts=function(){try{var r=_r(Ne,"defineProperty");return r({},"",{}),r}catch{}}(),k2=N.clearTimeout!==ot.clearTimeout&&N.clearTimeout,R2=Q&&Q.now!==ot.Date.now&&Q.now,P2=N.setTimeout!==ot.setTimeout&&N.setTimeout,ns=Qe.ceil,rs=Qe.floor,ic=Ne.getOwnPropertySymbols,O2=qo?qo.isBuffer:n,$d=N.isFinite,M2=Yo.join,D2=Fd(Ne.keys,Ne),et=Qe.max,ct=Qe.min,L2=Q.now,N2=N.parseInt,Gd=Qe.random,j2=Yo.reverse,oc=_r(N,"DataView"),$i=_r(N,"Map"),sc=_r(N,"Promise"),ei=_r(N,"Set"),Gi=_r(N,"WeakMap"),Yi=_r(Ne,"create"),is=Gi&&new Gi,ti={},F2=Er(oc),z2=Er($i),H2=Er(sc),U2=Er(ei),W2=Er(Gi),os=Kn?Kn.prototype:n,Xi=os?os.valueOf:n,Yd=os?os.toString:n;function y(r){if(Ye(r)&&!he(r)&&!(r instanceof Te)){if(r instanceof Ft)return r;if(Le.call(r,"__wrapped__"))return Zf(r)}return new Ft(r)}var ni=function(){function r(){}return function(i){if(!$e(i))return{};if(Wd)return Wd(i);r.prototype=i;var c=new r;return r.prototype=n,c}}();function ss(){}function Ft(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=n}y.templateSettings={escape:Ho,evaluate:Ma,interpolate:Hi,variable:"",imports:{_:y}},y.prototype=ss.prototype,y.prototype.constructor=y,Ft.prototype=ni(ss.prototype),Ft.prototype.constructor=Ft;function Te(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=De,this.__views__=[]}function B2(){var r=new Te(this.__wrapped__);return r.__actions__=mt(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=mt(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=mt(this.__views__),r}function V2(){if(this.__filtered__){var r=new Te(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function $2(){var r=this.__wrapped__.value(),i=this.__dir__,c=he(r),d=i<0,g=c?r.length:0,x=rb(0,g,this.__views__),E=x.start,k=x.end,M=k-E,z=d?k:E-1,H=this.__iteratees__,U=H.length,X=0,re=ct(M,this.__takeCount__);if(!c||!d&&g==M&&re==M)return yf(r,this.__actions__);var ae=[];e:for(;M--&&X<re;){z+=i;for(var ve=-1,ce=r[z];++ve<U;){var Se=H[ve],Ae=Se.iteratee,It=Se.type,pt=Ae(ce);if(It==Ie)ce=pt;else if(!pt){if(It==ie)continue e;break e}}ae[X++]=ce}return ae}Te.prototype=ni(ss.prototype),Te.prototype.constructor=Te;function br(r){var i=-1,c=r==null?0:r.length;for(this.clear();++i<c;){var d=r[i];this.set(d[0],d[1])}}function G2(){this.__data__=Yi?Yi(null):{},this.size=0}function Y2(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function X2(r){var i=this.__data__;if(Yi){var c=i[r];return c===f?n:c}return Le.call(i,r)?i[r]:n}function Z2(r){var i=this.__data__;return Yi?i[r]!==n:Le.call(i,r)}function K2(r,i){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Yi&&i===n?f:i,this}br.prototype.clear=G2,br.prototype.delete=Y2,br.prototype.get=X2,br.prototype.has=Z2,br.prototype.set=K2;function En(r){var i=-1,c=r==null?0:r.length;for(this.clear();++i<c;){var d=r[i];this.set(d[0],d[1])}}function q2(){this.__data__=[],this.size=0}function J2(r){var i=this.__data__,c=as(i,r);if(c<0)return!1;var d=i.length-1;return c==d?i.pop():es.call(i,c,1),--this.size,!0}function Q2(r){var i=this.__data__,c=as(i,r);return c<0?n:i[c][1]}function ey(r){return as(this.__data__,r)>-1}function ty(r,i){var c=this.__data__,d=as(c,r);return d<0?(++this.size,c.push([r,i])):c[d][1]=i,this}En.prototype.clear=q2,En.prototype.delete=J2,En.prototype.get=Q2,En.prototype.has=ey,En.prototype.set=ty;function Tn(r){var i=-1,c=r==null?0:r.length;for(this.clear();++i<c;){var d=r[i];this.set(d[0],d[1])}}function ny(){this.size=0,this.__data__={hash:new br,map:new($i||En),string:new br}}function ry(r){var i=bs(this,r).delete(r);return this.size-=i?1:0,i}function iy(r){return bs(this,r).get(r)}function oy(r){return bs(this,r).has(r)}function sy(r,i){var c=bs(this,r),d=c.size;return c.set(r,i),this.size+=c.size==d?0:1,this}Tn.prototype.clear=ny,Tn.prototype.delete=ry,Tn.prototype.get=iy,Tn.prototype.has=oy,Tn.prototype.set=sy;function wr(r){var i=-1,c=r==null?0:r.length;for(this.__data__=new Tn;++i<c;)this.add(r[i])}function ay(r){return this.__data__.set(r,f),this}function cy(r){return this.__data__.has(r)}wr.prototype.add=wr.prototype.push=ay,wr.prototype.has=cy;function Kt(r){var i=this.__data__=new En(r);this.size=i.size}function ly(){this.__data__=new En,this.size=0}function uy(r){var i=this.__data__,c=i.delete(r);return this.size=i.size,c}function dy(r){return this.__data__.get(r)}function fy(r){return this.__data__.has(r)}function hy(r,i){var c=this.__data__;if(c instanceof En){var d=c.__data__;if(!$i||d.length<s-1)return d.push([r,i]),this.size=++c.size,this;c=this.__data__=new Tn(d)}return c.set(r,i),this.size=c.size,this}Kt.prototype.clear=ly,Kt.prototype.delete=uy,Kt.prototype.get=dy,Kt.prototype.has=fy,Kt.prototype.set=hy;function Xd(r,i){var c=he(r),d=!c&&Tr(r),g=!c&&!d&&tr(r),x=!c&&!d&&!g&&si(r),E=c||d||g||x,k=E?ec(r.length,_2):[],M=k.length;for(var z in r)(i||Le.call(r,z))&&!(E&&(z=="length"||g&&(z=="offset"||z=="parent")||x&&(z=="buffer"||z=="byteLength"||z=="byteOffset")||kn(z,M)))&&k.push(z);return k}function Zd(r){var i=r.length;return i?r[vc(0,i-1)]:n}function py(r,i){return ws(mt(r),xr(i,0,r.length))}function gy(r){return ws(mt(r))}function ac(r,i,c){(c!==n&&!qt(r[i],c)||c===n&&!(i in r))&&Cn(r,i,c)}function Zi(r,i,c){var d=r[i];(!(Le.call(r,i)&&qt(d,c))||c===n&&!(i in r))&&Cn(r,i,c)}function as(r,i){for(var c=r.length;c--;)if(qt(r[c][0],i))return c;return-1}function my(r,i,c,d){return qn(r,function(g,x,E){i(d,g,c(g),E)}),d}function Kd(r,i){return r&&cn(i,rt(i),r)}function vy(r,i){return r&&cn(i,yt(i),r)}function Cn(r,i,c){i=="__proto__"&&ts?ts(r,i,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[i]=c}function cc(r,i){for(var c=-1,d=i.length,g=L(d),x=r==null;++c<d;)g[c]=x?n:Wc(r,i[c]);return g}function xr(r,i,c){return r===r&&(c!==n&&(r=r<=c?r:c),i!==n&&(r=r>=i?r:i)),r}function zt(r,i,c,d,g,x){var E,k=i&v,M=i&b,z=i&S;if(c&&(E=g?c(r,d,g,x):c(r)),E!==n)return E;if(!$e(r))return r;var H=he(r);if(H){if(E=ob(r),!k)return mt(r,E)}else{var U=lt(r),X=U==wn||U==xn;if(tr(r))return xf(r,k);if(U==Dt||U==rn||X&&!g){if(E=M||X?{}:Hf(r),!k)return M?Xy(r,vy(E,r)):Yy(r,Kd(E,r))}else{if(!je[U])return g?r:{};E=sb(r,U,k)}}x||(x=new Kt);var re=x.get(r);if(re)return re;x.set(r,E),gh(r)?r.forEach(function(ce){E.add(zt(ce,i,c,ce,r,x))}):hh(r)&&r.forEach(function(ce,Se){E.set(Se,zt(ce,i,c,Se,r,x))});var ae=z?M?Ac:Ic:M?yt:rt,ve=H?n:ae(r);return Nt(ve||r,function(ce,Se){ve&&(Se=ce,ce=r[Se]),Zi(E,Se,zt(ce,i,c,Se,r,x))}),E}function yy(r){var i=rt(r);return function(c){return qd(c,r,i)}}function qd(r,i,c){var d=c.length;if(r==null)return!d;for(r=Ne(r);d--;){var g=c[d],x=i[g],E=r[g];if(E===n&&!(g in r)||!x(E))return!1}return!0}function Jd(r,i,c){if(typeof r!="function")throw new jt(l);return no(function(){r.apply(n,c)},i)}function Ki(r,i,c,d){var g=-1,x=Vo,E=!0,k=r.length,M=[],z=i.length;if(!k)return M;c&&(i=We(i,Et(c))),d?(x=Xa,E=!1):i.length>=s&&(x=Bi,E=!1,i=new wr(i));e:for(;++g<k;){var H=r[g],U=c==null?H:c(H);if(H=d||H!==0?H:0,E&&U===U){for(var X=z;X--;)if(i[X]===U)continue e;M.push(H)}else x(i,U,d)||M.push(H)}return M}var qn=Cf(an),Qd=Cf(uc,!0);function by(r,i){var c=!0;return qn(r,function(d,g,x){return c=!!i(d,g,x),c}),c}function cs(r,i,c){for(var d=-1,g=r.length;++d<g;){var x=r[d],E=i(x);if(E!=null&&(k===n?E===E&&!Ct(E):c(E,k)))var k=E,M=x}return M}function wy(r,i,c,d){var g=r.length;for(c=ge(c),c<0&&(c=-c>g?0:g+c),d=d===n||d>g?g:ge(d),d<0&&(d+=g),d=c>d?0:vh(d);c<d;)r[c++]=i;return r}function ef(r,i){var c=[];return qn(r,function(d,g,x){i(d,g,x)&&c.push(d)}),c}function st(r,i,c,d,g){var x=-1,E=r.length;for(c||(c=cb),g||(g=[]);++x<E;){var k=r[x];i>0&&c(k)?i>1?st(k,i-1,c,d,g):Xn(g,k):d||(g[g.length]=k)}return g}var lc=If(),tf=If(!0);function an(r,i){return r&&lc(r,i,rt)}function uc(r,i){return r&&tf(r,i,rt)}function ls(r,i){return Yn(i,function(c){return Rn(r[c])})}function Sr(r,i){i=Qn(i,r);for(var c=0,d=i.length;r!=null&&c<d;)r=r[ln(i[c++])];return c&&c==d?r:n}function nf(r,i,c){var d=i(r);return he(r)?d:Xn(d,c(r))}function ft(r){return r==null?r===n?Pa:gr:yr&&yr in Ne(r)?nb(r):gb(r)}function dc(r,i){return r>i}function xy(r,i){return r!=null&&Le.call(r,i)}function Sy(r,i){return r!=null&&i in Ne(r)}function _y(r,i,c){return r>=ct(i,c)&&r<et(i,c)}function fc(r,i,c){for(var d=c?Xa:Vo,g=r[0].length,x=r.length,E=x,k=L(x),M=1/0,z=[];E--;){var H=r[E];E&&i&&(H=We(H,Et(i))),M=ct(H.length,M),k[E]=!c&&(i||g>=120&&H.length>=120)?new wr(E&&H):n}H=r[0];var U=-1,X=k[0];e:for(;++U<g&&z.length<M;){var re=H[U],ae=i?i(re):re;if(re=c||re!==0?re:0,!(X?Bi(X,ae):d(z,ae,c))){for(E=x;--E;){var ve=k[E];if(!(ve?Bi(ve,ae):d(r[E],ae,c)))continue e}X&&X.push(ae),z.push(re)}}return z}function Ey(r,i,c,d){return an(r,function(g,x,E){i(d,c(g),x,E)}),d}function qi(r,i,c){i=Qn(i,r),r=Vf(r,i);var d=r==null?r:r[ln(Ut(i))];return d==null?n:_t(d,r,c)}function rf(r){return Ye(r)&&ft(r)==rn}function Ty(r){return Ye(r)&&ft(r)==Vn}function Cy(r){return Ye(r)&&ft(r)==Yt}function Ji(r,i,c,d,g){return r===i?!0:r==null||i==null||!Ye(r)&&!Ye(i)?r!==r&&i!==i:Iy(r,i,c,d,Ji,g)}function Iy(r,i,c,d,g,x){var E=he(r),k=he(i),M=E?on:lt(r),z=k?on:lt(i);M=M==rn?Dt:M,z=z==rn?Dt:z;var H=M==Dt,U=z==Dt,X=M==z;if(X&&tr(r)){if(!tr(i))return!1;E=!0,H=!1}if(X&&!H)return x||(x=new Kt),E||si(r)?jf(r,i,c,d,g,x):eb(r,i,M,c,d,g,x);if(!(c&T)){var re=H&&Le.call(r,"__wrapped__"),ae=U&&Le.call(i,"__wrapped__");if(re||ae){var ve=re?r.value():r,ce=ae?i.value():i;return x||(x=new Kt),g(ve,ce,c,d,x)}}return X?(x||(x=new Kt),tb(r,i,c,d,g,x)):!1}function Ay(r){return Ye(r)&&lt(r)==xt}function hc(r,i,c,d){var g=c.length,x=g,E=!d;if(r==null)return!x;for(r=Ne(r);g--;){var k=c[g];if(E&&k[2]?k[1]!==r[k[0]]:!(k[0]in r))return!1}for(;++g<x;){k=c[g];var M=k[0],z=r[M],H=k[1];if(E&&k[2]){if(z===n&&!(M in r))return!1}else{var U=new Kt;if(d)var X=d(z,H,M,r,i,U);if(!(X===n?Ji(H,z,T|_,d,U):X))return!1}}return!0}function of(r){if(!$e(r)||ub(r))return!1;var i=Rn(r)?A2:it;return i.test(Er(r))}function ky(r){return Ye(r)&&ft(r)==mr}function Ry(r){return Ye(r)&&lt(r)==St}function Py(r){return Ye(r)&&Cs(r.length)&&!!ze[ft(r)]}function sf(r){return typeof r=="function"?r:r==null?bt:typeof r=="object"?he(r)?lf(r[0],r[1]):cf(r):Ah(r)}function pc(r){if(!to(r))return D2(r);var i=[];for(var c in Ne(r))Le.call(r,c)&&c!="constructor"&&i.push(c);return i}function Oy(r){if(!$e(r))return pb(r);var i=to(r),c=[];for(var d in r)d=="constructor"&&(i||!Le.call(r,d))||c.push(d);return c}function gc(r,i){return r<i}function af(r,i){var c=-1,d=vt(r)?L(r.length):[];return qn(r,function(g,x,E){d[++c]=i(g,x,E)}),d}function cf(r){var i=Rc(r);return i.length==1&&i[0][2]?Wf(i[0][0],i[0][1]):function(c){return c===r||hc(c,r,i)}}function lf(r,i){return Oc(r)&&Uf(i)?Wf(ln(r),i):function(c){var d=Wc(c,r);return d===n&&d===i?Bc(c,r):Ji(i,d,T|_)}}function us(r,i,c,d,g){r!==i&&lc(i,function(x,E){if(g||(g=new Kt),$e(x))My(r,i,E,c,us,d,g);else{var k=d?d(Dc(r,E),x,E+"",r,i,g):n;k===n&&(k=x),ac(r,E,k)}},yt)}function My(r,i,c,d,g,x,E){var k=Dc(r,c),M=Dc(i,c),z=E.get(M);if(z){ac(r,c,z);return}var H=x?x(k,M,c+"",r,i,E):n,U=H===n;if(U){var X=he(M),re=!X&&tr(M),ae=!X&&!re&&si(M);H=M,X||re||ae?he(k)?H=k:Ze(k)?H=mt(k):re?(U=!1,H=xf(M,!0)):ae?(U=!1,H=Sf(M,!0)):H=[]:ro(M)||Tr(M)?(H=k,Tr(k)?H=yh(k):(!$e(k)||Rn(k))&&(H=Hf(M))):U=!1}U&&(E.set(M,H),g(H,M,d,x,E),E.delete(M)),ac(r,c,H)}function uf(r,i){var c=r.length;if(c)return i+=i<0?c:0,kn(i,c)?r[i]:n}function df(r,i,c){i.length?i=We(i,function(x){return he(x)?function(E){return Sr(E,x.length===1?x[0]:x)}:x}):i=[bt];var d=-1;i=We(i,Et(se()));var g=af(r,function(x,E,k){var M=We(i,function(z){return z(x)});return{criteria:M,index:++d,value:x}});return s2(g,function(x,E){return Gy(x,E,c)})}function Dy(r,i){return ff(r,i,function(c,d){return Bc(r,d)})}function ff(r,i,c){for(var d=-1,g=i.length,x={};++d<g;){var E=i[d],k=Sr(r,E);c(k,E)&&Qi(x,Qn(E,r),k)}return x}function Ly(r){return function(i){return Sr(i,r)}}function mc(r,i,c,d){var g=d?o2:Zr,x=-1,E=i.length,k=r;for(r===i&&(i=mt(i)),c&&(k=We(r,Et(c)));++x<E;)for(var M=0,z=i[x],H=c?c(z):z;(M=g(k,H,M,d))>-1;)k!==r&&es.call(k,M,1),es.call(r,M,1);return r}function hf(r,i){for(var c=r?i.length:0,d=c-1;c--;){var g=i[c];if(c==d||g!==x){var x=g;kn(g)?es.call(r,g,1):wc(r,g)}}return r}function vc(r,i){return r+rs(Gd()*(i-r+1))}function Ny(r,i,c,d){for(var g=-1,x=et(ns((i-r)/(c||1)),0),E=L(x);x--;)E[d?x:++g]=r,r+=c;return E}function yc(r,i){var c="";if(!r||i<1||i>ne)return c;do i%2&&(c+=r),i=rs(i/2),i&&(r+=r);while(i);return c}function ye(r,i){return Lc(Bf(r,i,bt),r+"")}function jy(r){return Zd(ai(r))}function Fy(r,i){var c=ai(r);return ws(c,xr(i,0,c.length))}function Qi(r,i,c,d){if(!$e(r))return r;i=Qn(i,r);for(var g=-1,x=i.length,E=x-1,k=r;k!=null&&++g<x;){var M=ln(i[g]),z=c;if(M==="__proto__"||M==="constructor"||M==="prototype")return r;if(g!=E){var H=k[M];z=d?d(H,M,k):n,z===n&&(z=$e(H)?H:kn(i[g+1])?[]:{})}Zi(k,M,z),k=k[M]}return r}var pf=is?function(r,i){return is.set(r,i),r}:bt,zy=ts?function(r,i){return ts(r,"toString",{configurable:!0,enumerable:!1,value:$c(i),writable:!0})}:bt;function Hy(r){return ws(ai(r))}function Ht(r,i,c){var d=-1,g=r.length;i<0&&(i=-i>g?0:g+i),c=c>g?g:c,c<0&&(c+=g),g=i>c?0:c-i>>>0,i>>>=0;for(var x=L(g);++d<g;)x[d]=r[d+i];return x}function Uy(r,i){var c;return qn(r,function(d,g,x){return c=i(d,g,x),!c}),!!c}function ds(r,i,c){var d=0,g=r==null?d:r.length;if(typeof i=="number"&&i===i&&g<=Hn){for(;d<g;){var x=d+g>>>1,E=r[x];E!==null&&!Ct(E)&&(c?E<=i:E<i)?d=x+1:g=x}return g}return bc(r,i,bt,c)}function bc(r,i,c,d){var g=0,x=r==null?0:r.length;if(x===0)return 0;i=c(i);for(var E=i!==i,k=i===null,M=Ct(i),z=i===n;g<x;){var H=rs((g+x)/2),U=c(r[H]),X=U!==n,re=U===null,ae=U===U,ve=Ct(U);if(E)var ce=d||ae;else z?ce=ae&&(d||X):k?ce=ae&&X&&(d||!re):M?ce=ae&&X&&!re&&(d||!ve):re||ve?ce=!1:ce=d?U<=i:U<i;ce?g=H+1:x=H}return ct(x,bn)}function gf(r,i){for(var c=-1,d=r.length,g=0,x=[];++c<d;){var E=r[c],k=i?i(E):E;if(!c||!qt(k,M)){var M=k;x[g++]=E===0?0:E}}return x}function mf(r){return typeof r=="number"?r:Ct(r)?pe:+r}function Tt(r){if(typeof r=="string")return r;if(he(r))return We(r,Tt)+"";if(Ct(r))return Yd?Yd.call(r):"";var i=r+"";return i=="0"&&1/r==-1/0?"-0":i}function Jn(r,i,c){var d=-1,g=Vo,x=r.length,E=!0,k=[],M=k;if(c)E=!1,g=Xa;else if(x>=s){var z=i?null:Jy(r);if(z)return Go(z);E=!1,g=Bi,M=new wr}else M=i?[]:k;e:for(;++d<x;){var H=r[d],U=i?i(H):H;if(H=c||H!==0?H:0,E&&U===U){for(var X=M.length;X--;)if(M[X]===U)continue e;i&&M.push(U),k.push(H)}else g(M,U,c)||(M!==k&&M.push(U),k.push(H))}return k}function wc(r,i){return i=Qn(i,r),r=Vf(r,i),r==null||delete r[ln(Ut(i))]}function vf(r,i,c,d){return Qi(r,i,c(Sr(r,i)),d)}function fs(r,i,c,d){for(var g=r.length,x=d?g:-1;(d?x--:++x<g)&&i(r[x],x,r););return c?Ht(r,d?0:x,d?x+1:g):Ht(r,d?x+1:0,d?g:x)}function yf(r,i){var c=r;return c instanceof Te&&(c=c.value()),Za(i,function(d,g){return g.func.apply(g.thisArg,Xn([d],g.args))},c)}function xc(r,i,c){var d=r.length;if(d<2)return d?Jn(r[0]):[];for(var g=-1,x=L(d);++g<d;)for(var E=r[g],k=-1;++k<d;)k!=g&&(x[g]=Ki(x[g]||E,r[k],i,c));return Jn(st(x,1),i,c)}function bf(r,i,c){for(var d=-1,g=r.length,x=i.length,E={};++d<g;){var k=d<x?i[d]:n;c(E,r[d],k)}return E}function Sc(r){return Ze(r)?r:[]}function _c(r){return typeof r=="function"?r:bt}function Qn(r,i){return he(r)?r:Oc(r,i)?[r]:Xf(Me(r))}var Wy=ye;function er(r,i,c){var d=r.length;return c=c===n?d:c,!i&&c>=d?r:Ht(r,i,c)}var wf=k2||function(r){return ot.clearTimeout(r)};function xf(r,i){if(i)return r.slice();var c=r.length,d=Ud?Ud(c):new r.constructor(c);return r.copy(d),d}function Ec(r){var i=new r.constructor(r.byteLength);return new Jo(i).set(new Jo(r)),i}function By(r,i){var c=i?Ec(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function Vy(r){var i=new r.constructor(r.source,Oe.exec(r));return i.lastIndex=r.lastIndex,i}function $y(r){return Xi?Ne(Xi.call(r)):{}}function Sf(r,i){var c=i?Ec(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function _f(r,i){if(r!==i){var c=r!==n,d=r===null,g=r===r,x=Ct(r),E=i!==n,k=i===null,M=i===i,z=Ct(i);if(!k&&!z&&!x&&r>i||x&&E&&M&&!k&&!z||d&&E&&M||!c&&M||!g)return 1;if(!d&&!x&&!z&&r<i||z&&c&&g&&!d&&!x||k&&c&&g||!E&&g||!M)return-1}return 0}function Gy(r,i,c){for(var d=-1,g=r.criteria,x=i.criteria,E=g.length,k=c.length;++d<E;){var M=_f(g[d],x[d]);if(M){if(d>=k)return M;var z=c[d];return M*(z=="desc"?-1:1)}}return r.index-i.index}function Ef(r,i,c,d){for(var g=-1,x=r.length,E=c.length,k=-1,M=i.length,z=et(x-E,0),H=L(M+z),U=!d;++k<M;)H[k]=i[k];for(;++g<E;)(U||g<x)&&(H[c[g]]=r[g]);for(;z--;)H[k++]=r[g++];return H}function Tf(r,i,c,d){for(var g=-1,x=r.length,E=-1,k=c.length,M=-1,z=i.length,H=et(x-k,0),U=L(H+z),X=!d;++g<H;)U[g]=r[g];for(var re=g;++M<z;)U[re+M]=i[M];for(;++E<k;)(X||g<x)&&(U[re+c[E]]=r[g++]);return U}function mt(r,i){var c=-1,d=r.length;for(i||(i=L(d));++c<d;)i[c]=r[c];return i}function cn(r,i,c,d){var g=!c;c||(c={});for(var x=-1,E=i.length;++x<E;){var k=i[x],M=d?d(c[k],r[k],k,c,r):n;M===n&&(M=r[k]),g?Cn(c,k,M):Zi(c,k,M)}return c}function Yy(r,i){return cn(r,Pc(r),i)}function Xy(r,i){return cn(r,Ff(r),i)}function hs(r,i){return function(c,d){var g=he(c)?Qv:my,x=i?i():{};return g(c,r,se(d,2),x)}}function ri(r){return ye(function(i,c){var d=-1,g=c.length,x=g>1?c[g-1]:n,E=g>2?c[2]:n;for(x=r.length>3&&typeof x=="function"?(g--,x):n,E&&ht(c[0],c[1],E)&&(x=g<3?n:x,g=1),i=Ne(i);++d<g;){var k=c[d];k&&r(i,k,d,x)}return i})}function Cf(r,i){return function(c,d){if(c==null)return c;if(!vt(c))return r(c,d);for(var g=c.length,x=i?g:-1,E=Ne(c);(i?x--:++x<g)&&d(E[x],x,E)!==!1;);return c}}function If(r){return function(i,c,d){for(var g=-1,x=Ne(i),E=d(i),k=E.length;k--;){var M=E[r?k:++g];if(c(x[M],M,x)===!1)break}return i}}function Zy(r,i,c){var d=i&C,g=eo(r);function x(){var E=this&&this!==ot&&this instanceof x?g:r;return E.apply(d?c:this,arguments)}return x}function Af(r){return function(i){i=Me(i);var c=Kr(i)?Zt(i):n,d=c?c[0]:i.charAt(0),g=c?er(c,1).join(""):i.slice(1);return d[r]()+g}}function ii(r){return function(i){return Za(Ch(Th(i).replace(zv,"")),r,"")}}function eo(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var c=ni(r.prototype),d=r.apply(c,i);return $e(d)?d:c}}function Ky(r,i,c){var d=eo(r);function g(){for(var x=arguments.length,E=L(x),k=x,M=oi(g);k--;)E[k]=arguments[k];var z=x<3&&E[0]!==M&&E[x-1]!==M?[]:Zn(E,M);if(x-=z.length,x<c)return Mf(r,i,ps,g.placeholder,n,E,z,n,n,c-x);var H=this&&this!==ot&&this instanceof g?d:r;return _t(H,this,E)}return g}function kf(r){return function(i,c,d){var g=Ne(i);if(!vt(i)){var x=se(c,3);i=rt(i),c=function(k){return x(g[k],k,g)}}var E=r(i,c,d);return E>-1?g[x?i[E]:E]:n}}function Rf(r){return An(function(i){var c=i.length,d=c,g=Ft.prototype.thru;for(r&&i.reverse();d--;){var x=i[d];if(typeof x!="function")throw new jt(l);if(g&&!E&&ys(x)=="wrapper")var E=new Ft([],!0)}for(d=E?d:c;++d<c;){x=i[d];var k=ys(x),M=k=="wrapper"?kc(x):n;M&&Mc(M[0])&&M[1]==(F|O|j|$)&&!M[4].length&&M[9]==1?E=E[ys(M[0])].apply(E,M[3]):E=x.length==1&&Mc(x)?E[k]():E.thru(x)}return function(){var z=arguments,H=z[0];if(E&&z.length==1&&he(H))return E.plant(H).value();for(var U=0,X=c?i[U].apply(this,z):H;++U<c;)X=i[U].call(this,X);return X}})}function ps(r,i,c,d,g,x,E,k,M,z){var H=i&F,U=i&C,X=i&A,re=i&(O|D),ae=i&G,ve=X?n:eo(r);function ce(){for(var Se=arguments.length,Ae=L(Se),It=Se;It--;)Ae[It]=arguments[It];if(re)var pt=oi(ce),At=c2(Ae,pt);if(d&&(Ae=Ef(Ae,d,g,re)),x&&(Ae=Tf(Ae,x,E,re)),Se-=At,re&&Se<z){var Ke=Zn(Ae,pt);return Mf(r,i,ps,ce.placeholder,c,Ae,Ke,k,M,z-Se)}var Jt=U?c:this,On=X?Jt[r]:r;return Se=Ae.length,k?Ae=mb(Ae,k):ae&&Se>1&&Ae.reverse(),H&&M<Se&&(Ae.length=M),this&&this!==ot&&this instanceof ce&&(On=ve||eo(On)),On.apply(Jt,Ae)}return ce}function Pf(r,i){return function(c,d){return Ey(c,r,i(d),{})}}function gs(r,i){return function(c,d){var g;if(c===n&&d===n)return i;if(c!==n&&(g=c),d!==n){if(g===n)return d;typeof c=="string"||typeof d=="string"?(c=Tt(c),d=Tt(d)):(c=mf(c),d=mf(d)),g=r(c,d)}return g}}function Tc(r){return An(function(i){return i=We(i,Et(se())),ye(function(c){var d=this;return r(i,function(g){return _t(g,d,c)})})})}function ms(r,i){i=i===n?" ":Tt(i);var c=i.length;if(c<2)return c?yc(i,r):i;var d=yc(i,ns(r/qr(i)));return Kr(i)?er(Zt(d),0,r).join(""):d.slice(0,r)}function qy(r,i,c,d){var g=i&C,x=eo(r);function E(){for(var k=-1,M=arguments.length,z=-1,H=d.length,U=L(H+M),X=this&&this!==ot&&this instanceof E?x:r;++z<H;)U[z]=d[z];for(;M--;)U[z++]=arguments[++k];return _t(X,g?c:this,U)}return E}function Of(r){return function(i,c,d){return d&&typeof d!="number"&&ht(i,c,d)&&(c=d=n),i=Pn(i),c===n?(c=i,i=0):c=Pn(c),d=d===n?i<c?1:-1:Pn(d),Ny(i,c,d,r)}}function vs(r){return function(i,c){return typeof i=="string"&&typeof c=="string"||(i=Wt(i),c=Wt(c)),r(i,c)}}function Mf(r,i,c,d,g,x,E,k,M,z){var H=i&O,U=H?E:n,X=H?n:E,re=H?x:n,ae=H?n:x;i|=H?j:V,i&=~(H?V:j),i&R||(i&=-4);var ve=[r,i,g,re,U,ae,X,k,M,z],ce=c.apply(n,ve);return Mc(r)&&$f(ce,ve),ce.placeholder=d,Gf(ce,r,i)}function Cc(r){var i=Qe[r];return function(c,d){if(c=Wt(c),d=d==null?0:ct(ge(d),292),d&&$d(c)){var g=(Me(c)+"e").split("e"),x=i(g[0]+"e"+(+g[1]+d));return g=(Me(x)+"e").split("e"),+(g[0]+"e"+(+g[1]-d))}return i(c)}}var Jy=ei&&1/Go(new ei([,-0]))[1]==de?function(r){return new ei(r)}:Xc;function Df(r){return function(i){var c=lt(i);return c==xt?nc(i):c==St?g2(i):a2(i,r(i))}}function In(r,i,c,d,g,x,E,k){var M=i&A;if(!M&&typeof r!="function")throw new jt(l);var z=d?d.length:0;if(z||(i&=-97,d=g=n),E=E===n?E:et(ge(E),0),k=k===n?k:ge(k),z-=g?g.length:0,i&V){var H=d,U=g;d=g=n}var X=M?n:kc(r),re=[r,i,c,d,g,H,U,x,E,k];if(X&&hb(re,X),r=re[0],i=re[1],c=re[2],d=re[3],g=re[4],k=re[9]=re[9]===n?M?0:r.length:et(re[9]-z,0),!k&&i&(O|D)&&(i&=-25),!i||i==C)var ae=Zy(r,i,c);else i==O||i==D?ae=Ky(r,i,k):(i==j||i==(C|j))&&!g.length?ae=qy(r,i,c,d):ae=ps.apply(n,re);var ve=X?pf:$f;return Gf(ve(ae,re),r,i)}function Lf(r,i,c,d){return r===n||qt(r,Qr[c])&&!Le.call(d,c)?i:r}function Nf(r,i,c,d,g,x){return $e(r)&&$e(i)&&(x.set(i,r),us(r,i,n,Nf,x),x.delete(i)),r}function Qy(r){return ro(r)?n:r}function jf(r,i,c,d,g,x){var E=c&T,k=r.length,M=i.length;if(k!=M&&!(E&&M>k))return!1;var z=x.get(r),H=x.get(i);if(z&&H)return z==i&&H==r;var U=-1,X=!0,re=c&_?new wr:n;for(x.set(r,i),x.set(i,r);++U<k;){var ae=r[U],ve=i[U];if(d)var ce=E?d(ve,ae,U,i,r,x):d(ae,ve,U,r,i,x);if(ce!==n){if(ce)continue;X=!1;break}if(re){if(!Ka(i,function(Se,Ae){if(!Bi(re,Ae)&&(ae===Se||g(ae,Se,c,d,x)))return re.push(Ae)})){X=!1;break}}else if(!(ae===ve||g(ae,ve,c,d,x))){X=!1;break}}return x.delete(r),x.delete(i),X}function eb(r,i,c,d,g,x,E){switch(c){case $n:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case Vn:return!(r.byteLength!=i.byteLength||!x(new Jo(r),new Jo(i)));case wt:case Yt:case sn:return qt(+r,+i);case Wn:return r.name==i.name&&r.message==i.message;case mr:case Sn:return r==i+"";case xt:var k=nc;case St:var M=d&T;if(k||(k=Go),r.size!=i.size&&!M)return!1;var z=E.get(r);if(z)return z==i;d|=_,E.set(r,i);var H=jf(k(r),k(i),d,g,x,E);return E.delete(r),H;case Wr:if(Xi)return Xi.call(r)==Xi.call(i)}return!1}function tb(r,i,c,d,g,x){var E=c&T,k=Ic(r),M=k.length,z=Ic(i),H=z.length;if(M!=H&&!E)return!1;for(var U=M;U--;){var X=k[U];if(!(E?X in i:Le.call(i,X)))return!1}var re=x.get(r),ae=x.get(i);if(re&&ae)return re==i&&ae==r;var ve=!0;x.set(r,i),x.set(i,r);for(var ce=E;++U<M;){X=k[U];var Se=r[X],Ae=i[X];if(d)var It=E?d(Ae,Se,X,i,r,x):d(Se,Ae,X,r,i,x);if(!(It===n?Se===Ae||g(Se,Ae,c,d,x):It)){ve=!1;break}ce||(ce=X=="constructor")}if(ve&&!ce){var pt=r.constructor,At=i.constructor;pt!=At&&"constructor"in r&&"constructor"in i&&!(typeof pt=="function"&&pt instanceof pt&&typeof At=="function"&&At instanceof At)&&(ve=!1)}return x.delete(r),x.delete(i),ve}function An(r){return Lc(Bf(r,n,Jf),r+"")}function Ic(r){return nf(r,rt,Pc)}function Ac(r){return nf(r,yt,Ff)}var kc=is?function(r){return is.get(r)}:Xc;function ys(r){for(var i=r.name+"",c=ti[i],d=Le.call(ti,i)?c.length:0;d--;){var g=c[d],x=g.func;if(x==null||x==r)return g.name}return i}function oi(r){var i=Le.call(y,"placeholder")?y:r;return i.placeholder}function se(){var r=y.iteratee||Gc;return r=r===Gc?sf:r,arguments.length?r(arguments[0],arguments[1]):r}function bs(r,i){var c=r.__data__;return lb(i)?c[typeof i=="string"?"string":"hash"]:c.map}function Rc(r){for(var i=rt(r),c=i.length;c--;){var d=i[c],g=r[d];i[c]=[d,g,Uf(g)]}return i}function _r(r,i){var c=f2(r,i);return of(c)?c:n}function nb(r){var i=Le.call(r,yr),c=r[yr];try{r[yr]=n;var d=!0}catch{}var g=Ko.call(r);return d&&(i?r[yr]=c:delete r[yr]),g}var Pc=ic?function(r){return r==null?[]:(r=Ne(r),Yn(ic(r),function(i){return Bd.call(r,i)}))}:Zc,Ff=ic?function(r){for(var i=[];r;)Xn(i,Pc(r)),r=Qo(r);return i}:Zc,lt=ft;(oc&&lt(new oc(new ArrayBuffer(1)))!=$n||$i&&lt(new $i)!=xt||sc&&lt(sc.resolve())!=Pi||ei&&lt(new ei)!=St||Gi&&lt(new Gi)!=Bn)&&(lt=function(r){var i=ft(r),c=i==Dt?r.constructor:n,d=c?Er(c):"";if(d)switch(d){case F2:return $n;case z2:return xt;case H2:return Pi;case U2:return St;case W2:return Bn}return i});function rb(r,i,c){for(var d=-1,g=c.length;++d<g;){var x=c[d],E=x.size;switch(x.type){case"drop":r+=E;break;case"dropRight":i-=E;break;case"take":i=ct(i,r+E);break;case"takeRight":r=et(r,i-E);break}}return{start:r,end:i}}function ib(r){var i=r.match(Fa);return i?i[1].split(I):[]}function zf(r,i,c){i=Qn(i,r);for(var d=-1,g=i.length,x=!1;++d<g;){var E=ln(i[d]);if(!(x=r!=null&&c(r,E)))break;r=r[E]}return x||++d!=g?x:(g=r==null?0:r.length,!!g&&Cs(g)&&kn(E,g)&&(he(r)||Tr(r)))}function ob(r){var i=r.length,c=new r.constructor(i);return i&&typeof r[0]=="string"&&Le.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function Hf(r){return typeof r.constructor=="function"&&!to(r)?ni(Qo(r)):{}}function sb(r,i,c){var d=r.constructor;switch(i){case Vn:return Ec(r);case wt:case Yt:return new d(+r);case $n:return By(r,c);case Br:case Vr:case Oi:case Mi:case Di:case Li:case Ni:case ji:case Fi:return Sf(r,c);case xt:return new d;case sn:case Sn:return new d(r);case mr:return Vy(r);case St:return new d;case Wr:return $y(r)}}function ab(r,i){var c=i.length;if(!c)return r;var d=c-1;return i[d]=(c>1?"& ":"")+i[d],i=i.join(c>2?", ":" "),r.replace(ja,`{
/* [wrapped with `+i+`] */
`)}function cb(r){return he(r)||Tr(r)||!!(Vd&&r&&r[Vd])}function kn(r,i){var c=typeof r;return i=i??ne,!!i&&(c=="number"||c!="symbol"&&Ge.test(r))&&r>-1&&r%1==0&&r<i}function ht(r,i,c){if(!$e(c))return!1;var d=typeof i;return(d=="number"?vt(c)&&kn(i,c.length):d=="string"&&i in c)?qt(c[i],r):!1}function Oc(r,i){if(he(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||Ct(r)?!0:Da.test(r)||!Uo.test(r)||i!=null&&r in Ne(i)}function lb(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function Mc(r){var i=ys(r),c=y[i];if(typeof c!="function"||!(i in Te.prototype))return!1;if(r===c)return!0;var d=kc(c);return!!d&&r===d[0]}function ub(r){return!!Hd&&Hd in r}var db=Xo?Rn:Kc;function to(r){var i=r&&r.constructor,c=typeof i=="function"&&i.prototype||Qr;return r===c}function Uf(r){return r===r&&!$e(r)}function Wf(r,i){return function(c){return c==null?!1:c[r]===i&&(i!==n||r in Ne(c))}}function fb(r){var i=Es(r,function(d){return c.size===h&&c.clear(),d}),c=i.cache;return i}function hb(r,i){var c=r[1],d=i[1],g=c|d,x=g<(C|A|F),E=d==F&&c==O||d==F&&c==$&&r[7].length<=i[8]||d==(F|$)&&i[7].length<=i[8]&&c==O;if(!(x||E))return r;d&C&&(r[2]=i[2],g|=c&C?0:R);var k=i[3];if(k){var M=r[3];r[3]=M?Ef(M,k,i[4]):k,r[4]=M?Zn(r[3],p):i[4]}return k=i[5],k&&(M=r[5],r[5]=M?Tf(M,k,i[6]):k,r[6]=M?Zn(r[5],p):i[6]),k=i[7],k&&(r[7]=k),d&F&&(r[8]=r[8]==null?i[8]:ct(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=g,r}function pb(r){var i=[];if(r!=null)for(var c in Ne(r))i.push(c);return i}function gb(r){return Ko.call(r)}function Bf(r,i,c){return i=et(i===n?r.length-1:i,0),function(){for(var d=arguments,g=-1,x=et(d.length-i,0),E=L(x);++g<x;)E[g]=d[i+g];g=-1;for(var k=L(i+1);++g<i;)k[g]=d[g];return k[i]=c(E),_t(r,this,k)}}function Vf(r,i){return i.length<2?r:Sr(r,Ht(i,0,-1))}function mb(r,i){for(var c=r.length,d=ct(i.length,c),g=mt(r);d--;){var x=i[d];r[d]=kn(x,c)?g[x]:n}return r}function Dc(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var $f=Yf(pf),no=P2||function(r,i){return ot.setTimeout(r,i)},Lc=Yf(zy);function Gf(r,i,c){var d=i+"";return Lc(r,ab(d,vb(ib(d),c)))}function Yf(r){var i=0,c=0;return function(){var d=L2(),g=te-(d-c);if(c=d,g>0){if(++i>=Y)return arguments[0]}else i=0;return r.apply(n,arguments)}}function ws(r,i){var c=-1,d=r.length,g=d-1;for(i=i===n?d:i;++c<i;){var x=vc(c,g),E=r[x];r[x]=r[c],r[c]=E}return r.length=i,r}var Xf=fb(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(La,function(c,d,g,x){i.push(g?x.replace(le,"$1"):d||c)}),i});function ln(r){if(typeof r=="string"||Ct(r))return r;var i=r+"";return i=="0"&&1/r==-1/0?"-0":i}function Er(r){if(r!=null){try{return Zo.call(r)}catch{}try{return r+""}catch{}}return""}function vb(r,i){return Nt(pr,function(c){var d="_."+c[0];i&c[1]&&!Vo(r,d)&&r.push(d)}),r.sort()}function Zf(r){if(r instanceof Te)return r.clone();var i=new Ft(r.__wrapped__,r.__chain__);return i.__actions__=mt(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function yb(r,i,c){(c?ht(r,i,c):i===n)?i=1:i=et(ge(i),0);var d=r==null?0:r.length;if(!d||i<1)return[];for(var g=0,x=0,E=L(ns(d/i));g<d;)E[x++]=Ht(r,g,g+=i);return E}function bb(r){for(var i=-1,c=r==null?0:r.length,d=0,g=[];++i<c;){var x=r[i];x&&(g[d++]=x)}return g}function wb(){var r=arguments.length;if(!r)return[];for(var i=L(r-1),c=arguments[0],d=r;d--;)i[d-1]=arguments[d];return Xn(he(c)?mt(c):[c],st(i,1))}var xb=ye(function(r,i){return Ze(r)?Ki(r,st(i,1,Ze,!0)):[]}),Sb=ye(function(r,i){var c=Ut(i);return Ze(c)&&(c=n),Ze(r)?Ki(r,st(i,1,Ze,!0),se(c,2)):[]}),_b=ye(function(r,i){var c=Ut(i);return Ze(c)&&(c=n),Ze(r)?Ki(r,st(i,1,Ze,!0),n,c):[]});function Eb(r,i,c){var d=r==null?0:r.length;return d?(i=c||i===n?1:ge(i),Ht(r,i<0?0:i,d)):[]}function Tb(r,i,c){var d=r==null?0:r.length;return d?(i=c||i===n?1:ge(i),i=d-i,Ht(r,0,i<0?0:i)):[]}function Cb(r,i){return r&&r.length?fs(r,se(i,3),!0,!0):[]}function Ib(r,i){return r&&r.length?fs(r,se(i,3),!0):[]}function Ab(r,i,c,d){var g=r==null?0:r.length;return g?(c&&typeof c!="number"&&ht(r,i,c)&&(c=0,d=g),wy(r,i,c,d)):[]}function Kf(r,i,c){var d=r==null?0:r.length;if(!d)return-1;var g=c==null?0:ge(c);return g<0&&(g=et(d+g,0)),$o(r,se(i,3),g)}function qf(r,i,c){var d=r==null?0:r.length;if(!d)return-1;var g=d-1;return c!==n&&(g=ge(c),g=c<0?et(d+g,0):ct(g,d-1)),$o(r,se(i,3),g,!0)}function Jf(r){var i=r==null?0:r.length;return i?st(r,1):[]}function kb(r){var i=r==null?0:r.length;return i?st(r,de):[]}function Rb(r,i){var c=r==null?0:r.length;return c?(i=i===n?1:ge(i),st(r,i)):[]}function Pb(r){for(var i=-1,c=r==null?0:r.length,d={};++i<c;){var g=r[i];d[g[0]]=g[1]}return d}function Qf(r){return r&&r.length?r[0]:n}function Ob(r,i,c){var d=r==null?0:r.length;if(!d)return-1;var g=c==null?0:ge(c);return g<0&&(g=et(d+g,0)),Zr(r,i,g)}function Mb(r){var i=r==null?0:r.length;return i?Ht(r,0,-1):[]}var Db=ye(function(r){var i=We(r,Sc);return i.length&&i[0]===r[0]?fc(i):[]}),Lb=ye(function(r){var i=Ut(r),c=We(r,Sc);return i===Ut(c)?i=n:c.pop(),c.length&&c[0]===r[0]?fc(c,se(i,2)):[]}),Nb=ye(function(r){var i=Ut(r),c=We(r,Sc);return i=typeof i=="function"?i:n,i&&c.pop(),c.length&&c[0]===r[0]?fc(c,n,i):[]});function jb(r,i){return r==null?"":M2.call(r,i)}function Ut(r){var i=r==null?0:r.length;return i?r[i-1]:n}function Fb(r,i,c){var d=r==null?0:r.length;if(!d)return-1;var g=d;return c!==n&&(g=ge(c),g=g<0?et(d+g,0):ct(g,d-1)),i===i?v2(r,i,g):$o(r,Od,g,!0)}function zb(r,i){return r&&r.length?uf(r,ge(i)):n}var Hb=ye(eh);function eh(r,i){return r&&r.length&&i&&i.length?mc(r,i):r}function Ub(r,i,c){return r&&r.length&&i&&i.length?mc(r,i,se(c,2)):r}function Wb(r,i,c){return r&&r.length&&i&&i.length?mc(r,i,n,c):r}var Bb=An(function(r,i){var c=r==null?0:r.length,d=cc(r,i);return hf(r,We(i,function(g){return kn(g,c)?+g:g}).sort(_f)),d});function Vb(r,i){var c=[];if(!(r&&r.length))return c;var d=-1,g=[],x=r.length;for(i=se(i,3);++d<x;){var E=r[d];i(E,d,r)&&(c.push(E),g.push(d))}return hf(r,g),c}function Nc(r){return r==null?r:j2.call(r)}function $b(r,i,c){var d=r==null?0:r.length;return d?(c&&typeof c!="number"&&ht(r,i,c)?(i=0,c=d):(i=i==null?0:ge(i),c=c===n?d:ge(c)),Ht(r,i,c)):[]}function Gb(r,i){return ds(r,i)}function Yb(r,i,c){return bc(r,i,se(c,2))}function Xb(r,i){var c=r==null?0:r.length;if(c){var d=ds(r,i);if(d<c&&qt(r[d],i))return d}return-1}function Zb(r,i){return ds(r,i,!0)}function Kb(r,i,c){return bc(r,i,se(c,2),!0)}function qb(r,i){var c=r==null?0:r.length;if(c){var d=ds(r,i,!0)-1;if(qt(r[d],i))return d}return-1}function Jb(r){return r&&r.length?gf(r):[]}function Qb(r,i){return r&&r.length?gf(r,se(i,2)):[]}function ew(r){var i=r==null?0:r.length;return i?Ht(r,1,i):[]}function tw(r,i,c){return r&&r.length?(i=c||i===n?1:ge(i),Ht(r,0,i<0?0:i)):[]}function nw(r,i,c){var d=r==null?0:r.length;return d?(i=c||i===n?1:ge(i),i=d-i,Ht(r,i<0?0:i,d)):[]}function rw(r,i){return r&&r.length?fs(r,se(i,3),!1,!0):[]}function iw(r,i){return r&&r.length?fs(r,se(i,3)):[]}var ow=ye(function(r){return Jn(st(r,1,Ze,!0))}),sw=ye(function(r){var i=Ut(r);return Ze(i)&&(i=n),Jn(st(r,1,Ze,!0),se(i,2))}),aw=ye(function(r){var i=Ut(r);return i=typeof i=="function"?i:n,Jn(st(r,1,Ze,!0),n,i)});function cw(r){return r&&r.length?Jn(r):[]}function lw(r,i){return r&&r.length?Jn(r,se(i,2)):[]}function uw(r,i){return i=typeof i=="function"?i:n,r&&r.length?Jn(r,n,i):[]}function jc(r){if(!(r&&r.length))return[];var i=0;return r=Yn(r,function(c){if(Ze(c))return i=et(c.length,i),!0}),ec(i,function(c){return We(r,qa(c))})}function th(r,i){if(!(r&&r.length))return[];var c=jc(r);return i==null?c:We(c,function(d){return _t(i,n,d)})}var dw=ye(function(r,i){return Ze(r)?Ki(r,i):[]}),fw=ye(function(r){return xc(Yn(r,Ze))}),hw=ye(function(r){var i=Ut(r);return Ze(i)&&(i=n),xc(Yn(r,Ze),se(i,2))}),pw=ye(function(r){var i=Ut(r);return i=typeof i=="function"?i:n,xc(Yn(r,Ze),n,i)}),gw=ye(jc);function mw(r,i){return bf(r||[],i||[],Zi)}function vw(r,i){return bf(r||[],i||[],Qi)}var yw=ye(function(r){var i=r.length,c=i>1?r[i-1]:n;return c=typeof c=="function"?(r.pop(),c):n,th(r,c)});function nh(r){var i=y(r);return i.__chain__=!0,i}function bw(r,i){return i(r),r}function xs(r,i){return i(r)}var ww=An(function(r){var i=r.length,c=i?r[0]:0,d=this.__wrapped__,g=function(x){return cc(x,r)};return i>1||this.__actions__.length||!(d instanceof Te)||!kn(c)?this.thru(g):(d=d.slice(c,+c+(i?1:0)),d.__actions__.push({func:xs,args:[g],thisArg:n}),new Ft(d,this.__chain__).thru(function(x){return i&&!x.length&&x.push(n),x}))});function xw(){return nh(this)}function Sw(){return new Ft(this.value(),this.__chain__)}function _w(){this.__values__===n&&(this.__values__=mh(this.value()));var r=this.__index__>=this.__values__.length,i=r?n:this.__values__[this.__index__++];return{done:r,value:i}}function Ew(){return this}function Tw(r){for(var i,c=this;c instanceof ss;){var d=Zf(c);d.__index__=0,d.__values__=n,i?g.__wrapped__=d:i=d;var g=d;c=c.__wrapped__}return g.__wrapped__=r,i}function Cw(){var r=this.__wrapped__;if(r instanceof Te){var i=r;return this.__actions__.length&&(i=new Te(this)),i=i.reverse(),i.__actions__.push({func:xs,args:[Nc],thisArg:n}),new Ft(i,this.__chain__)}return this.thru(Nc)}function Iw(){return yf(this.__wrapped__,this.__actions__)}var Aw=hs(function(r,i,c){Le.call(r,c)?++r[c]:Cn(r,c,1)});function kw(r,i,c){var d=he(r)?Rd:by;return c&&ht(r,i,c)&&(i=n),d(r,se(i,3))}function Rw(r,i){var c=he(r)?Yn:ef;return c(r,se(i,3))}var Pw=kf(Kf),Ow=kf(qf);function Mw(r,i){return st(Ss(r,i),1)}function Dw(r,i){return st(Ss(r,i),de)}function Lw(r,i,c){return c=c===n?1:ge(c),st(Ss(r,i),c)}function rh(r,i){var c=he(r)?Nt:qn;return c(r,se(i,3))}function ih(r,i){var c=he(r)?e2:Qd;return c(r,se(i,3))}var Nw=hs(function(r,i,c){Le.call(r,c)?r[c].push(i):Cn(r,c,[i])});function jw(r,i,c,d){r=vt(r)?r:ai(r),c=c&&!d?ge(c):0;var g=r.length;return c<0&&(c=et(g+c,0)),Is(r)?c<=g&&r.indexOf(i,c)>-1:!!g&&Zr(r,i,c)>-1}var Fw=ye(function(r,i,c){var d=-1,g=typeof i=="function",x=vt(r)?L(r.length):[];return qn(r,function(E){x[++d]=g?_t(i,E,c):qi(E,i,c)}),x}),zw=hs(function(r,i,c){Cn(r,c,i)});function Ss(r,i){var c=he(r)?We:af;return c(r,se(i,3))}function Hw(r,i,c,d){return r==null?[]:(he(i)||(i=i==null?[]:[i]),c=d?n:c,he(c)||(c=c==null?[]:[c]),df(r,i,c))}var Uw=hs(function(r,i,c){r[c?0:1].push(i)},function(){return[[],[]]});function Ww(r,i,c){var d=he(r)?Za:Dd,g=arguments.length<3;return d(r,se(i,4),c,g,qn)}function Bw(r,i,c){var d=he(r)?t2:Dd,g=arguments.length<3;return d(r,se(i,4),c,g,Qd)}function Vw(r,i){var c=he(r)?Yn:ef;return c(r,Ts(se(i,3)))}function $w(r){var i=he(r)?Zd:jy;return i(r)}function Gw(r,i,c){(c?ht(r,i,c):i===n)?i=1:i=ge(i);var d=he(r)?py:Fy;return d(r,i)}function Yw(r){var i=he(r)?gy:Hy;return i(r)}function Xw(r){if(r==null)return 0;if(vt(r))return Is(r)?qr(r):r.length;var i=lt(r);return i==xt||i==St?r.size:pc(r).length}function Zw(r,i,c){var d=he(r)?Ka:Uy;return c&&ht(r,i,c)&&(i=n),d(r,se(i,3))}var Kw=ye(function(r,i){if(r==null)return[];var c=i.length;return c>1&&ht(r,i[0],i[1])?i=[]:c>2&&ht(i[0],i[1],i[2])&&(i=[i[0]]),df(r,st(i,1),[])}),_s=R2||function(){return ot.Date.now()};function qw(r,i){if(typeof i!="function")throw new jt(l);return r=ge(r),function(){if(--r<1)return i.apply(this,arguments)}}function oh(r,i,c){return i=c?n:i,i=r&&i==null?r.length:i,In(r,F,n,n,n,n,i)}function sh(r,i){var c;if(typeof i!="function")throw new jt(l);return r=ge(r),function(){return--r>0&&(c=i.apply(this,arguments)),r<=1&&(i=n),c}}var Fc=ye(function(r,i,c){var d=C;if(c.length){var g=Zn(c,oi(Fc));d|=j}return In(r,d,i,c,g)}),ah=ye(function(r,i,c){var d=C|A;if(c.length){var g=Zn(c,oi(ah));d|=j}return In(i,d,r,c,g)});function ch(r,i,c){i=c?n:i;var d=In(r,O,n,n,n,n,n,i);return d.placeholder=ch.placeholder,d}function lh(r,i,c){i=c?n:i;var d=In(r,D,n,n,n,n,n,i);return d.placeholder=lh.placeholder,d}function uh(r,i,c){var d,g,x,E,k,M,z=0,H=!1,U=!1,X=!0;if(typeof r!="function")throw new jt(l);i=Wt(i)||0,$e(c)&&(H=!!c.leading,U="maxWait"in c,x=U?et(Wt(c.maxWait)||0,i):x,X="trailing"in c?!!c.trailing:X);function re(Ke){var Jt=d,On=g;return d=g=n,z=Ke,E=r.apply(On,Jt),E}function ae(Ke){return z=Ke,k=no(Se,i),H?re(Ke):E}function ve(Ke){var Jt=Ke-M,On=Ke-z,kh=i-Jt;return U?ct(kh,x-On):kh}function ce(Ke){var Jt=Ke-M,On=Ke-z;return M===n||Jt>=i||Jt<0||U&&On>=x}function Se(){var Ke=_s();if(ce(Ke))return Ae(Ke);k=no(Se,ve(Ke))}function Ae(Ke){return k=n,X&&d?re(Ke):(d=g=n,E)}function It(){k!==n&&wf(k),z=0,d=M=g=k=n}function pt(){return k===n?E:Ae(_s())}function At(){var Ke=_s(),Jt=ce(Ke);if(d=arguments,g=this,M=Ke,Jt){if(k===n)return ae(M);if(U)return wf(k),k=no(Se,i),re(M)}return k===n&&(k=no(Se,i)),E}return At.cancel=It,At.flush=pt,At}var Jw=ye(function(r,i){return Jd(r,1,i)}),Qw=ye(function(r,i,c){return Jd(r,Wt(i)||0,c)});function ex(r){return In(r,G)}function Es(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new jt(l);var c=function(){var d=arguments,g=i?i.apply(this,d):d[0],x=c.cache;if(x.has(g))return x.get(g);var E=r.apply(this,d);return c.cache=x.set(g,E)||x,E};return c.cache=new(Es.Cache||Tn),c}Es.Cache=Tn;function Ts(r){if(typeof r!="function")throw new jt(l);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function tx(r){return sh(2,r)}var nx=Wy(function(r,i){i=i.length==1&&he(i[0])?We(i[0],Et(se())):We(st(i,1),Et(se()));var c=i.length;return ye(function(d){for(var g=-1,x=ct(d.length,c);++g<x;)d[g]=i[g].call(this,d[g]);return _t(r,this,d)})}),zc=ye(function(r,i){var c=Zn(i,oi(zc));return In(r,j,n,i,c)}),dh=ye(function(r,i){var c=Zn(i,oi(dh));return In(r,V,n,i,c)}),rx=An(function(r,i){return In(r,$,n,n,n,i)});function ix(r,i){if(typeof r!="function")throw new jt(l);return i=i===n?i:ge(i),ye(r,i)}function ox(r,i){if(typeof r!="function")throw new jt(l);return i=i==null?0:et(ge(i),0),ye(function(c){var d=c[i],g=er(c,0,i);return d&&Xn(g,d),_t(r,this,g)})}function sx(r,i,c){var d=!0,g=!0;if(typeof r!="function")throw new jt(l);return $e(c)&&(d="leading"in c?!!c.leading:d,g="trailing"in c?!!c.trailing:g),uh(r,i,{leading:d,maxWait:i,trailing:g})}function ax(r){return oh(r,1)}function cx(r,i){return zc(_c(i),r)}function lx(){if(!arguments.length)return[];var r=arguments[0];return he(r)?r:[r]}function ux(r){return zt(r,S)}function dx(r,i){return i=typeof i=="function"?i:n,zt(r,S,i)}function fx(r){return zt(r,v|S)}function hx(r,i){return i=typeof i=="function"?i:n,zt(r,v|S,i)}function px(r,i){return i==null||qd(r,i,rt(i))}function qt(r,i){return r===i||r!==r&&i!==i}var gx=vs(dc),mx=vs(function(r,i){return r>=i}),Tr=rf(function(){return arguments}())?rf:function(r){return Ye(r)&&Le.call(r,"callee")&&!Bd.call(r,"callee")},he=L.isArray,vx=Ed?Et(Ed):Ty;function vt(r){return r!=null&&Cs(r.length)&&!Rn(r)}function Ze(r){return Ye(r)&&vt(r)}function yx(r){return r===!0||r===!1||Ye(r)&&ft(r)==wt}var tr=O2||Kc,bx=Td?Et(Td):Cy;function wx(r){return Ye(r)&&r.nodeType===1&&!ro(r)}function xx(r){if(r==null)return!0;if(vt(r)&&(he(r)||typeof r=="string"||typeof r.splice=="function"||tr(r)||si(r)||Tr(r)))return!r.length;var i=lt(r);if(i==xt||i==St)return!r.size;if(to(r))return!pc(r).length;for(var c in r)if(Le.call(r,c))return!1;return!0}function Sx(r,i){return Ji(r,i)}function _x(r,i,c){c=typeof c=="function"?c:n;var d=c?c(r,i):n;return d===n?Ji(r,i,n,c):!!d}function Hc(r){if(!Ye(r))return!1;var i=ft(r);return i==Wn||i==Un||typeof r.message=="string"&&typeof r.name=="string"&&!ro(r)}function Ex(r){return typeof r=="number"&&$d(r)}function Rn(r){if(!$e(r))return!1;var i=ft(r);return i==wn||i==xn||i==Gt||i==Ur}function fh(r){return typeof r=="number"&&r==ge(r)}function Cs(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=ne}function $e(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function Ye(r){return r!=null&&typeof r=="object"}var hh=Cd?Et(Cd):Ay;function Tx(r,i){return r===i||hc(r,i,Rc(i))}function Cx(r,i,c){return c=typeof c=="function"?c:n,hc(r,i,Rc(i),c)}function Ix(r){return ph(r)&&r!=+r}function Ax(r){if(db(r))throw new fe(a);return of(r)}function kx(r){return r===null}function Rx(r){return r==null}function ph(r){return typeof r=="number"||Ye(r)&&ft(r)==sn}function ro(r){if(!Ye(r)||ft(r)!=Dt)return!1;var i=Qo(r);if(i===null)return!0;var c=Le.call(i,"constructor")&&i.constructor;return typeof c=="function"&&c instanceof c&&Zo.call(c)==C2}var Uc=Id?Et(Id):ky;function Px(r){return fh(r)&&r>=-9007199254740991&&r<=ne}var gh=Ad?Et(Ad):Ry;function Is(r){return typeof r=="string"||!he(r)&&Ye(r)&&ft(r)==Sn}function Ct(r){return typeof r=="symbol"||Ye(r)&&ft(r)==Wr}var si=kd?Et(kd):Py;function Ox(r){return r===n}function Mx(r){return Ye(r)&&lt(r)==Bn}function Dx(r){return Ye(r)&&ft(r)==jo}var Lx=vs(gc),Nx=vs(function(r,i){return r<=i});function mh(r){if(!r)return[];if(vt(r))return Is(r)?Zt(r):mt(r);if(Vi&&r[Vi])return p2(r[Vi]());var i=lt(r),c=i==xt?nc:i==St?Go:ai;return c(r)}function Pn(r){if(!r)return r===0?r:0;if(r=Wt(r),r===de||r===-1/0){var i=r<0?-1:1;return i*xe}return r===r?r:0}function ge(r){var i=Pn(r),c=i%1;return i===i?c?i-c:i:0}function vh(r){return r?xr(ge(r),0,De):0}function Wt(r){if(typeof r=="number")return r;if(Ct(r))return pe;if($e(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=$e(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=Ld(r);var c=be.test(r);return c||Ve.test(r)?qv(r.slice(2),c?2:8):Ee.test(r)?pe:+r}function yh(r){return cn(r,yt(r))}function jx(r){return r?xr(ge(r),-9007199254740991,ne):r===0?r:0}function Me(r){return r==null?"":Tt(r)}var Fx=ri(function(r,i){if(to(i)||vt(i)){cn(i,rt(i),r);return}for(var c in i)Le.call(i,c)&&Zi(r,c,i[c])}),bh=ri(function(r,i){cn(i,yt(i),r)}),As=ri(function(r,i,c,d){cn(i,yt(i),r,d)}),zx=ri(function(r,i,c,d){cn(i,rt(i),r,d)}),Hx=An(cc);function Ux(r,i){var c=ni(r);return i==null?c:Kd(c,i)}var Wx=ye(function(r,i){r=Ne(r);var c=-1,d=i.length,g=d>2?i[2]:n;for(g&&ht(i[0],i[1],g)&&(d=1);++c<d;)for(var x=i[c],E=yt(x),k=-1,M=E.length;++k<M;){var z=E[k],H=r[z];(H===n||qt(H,Qr[z])&&!Le.call(r,z))&&(r[z]=x[z])}return r}),Bx=ye(function(r){return r.push(n,Nf),_t(wh,n,r)});function Vx(r,i){return Pd(r,se(i,3),an)}function $x(r,i){return Pd(r,se(i,3),uc)}function Gx(r,i){return r==null?r:lc(r,se(i,3),yt)}function Yx(r,i){return r==null?r:tf(r,se(i,3),yt)}function Xx(r,i){return r&&an(r,se(i,3))}function Zx(r,i){return r&&uc(r,se(i,3))}function Kx(r){return r==null?[]:ls(r,rt(r))}function qx(r){return r==null?[]:ls(r,yt(r))}function Wc(r,i,c){var d=r==null?n:Sr(r,i);return d===n?c:d}function Jx(r,i){return r!=null&&zf(r,i,xy)}function Bc(r,i){return r!=null&&zf(r,i,Sy)}var Qx=Pf(function(r,i,c){i!=null&&typeof i.toString!="function"&&(i=Ko.call(i)),r[i]=c},$c(bt)),e5=Pf(function(r,i,c){i!=null&&typeof i.toString!="function"&&(i=Ko.call(i)),Le.call(r,i)?r[i].push(c):r[i]=[c]},se),t5=ye(qi);function rt(r){return vt(r)?Xd(r):pc(r)}function yt(r){return vt(r)?Xd(r,!0):Oy(r)}function n5(r,i){var c={};return i=se(i,3),an(r,function(d,g,x){Cn(c,i(d,g,x),d)}),c}function r5(r,i){var c={};return i=se(i,3),an(r,function(d,g,x){Cn(c,g,i(d,g,x))}),c}var i5=ri(function(r,i,c){us(r,i,c)}),wh=ri(function(r,i,c,d){us(r,i,c,d)}),o5=An(function(r,i){var c={};if(r==null)return c;var d=!1;i=We(i,function(x){return x=Qn(x,r),d||(d=x.length>1),x}),cn(r,Ac(r),c),d&&(c=zt(c,v|b|S,Qy));for(var g=i.length;g--;)wc(c,i[g]);return c});function s5(r,i){return xh(r,Ts(se(i)))}var a5=An(function(r,i){return r==null?{}:Dy(r,i)});function xh(r,i){if(r==null)return{};var c=We(Ac(r),function(d){return[d]});return i=se(i),ff(r,c,function(d,g){return i(d,g[0])})}function c5(r,i,c){i=Qn(i,r);var d=-1,g=i.length;for(g||(g=1,r=n);++d<g;){var x=r==null?n:r[ln(i[d])];x===n&&(d=g,x=c),r=Rn(x)?x.call(r):x}return r}function l5(r,i,c){return r==null?r:Qi(r,i,c)}function u5(r,i,c,d){return d=typeof d=="function"?d:n,r==null?r:Qi(r,i,c,d)}var Sh=Df(rt),_h=Df(yt);function d5(r,i,c){var d=he(r),g=d||tr(r)||si(r);if(i=se(i,4),c==null){var x=r&&r.constructor;g?c=d?new x:[]:$e(r)?c=Rn(x)?ni(Qo(r)):{}:c={}}return(g?Nt:an)(r,function(E,k,M){return i(c,E,k,M)}),c}function f5(r,i){return r==null?!0:wc(r,i)}function h5(r,i,c){return r==null?r:vf(r,i,_c(c))}function p5(r,i,c,d){return d=typeof d=="function"?d:n,r==null?r:vf(r,i,_c(c),d)}function ai(r){return r==null?[]:tc(r,rt(r))}function g5(r){return r==null?[]:tc(r,yt(r))}function m5(r,i,c){return c===n&&(c=i,i=n),c!==n&&(c=Wt(c),c=c===c?c:0),i!==n&&(i=Wt(i),i=i===i?i:0),xr(Wt(r),i,c)}function v5(r,i,c){return i=Pn(i),c===n?(c=i,i=0):c=Pn(c),r=Wt(r),_y(r,i,c)}function y5(r,i,c){if(c&&typeof c!="boolean"&&ht(r,i,c)&&(i=c=n),c===n&&(typeof i=="boolean"?(c=i,i=n):typeof r=="boolean"&&(c=r,r=n)),r===n&&i===n?(r=0,i=1):(r=Pn(r),i===n?(i=r,r=0):i=Pn(i)),r>i){var d=r;r=i,i=d}if(c||r%1||i%1){var g=Gd();return ct(r+g*(i-r+Kv("1e-"+((g+"").length-1))),i)}return vc(r,i)}var b5=ii(function(r,i,c){return i=i.toLowerCase(),r+(c?Eh(i):i)});function Eh(r){return Vc(Me(r).toLowerCase())}function Th(r){return r=Me(r),r&&r.replace(gt,l2).replace(Hv,"")}function w5(r,i,c){r=Me(r),i=Tt(i);var d=r.length;c=c===n?d:xr(ge(c),0,d);var g=c;return c-=i.length,c>=0&&r.slice(c,g)==i}function x5(r){return r=Me(r),r&&Oa.test(r)?r.replace(Gr,u2):r}function S5(r){return r=Me(r),r&&Wo.test(r)?r.replace(Yr,"\\$&"):r}var _5=ii(function(r,i,c){return r+(c?"-":"")+i.toLowerCase()}),E5=ii(function(r,i,c){return r+(c?" ":"")+i.toLowerCase()}),T5=Af("toLowerCase");function C5(r,i,c){r=Me(r),i=ge(i);var d=i?qr(r):0;if(!i||d>=i)return r;var g=(i-d)/2;return ms(rs(g),c)+r+ms(ns(g),c)}function I5(r,i,c){r=Me(r),i=ge(i);var d=i?qr(r):0;return i&&d<i?r+ms(i-d,c):r}function A5(r,i,c){r=Me(r),i=ge(i);var d=i?qr(r):0;return i&&d<i?ms(i-d,c)+r:r}function k5(r,i,c){return c||i==null?i=0:i&&(i=+i),N2(Me(r).replace(Ui,""),i||0)}function R5(r,i,c){return(c?ht(r,i,c):i===n)?i=1:i=ge(i),yc(Me(r),i)}function P5(){var r=arguments,i=Me(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var O5=ii(function(r,i,c){return r+(c?"_":"")+i.toLowerCase()});function M5(r,i,c){return c&&typeof c!="number"&&ht(r,i,c)&&(i=c=n),c=c===n?De:c>>>0,c?(r=Me(r),r&&(typeof i=="string"||i!=null&&!Uc(i))&&(i=Tt(i),!i&&Kr(r))?er(Zt(r),0,c):r.split(i,c)):[]}var D5=ii(function(r,i,c){return r+(c?" ":"")+Vc(i)});function L5(r,i,c){return r=Me(r),c=c==null?0:xr(ge(c),0,r.length),i=Tt(i),r.slice(c,c+i.length)==i}function N5(r,i,c){var d=y.templateSettings;c&&ht(r,i,c)&&(i=n),r=Me(r),i=As({},i,d,Lf);var g=As({},i.imports,d.imports,Lf),x=rt(g),E=tc(g,x),k,M,z=0,H=i.interpolate||Xt,U="__p += '",X=rc((i.escape||Xt).source+"|"+H.source+"|"+(H===Hi?ke:Xt).source+"|"+(i.evaluate||Xt).source+"|$","g"),re="//# sourceURL="+(Le.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$v+"]")+`
`;r.replace(X,function(ce,Se,Ae,It,pt,At){return Ae||(Ae=It),U+=r.slice(z,At).replace(_n,d2),Se&&(k=!0,U+=`' +
__e(`+Se+`) +
'`),pt&&(M=!0,U+=`';
`+pt+`;
__p += '`),Ae&&(U+=`' +
((__t = (`+Ae+`)) == null ? '' : __t) +
'`),z=At+ce.length,ce}),U+=`';
`;var ae=Le.call(i,"variable")&&i.variable;if(!ae)U=`with (obj) {
`+U+`
}
`;else if(K.test(ae))throw new fe(u);U=(M?U.replace(zi,""):U).replace(Fo,"$1").replace(Gn,"$1;"),U="function("+(ae||"obj")+`) {
`+(ae?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(k?", __e = _.escape":"")+(M?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+U+`return __p
}`;var ve=Ih(function(){return Re(x,re+"return "+U).apply(n,E)});if(ve.source=U,Hc(ve))throw ve;return ve}function j5(r){return Me(r).toLowerCase()}function F5(r){return Me(r).toUpperCase()}function z5(r,i,c){if(r=Me(r),r&&(c||i===n))return Ld(r);if(!r||!(i=Tt(i)))return r;var d=Zt(r),g=Zt(i),x=Nd(d,g),E=jd(d,g)+1;return er(d,x,E).join("")}function H5(r,i,c){if(r=Me(r),r&&(c||i===n))return r.slice(0,zd(r)+1);if(!r||!(i=Tt(i)))return r;var d=Zt(r),g=jd(d,Zt(i))+1;return er(d,0,g).join("")}function U5(r,i,c){if(r=Me(r),r&&(c||i===n))return r.replace(Ui,"");if(!r||!(i=Tt(i)))return r;var d=Zt(r),g=Nd(d,Zt(i));return er(d,g).join("")}function W5(r,i){var c=q,d=ee;if($e(i)){var g="separator"in i?i.separator:g;c="length"in i?ge(i.length):c,d="omission"in i?Tt(i.omission):d}r=Me(r);var x=r.length;if(Kr(r)){var E=Zt(r);x=E.length}if(c>=x)return r;var k=c-qr(d);if(k<1)return d;var M=E?er(E,0,k).join(""):r.slice(0,k);if(g===n)return M+d;if(E&&(k+=M.length-k),Uc(g)){if(r.slice(k).search(g)){var z,H=M;for(g.global||(g=rc(g.source,Me(Oe.exec(g))+"g")),g.lastIndex=0;z=g.exec(H);)var U=z.index;M=M.slice(0,U===n?k:U)}}else if(r.indexOf(Tt(g),k)!=k){var X=M.lastIndexOf(g);X>-1&&(M=M.slice(0,X))}return M+d}function B5(r){return r=Me(r),r&&zo.test(r)?r.replace($r,y2):r}var V5=ii(function(r,i,c){return r+(c?" ":"")+i.toUpperCase()}),Vc=Af("toUpperCase");function Ch(r,i,c){return r=Me(r),i=c?n:i,i===n?h2(r)?x2(r):i2(r):r.match(i)||[]}var Ih=ye(function(r,i){try{return _t(r,n,i)}catch(c){return Hc(c)?c:new fe(c)}}),$5=An(function(r,i){return Nt(i,function(c){c=ln(c),Cn(r,c,Fc(r[c],r))}),r});function G5(r){var i=r==null?0:r.length,c=se();return r=i?We(r,function(d){if(typeof d[1]!="function")throw new jt(l);return[c(d[0]),d[1]]}):[],ye(function(d){for(var g=-1;++g<i;){var x=r[g];if(_t(x[0],this,d))return _t(x[1],this,d)}})}function Y5(r){return yy(zt(r,v))}function $c(r){return function(){return r}}function X5(r,i){return r==null||r!==r?i:r}var Z5=Rf(),K5=Rf(!0);function bt(r){return r}function Gc(r){return sf(typeof r=="function"?r:zt(r,v))}function q5(r){return cf(zt(r,v))}function J5(r,i){return lf(r,zt(i,v))}var Q5=ye(function(r,i){return function(c){return qi(c,r,i)}}),e3=ye(function(r,i){return function(c){return qi(r,c,i)}});function Yc(r,i,c){var d=rt(i),g=ls(i,d);c==null&&!($e(i)&&(g.length||!d.length))&&(c=i,i=r,r=this,g=ls(i,rt(i)));var x=!($e(c)&&"chain"in c)||!!c.chain,E=Rn(r);return Nt(g,function(k){var M=i[k];r[k]=M,E&&(r.prototype[k]=function(){var z=this.__chain__;if(x||z){var H=r(this.__wrapped__),U=H.__actions__=mt(this.__actions__);return U.push({func:M,args:arguments,thisArg:r}),H.__chain__=z,H}return M.apply(r,Xn([this.value()],arguments))})}),r}function t3(){return ot._===this&&(ot._=I2),this}function Xc(){}function n3(r){return r=ge(r),ye(function(i){return uf(i,r)})}var r3=Tc(We),i3=Tc(Rd),o3=Tc(Ka);function Ah(r){return Oc(r)?qa(ln(r)):Ly(r)}function s3(r){return function(i){return r==null?n:Sr(r,i)}}var a3=Of(),c3=Of(!0);function Zc(){return[]}function Kc(){return!1}function l3(){return{}}function u3(){return""}function d3(){return!0}function f3(r,i){if(r=ge(r),r<1||r>ne)return[];var c=De,d=ct(r,De);i=se(i),r-=De;for(var g=ec(d,i);++c<r;)i(c);return g}function h3(r){return he(r)?We(r,ln):Ct(r)?[r]:mt(Xf(Me(r)))}function p3(r){var i=++T2;return Me(r)+i}var g3=gs(function(r,i){return r+i},0),m3=Cc("ceil"),v3=gs(function(r,i){return r/i},1),y3=Cc("floor");function b3(r){return r&&r.length?cs(r,bt,dc):n}function w3(r,i){return r&&r.length?cs(r,se(i,2),dc):n}function x3(r){return Md(r,bt)}function S3(r,i){return Md(r,se(i,2))}function _3(r){return r&&r.length?cs(r,bt,gc):n}function E3(r,i){return r&&r.length?cs(r,se(i,2),gc):n}var T3=gs(function(r,i){return r*i},1),C3=Cc("round"),I3=gs(function(r,i){return r-i},0);function A3(r){return r&&r.length?Qa(r,bt):0}function k3(r,i){return r&&r.length?Qa(r,se(i,2)):0}return y.after=qw,y.ary=oh,y.assign=Fx,y.assignIn=bh,y.assignInWith=As,y.assignWith=zx,y.at=Hx,y.before=sh,y.bind=Fc,y.bindAll=$5,y.bindKey=ah,y.castArray=lx,y.chain=nh,y.chunk=yb,y.compact=bb,y.concat=wb,y.cond=G5,y.conforms=Y5,y.constant=$c,y.countBy=Aw,y.create=Ux,y.curry=ch,y.curryRight=lh,y.debounce=uh,y.defaults=Wx,y.defaultsDeep=Bx,y.defer=Jw,y.delay=Qw,y.difference=xb,y.differenceBy=Sb,y.differenceWith=_b,y.drop=Eb,y.dropRight=Tb,y.dropRightWhile=Cb,y.dropWhile=Ib,y.fill=Ab,y.filter=Rw,y.flatMap=Mw,y.flatMapDeep=Dw,y.flatMapDepth=Lw,y.flatten=Jf,y.flattenDeep=kb,y.flattenDepth=Rb,y.flip=ex,y.flow=Z5,y.flowRight=K5,y.fromPairs=Pb,y.functions=Kx,y.functionsIn=qx,y.groupBy=Nw,y.initial=Mb,y.intersection=Db,y.intersectionBy=Lb,y.intersectionWith=Nb,y.invert=Qx,y.invertBy=e5,y.invokeMap=Fw,y.iteratee=Gc,y.keyBy=zw,y.keys=rt,y.keysIn=yt,y.map=Ss,y.mapKeys=n5,y.mapValues=r5,y.matches=q5,y.matchesProperty=J5,y.memoize=Es,y.merge=i5,y.mergeWith=wh,y.method=Q5,y.methodOf=e3,y.mixin=Yc,y.negate=Ts,y.nthArg=n3,y.omit=o5,y.omitBy=s5,y.once=tx,y.orderBy=Hw,y.over=r3,y.overArgs=nx,y.overEvery=i3,y.overSome=o3,y.partial=zc,y.partialRight=dh,y.partition=Uw,y.pick=a5,y.pickBy=xh,y.property=Ah,y.propertyOf=s3,y.pull=Hb,y.pullAll=eh,y.pullAllBy=Ub,y.pullAllWith=Wb,y.pullAt=Bb,y.range=a3,y.rangeRight=c3,y.rearg=rx,y.reject=Vw,y.remove=Vb,y.rest=ix,y.reverse=Nc,y.sampleSize=Gw,y.set=l5,y.setWith=u5,y.shuffle=Yw,y.slice=$b,y.sortBy=Kw,y.sortedUniq=Jb,y.sortedUniqBy=Qb,y.split=M5,y.spread=ox,y.tail=ew,y.take=tw,y.takeRight=nw,y.takeRightWhile=rw,y.takeWhile=iw,y.tap=bw,y.throttle=sx,y.thru=xs,y.toArray=mh,y.toPairs=Sh,y.toPairsIn=_h,y.toPath=h3,y.toPlainObject=yh,y.transform=d5,y.unary=ax,y.union=ow,y.unionBy=sw,y.unionWith=aw,y.uniq=cw,y.uniqBy=lw,y.uniqWith=uw,y.unset=f5,y.unzip=jc,y.unzipWith=th,y.update=h5,y.updateWith=p5,y.values=ai,y.valuesIn=g5,y.without=dw,y.words=Ch,y.wrap=cx,y.xor=fw,y.xorBy=hw,y.xorWith=pw,y.zip=gw,y.zipObject=mw,y.zipObjectDeep=vw,y.zipWith=yw,y.entries=Sh,y.entriesIn=_h,y.extend=bh,y.extendWith=As,Yc(y,y),y.add=g3,y.attempt=Ih,y.camelCase=b5,y.capitalize=Eh,y.ceil=m3,y.clamp=m5,y.clone=ux,y.cloneDeep=fx,y.cloneDeepWith=hx,y.cloneWith=dx,y.conformsTo=px,y.deburr=Th,y.defaultTo=X5,y.divide=v3,y.endsWith=w5,y.eq=qt,y.escape=x5,y.escapeRegExp=S5,y.every=kw,y.find=Pw,y.findIndex=Kf,y.findKey=Vx,y.findLast=Ow,y.findLastIndex=qf,y.findLastKey=$x,y.floor=y3,y.forEach=rh,y.forEachRight=ih,y.forIn=Gx,y.forInRight=Yx,y.forOwn=Xx,y.forOwnRight=Zx,y.get=Wc,y.gt=gx,y.gte=mx,y.has=Jx,y.hasIn=Bc,y.head=Qf,y.identity=bt,y.includes=jw,y.indexOf=Ob,y.inRange=v5,y.invoke=t5,y.isArguments=Tr,y.isArray=he,y.isArrayBuffer=vx,y.isArrayLike=vt,y.isArrayLikeObject=Ze,y.isBoolean=yx,y.isBuffer=tr,y.isDate=bx,y.isElement=wx,y.isEmpty=xx,y.isEqual=Sx,y.isEqualWith=_x,y.isError=Hc,y.isFinite=Ex,y.isFunction=Rn,y.isInteger=fh,y.isLength=Cs,y.isMap=hh,y.isMatch=Tx,y.isMatchWith=Cx,y.isNaN=Ix,y.isNative=Ax,y.isNil=Rx,y.isNull=kx,y.isNumber=ph,y.isObject=$e,y.isObjectLike=Ye,y.isPlainObject=ro,y.isRegExp=Uc,y.isSafeInteger=Px,y.isSet=gh,y.isString=Is,y.isSymbol=Ct,y.isTypedArray=si,y.isUndefined=Ox,y.isWeakMap=Mx,y.isWeakSet=Dx,y.join=jb,y.kebabCase=_5,y.last=Ut,y.lastIndexOf=Fb,y.lowerCase=E5,y.lowerFirst=T5,y.lt=Lx,y.lte=Nx,y.max=b3,y.maxBy=w3,y.mean=x3,y.meanBy=S3,y.min=_3,y.minBy=E3,y.stubArray=Zc,y.stubFalse=Kc,y.stubObject=l3,y.stubString=u3,y.stubTrue=d3,y.multiply=T3,y.nth=zb,y.noConflict=t3,y.noop=Xc,y.now=_s,y.pad=C5,y.padEnd=I5,y.padStart=A5,y.parseInt=k5,y.random=y5,y.reduce=Ww,y.reduceRight=Bw,y.repeat=R5,y.replace=P5,y.result=c5,y.round=C3,y.runInContext=P,y.sample=$w,y.size=Xw,y.snakeCase=O5,y.some=Zw,y.sortedIndex=Gb,y.sortedIndexBy=Yb,y.sortedIndexOf=Xb,y.sortedLastIndex=Zb,y.sortedLastIndexBy=Kb,y.sortedLastIndexOf=qb,y.startCase=D5,y.startsWith=L5,y.subtract=I3,y.sum=A3,y.sumBy=k3,y.template=N5,y.times=f3,y.toFinite=Pn,y.toInteger=ge,y.toLength=vh,y.toLower=j5,y.toNumber=Wt,y.toSafeInteger=jx,y.toString=Me,y.toUpper=F5,y.trim=z5,y.trimEnd=H5,y.trimStart=U5,y.truncate=W5,y.unescape=B5,y.uniqueId=p3,y.upperCase=V5,y.upperFirst=Vc,y.each=rh,y.eachRight=ih,y.first=Qf,Yc(y,function(){var r={};return an(y,function(i,c){Le.call(y.prototype,c)||(r[c]=i)}),r}(),{chain:!1}),y.VERSION=o,Nt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){y[r].placeholder=y}),Nt(["drop","take"],function(r,i){Te.prototype[r]=function(c){c=c===n?1:et(ge(c),0);var d=this.__filtered__&&!i?new Te(this):this.clone();return d.__filtered__?d.__takeCount__=ct(c,d.__takeCount__):d.__views__.push({size:ct(c,De),type:r+(d.__dir__<0?"Right":"")}),d},Te.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),Nt(["filter","map","takeWhile"],function(r,i){var c=i+1,d=c==ie||c==oe;Te.prototype[r]=function(g){var x=this.clone();return x.__iteratees__.push({iteratee:se(g,3),type:c}),x.__filtered__=x.__filtered__||d,x}}),Nt(["head","last"],function(r,i){var c="take"+(i?"Right":"");Te.prototype[r]=function(){return this[c](1).value()[0]}}),Nt(["initial","tail"],function(r,i){var c="drop"+(i?"":"Right");Te.prototype[r]=function(){return this.__filtered__?new Te(this):this[c](1)}}),Te.prototype.compact=function(){return this.filter(bt)},Te.prototype.find=function(r){return this.filter(r).head()},Te.prototype.findLast=function(r){return this.reverse().find(r)},Te.prototype.invokeMap=ye(function(r,i){return typeof r=="function"?new Te(this):this.map(function(c){return qi(c,r,i)})}),Te.prototype.reject=function(r){return this.filter(Ts(se(r)))},Te.prototype.slice=function(r,i){r=ge(r);var c=this;return c.__filtered__&&(r>0||i<0)?new Te(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),i!==n&&(i=ge(i),c=i<0?c.dropRight(-i):c.take(i-r)),c)},Te.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Te.prototype.toArray=function(){return this.take(De)},an(Te.prototype,function(r,i){var c=/^(?:filter|find|map|reject)|While$/.test(i),d=/^(?:head|last)$/.test(i),g=y[d?"take"+(i=="last"?"Right":""):i],x=d||/^find/.test(i);g&&(y.prototype[i]=function(){var E=this.__wrapped__,k=d?[1]:arguments,M=E instanceof Te,z=k[0],H=M||he(E),U=function(Se){var Ae=g.apply(y,Xn([Se],k));return d&&X?Ae[0]:Ae};H&&c&&typeof z=="function"&&z.length!=1&&(M=H=!1);var X=this.__chain__,re=!!this.__actions__.length,ae=x&&!X,ve=M&&!re;if(!x&&H){E=ve?E:new Te(this);var ce=r.apply(E,k);return ce.__actions__.push({func:xs,args:[U],thisArg:n}),new Ft(ce,X)}return ae&&ve?r.apply(this,k):(ce=this.thru(U),ae?d?ce.value()[0]:ce.value():ce)})}),Nt(["pop","push","shift","sort","splice","unshift"],function(r){var i=Yo[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",d=/^(?:pop|shift)$/.test(r);y.prototype[r]=function(){var g=arguments;if(d&&!this.__chain__){var x=this.value();return i.apply(he(x)?x:[],g)}return this[c](function(E){return i.apply(he(E)?E:[],g)})}}),an(Te.prototype,function(r,i){var c=y[i];if(c){var d=c.name+"";Le.call(ti,d)||(ti[d]=[]),ti[d].push({name:i,func:c})}}),ti[ps(n,A).name]=[{name:"wrapper",func:n}],Te.prototype.clone=B2,Te.prototype.reverse=V2,Te.prototype.value=$2,y.prototype.at=ww,y.prototype.chain=xw,y.prototype.commit=Sw,y.prototype.next=_w,y.prototype.plant=Tw,y.prototype.reverse=Cw,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=Iw,y.prototype.first=y.prototype.head,Vi&&(y.prototype[Vi]=Ew),y},Jr=S2();vr?((vr.exports=Jr)._=Jr,Ga._=Jr):ot._=Jr}).call(io)})(Qs,Qs.exports);var Pe=Qs.exports;const t9=()=>{const{trackItemIds:e,trackItemsMap:t,fps:n,trackItemDetailsMap:o}=mn(),s=Pe.merge(t,o);return m.jsx(m.Fragment,{children:e.map(a=>{const l=s[a];return o0[l.type](l,{fps:n})})})},s0=()=>{const e=J.useRef(null),{setPlayerRef:t,duration:n,fps:o,size:s}=mn();return J.useEffect(()=>{t(e)},[]),m.jsx(Fu,{className:"size-full",children:m.jsx(R3.Player,{ref:e,component:t9,durationInFrames:Math.round(n/1e3*o)||5*30,compositionWidth:s.width,compositionHeight:s.height,style:{width:"100%",height:"100%"},inputProps:{},fps:o,controls:!0,numberOfSharedAudioTags:10})})},a0=({scrollLeft:e})=>{const t=J.useRef(null),{playerRef:n,fps:o,scale:s}=mn(),a=xa(n??void 0),l=qe(a/o*1e3,s.zoom)-e,[u,f]=J.useState(!1),[h,p]=J.useState(0),[v,b]=J.useState(l),S=()=>{f(!1)},T=C=>{f(!0);const A="touches"in C?C.touches[0].clientX:C.clientX;p(A),b(l)},_=C=>{if(u){const R=("touches"in C?C.touches[0].clientX:C.clientX)-h,O=v+R,D=Bt(O,s.zoom);n?.current?.seekTo(D*o/1e3)}};return J.useEffect(()=>{const C=A=>{A.preventDefault()};return u?(document.addEventListener("mousemove",_),document.addEventListener("mouseup",S),document.addEventListener("touchmove",_),document.addEventListener("touchend",S),document.addEventListener("dragstart",C)):(document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",S),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",S)),()=>{document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",S),document.removeEventListener("touchmove",_),document.removeEventListener("touchend",S),document.removeEventListener("dragstart",C)}},[u,_,S]),m.jsx("div",{ref:t,role:"button",tabIndex:0,onMouseDown:C=>{T(C)},onTouchStart:C=>{T(C)},onKeyDown:C=>{(C.key==="Enter"||C.key===" ")&&T(C)},style:{position:"absolute",left:40+wa+l,top:80,width:1,height:"calc(100% - 80px)",background:"#d4d4d8",zIndex:10,cursor:"pointer"},children:m.jsxs("div",{className:"relative h-full",children:[m.jsx("div",{className:"absolute top-0  h-full w-3 -translate-x-1/2"}),m.jsx("div",{className:"absolute top-0  h-full w-0.5 -translate-x-1/2 bg-white/50"}),m.jsx("div",{style:{borderRadius:"0 0 20px 20px"},className:"absolute h-3 -translate-x-1/2 px-1.5",children:m.jsx("svg",{height:"12",viewBox:"0 0 12 12",fill:"none",children:m.jsx("path",{fill:"currentColor",d:"M11.6585 7.04881L6.6585 11.4238C6.28148 11.7537 5.71852 11.7537 5.3415 11.4238L0.341495 7.04881C0.12448 6.85892 0 6.58459 0 6.29623V1C0 0.447715 0.447715 0 1 0H11C11.5523 0 12 0.447715 12 1V6.29623C12 6.58459 11.8755 6.85892 11.6585 7.04881Z"})})})]})})},c0=e=>{const{height:t=40,longLineSize:n=8,shortLineSize:o=6,offsetX:s=Js+wa,textOffsetY:a=12,textFormat:l=Nm,scrollLeft:u=0,onClick:f}=e,{scale:h}=mn(),p=J.useRef(null),[v,b]=J.useState(null),[S,T]=J.useState({width:0,height:t});J.useEffect(()=>{const R=p.current;if(R){const O=R.getContext("2d");b(O),_(R,O,u)}},[]),J.useEffect(()=>{v&&_(p.current,v,u)},[v,u,h]);const _=(R,O,D)=>{if(!R||!O)return;const V=R.offsetParent.offsetWidth??R.offsetWidth,F=S.height;R.width=V,R.height=F,C(O,D,V,F),T({width:V,height:F})},C=(R,O,D,j)=>{const V=h.zoom,F=h.unit,$=h.segments;R.clearRect(0,0,D,j),R.save(),R.strokeStyle="#71717a",R.fillStyle="#71717a",R.lineWidth=1,R.font=`${Rm}px ${Pm}`,R.textBaseline="top",R.translate(.5,0),R.beginPath();const G=F*V*Po,q=Math.floor(O/G),Y=Math.ceil((O+D)/G)-q;for(let te=0;te<=Y;++te){const ie=te+q;if(ie<0)continue;const Ie=ie*G/V,oe=(Ie-O/V)*V;if(oe<-G||oe>=D+G)continue;const de=l(Ie),xe=-R.measureText(de).width/2;R.fillText(de,oe+xe+s,a)}for(let te=0;te<=Y;++te){const ie=te+q;if(ie<0)continue;const oe=ie*G-O+s;for(let de=0;de<$;++de){const ne=oe+de/$*G;if(ne<0||ne>=D)continue;const xe=de%$?o:n;xe===o?R.strokeStyle="#a1a1aa":R.strokeStyle="#d4d4d8";const pe=32,[De,bn]=[ne,pe],[Hn,pr]=[De,bn+xe];R.beginPath(),R.moveTo(De,bn),R.lineTo(Hn,pr),R.stroke()}}R.restore()},A=R=>{const O=p.current;if(!O)return;const D=O.getBoundingClientRect(),V=R.clientX-D.left+u-Js;f?.(V)};return m.jsx("div",{className:"border-border border-t",style:{position:"relative",width:"100%",height:`${S.height}px`,backgroundColor:"transparent"},children:m.jsx("canvas",{onClick:A,ref:p,height:S.height})})},l0=()=>m.jsx(Fu,{flexGrow:"1",justify:"center",width:"100%",height:"100%",className:"bg-scene py-3",children:m.jsx("div",{className:"max-w-3xl flex-1  w-full h-full flex relative",children:m.jsx(s0,{})})});class u0{___eventListeners;___activeObjects;constructor(){this.___activeObjects=[],this.___eventListeners={}}pauseEventListeners(){this.___eventListeners=this.__eventListeners,this.__eventListeners={};const t=this.getActiveObjects();this.discardActiveObject(),this.___activeObjects=t}resumeEventListeners(){this.__eventListeners=this.___eventListeners,this.___eventListeners={};const t=this.___activeObjects;if(!t.length)return this.requestRenderAll(),!1;if(t.length===1)this.setActiveObject(t[0]);else{const n=new Z.ActiveSelection(t);this.setActiveObject(n)}this.requestRenderAll()}}class Or extends Z.Rect{isSelected=!1;text;tScale;display;id;backgroundColor;static ownDefaults={rx:6,ry:6,objectCaching:!1,borderColor:"transparent",stroke:"transparent",strokeWidth:0,fill:"#27272a",borderOpacityWhenMoving:1,hoverCursor:"default",fontSize:16,fontFamily:"Arial",fontColor:"#ffffff",textAlign:"center"};static type="Text";constructor(t){super(t),Object.assign(this,Or.ownDefaults),this.id=t.id,this.tScale=t.tScale,this.display=t.display,this.text=t.text||"",this.backgroundColor=t.backgroundColor||"transparent"}static createControls(){return{controls:Bu()}}static getDefaults(){return{...super.getDefaults(),...Or.ownDefaults}}setSelected(t){this.isSelected=t,this.set({dirty:!0})}_render(t){super._render(t),this.updateSelected(t)}updateSelected(t){this.isSelected&&(t.save(),t.beginPath(),t.roundRect(-this.width/2,-this.height/2,this.width,this.height,6),t.lineWidth=2,t.strokeStyle="rgba(0, 216, 214,1.0)",t.stroke(),t.restore())}}function Fn(e,t,n,o,s){e.save(),e.translate(t,n),e.rotate(Z.util.degreesToRadians(90+s.angle)),e.beginPath(),e.lineWidth=4,e.lineCap="round",e.strokeStyle="#dfe2e8",e.moveTo(-6,0),e.lineTo(6,0),e.stroke(),e.restore()}function Bu(){return{mr:new Z.Control({x:.5,y:0,actionHandler:wo,cursorStyleHandler:Z.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing",render:Fn}),ml:new Z.Control({x:-.5,y:0,actionHandler:wo,cursorStyleHandler:Z.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing",render:Fn})}}const wo=Z.controlsUtils.wrapWithFireEvent("resizing",Z.controlsUtils.wrapWithFixedAnchor((e,t,n,o)=>{const s=Z.controlsUtils.getLocalPoint(t,t.originX,t.originY,n,o);if(n9(t.originX)||i9(t.originX)&&s.x<0||r9(t.originX)&&s.x>0){const a=t.target,l=a.strokeWidth/(a.strokeUniform?a.scaleX:1),u=o9(t)?2:1,f=a.width,h=Math.ceil(Math.abs(s.x*u/a.scaleX)-l);if(t.corner==="ml"){const v=f-h;if(a.left+v<0)return a.set("width",a.width+a.left),!0}return a.set("width",Math.max(h,0)),f!==a.width}return!1})),d0={left:-.5,top:-.5,center:0,bottom:.5,right:.5},_e=e=>typeof e=="string"?d0[e]:e-.5,n9=e=>_e(e)===_e("center"),r9=e=>_e(e)===_e("left"),i9=e=>_e(e)===_e("right");function o9(e){return _e(e.originX)===_e("center")&&_e(e.originY)===_e("center")}Z.classRegistry.setClass(Or,"Text");class Vt extends Z.Rect{static type="Transition";id;duration;fromId;toId;static ownDefaults={objectCaching:!1,borderColor:"transparent",stroke:"transparent",strokeWidth:1.5,fill:"rgba(0, 0, 0, 0.5)",borderOpacityWhenMoving:1,hoverCursor:"default",lockMovementX:!0,lockMovementY:!0,duration:1500,rx:8,ry:8};isSelected=!1;constructor(t){super(t),this.id=t.id,this.fromId=t.fromId,this.toId=t.toId,Object.assign(this,{duration:t.duration,fromId:t.fromId,toId:t.toId,kind:t.kind,tScale:t.tScale,strokeDashArray:t.strokeDashArray||[],isSelected:!1,centeredScaling:!0,strokeWidth:0}),Object.assign(this,Vt.ownDefaults)}static createControls(){return{controls:s9()}}static getDefaults(){return{...super.getDefaults(),...Vt.ownDefaults}}updateCoords(){}_render(t){super._render(t),this.updateSelected(t)}setSelected(t){this.isSelected=t,this.set({dirty:!0})}updateSelected(t){t.save(),t.beginPath(),t.roundRect(-this.width/2,-this.height/2,this.width,this.height,this.rx),t.lineWidth=2,this.strokeDashArray&&t.setLineDash(this.strokeDashArray),t.strokeStyle=this.isSelected?"rgba(255, 255, 255,1.0)":"rgba(255, 255, 255,0.15)",t.stroke(),t.restore()}}Z.classRegistry.setClass(Vt,"Transition");const s9=()=>({mr:new Z.Control({x:.5,y:0,actionHandler:wp,cursorStyleHandler:Z.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing",render:Fn}),ml:new Z.Control({x:-.5,y:0,actionHandler:wp,cursorStyleHandler:Z.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing",render:Fn})});Z.classRegistry.setClass(Vt,"Transition");const{wrapWithFireEvent:a9,getLocalPoint:c9}=Z.controlsUtils,Hl="center",l9="left",u9="right";function d9(e){return(t,n,o,s)=>{const{target:a,originX:l,originY:u}=n,f=a.getRelativeCenterPoint(),h=a.translateToOriginPoint(f,l,u),p=e(t,n,o,s);return a.setPositionByOrigin(h,l,u),p}}const f9=(e,t,n,o)=>{const s=c9(t,t.originX,t.originY,n,o);if(_e(t.originX)===_e(Hl)||_e(t.originX)===_e(u9)&&s.x<0||_e(t.originX)===_e(l9)&&s.x>0){const{target:a}=t,l=a.strokeWidth/(a.strokeUniform?a.scaleX:1),u=h9(t)?2:1,f=a.width,h=Math.ceil(Math.abs(s.x*u/a.scaleX)-l),p=Bt(h,a.tScale);return p>=1500||p<500?!1:(a.set("width",Math.max(h,0)),a.set("duration",p),a.setCoords(),a.canvas&&a.canvas.renderAll(),f!==a.width)}return!1};function h9(e){return _e(e.originX)===_e(Hl)&&_e(e.originY)===_e(Hl)}const wp=a9("resizing",d9(f9));class wi extends Z.Rect{static type="Placeholder";guideItemId;distXToActCenter;trackItemType;defaultPos;draggedObject=null;for;id;static ownDefaults={rx:6,ry:6,objectCaching:!1,borderColor:"transparent",strokeWidth:0,fill:"rgba(255, 211, 42, 0.1)",stroke:"rgba(255, 211, 42, 1.0)",selectable:!1,borderOpacityWhenMoving:1,hoverCursor:"default",strokeDashArray:[5,1],evented:!1};constructor(t){super(t),this.id=t.id,this.for=t.for,Object.assign(this,wi.ownDefaults)}static getDefaults(){return{...super.getDefaults(),...wi.ownDefaults}}_render(t){super._render(t),this.updateSelected(t)}updateSelected(t){t.save(),t.beginPath(),t.roundRect(-this.width/2,-this.height/2,this.width,this.height,this.rx),t.lineWidth=2,this.strokeDashArray&&t.setLineDash(this.strokeDashArray),t.strokeStyle="rgba(0, 216, 214,1.0)",t.stroke(),t.restore()}}Z.classRegistry.setClass(wi,"Placeholder");const p9={top:{top:35,guideHeight:2,bottom:3},center:{top:3,guideHeight:2,bottom:3},bottom:{top:3,guideHeight:2,bottom:35}},Mo="rgba(0, 216, 214, 1.0)",fl=(e,t,n)=>new Z.Rect({top:e,left:0,strokeWidth:0,fill:"transparent",selectable:!0,height:n,width:t});class ho extends Z.Group{static type="Helper";static defaultSettings={selectable:!1,evented:!1};static ownDefaults={...ho.defaultSettings};guide;topGuide;bottomGuide;id;metadata={};tScale;kind;constructor(t){const n=p9[t.kind],o=fl(0,t.width,n.top),s=fl(n.top,t.width,n.guideHeight),a=fl(n.top+n.guideHeight,t.width,n.bottom);super([o,s,a],{...ho.defaultSettings,...t}),this.topGuide=o,this.guide=s,this.bottomGuide=a,this.id=t.id,this.metadata=t.metadata??{},this.tScale=t.tScale,this.kind=t.kind}static getDefaults(){return{...super.getDefaults(),...ho.defaultSettings}}updateCoords(t){this.scaleToWidth(t),this.set("scaleY",1)}setSelected(t){this.guide.set("fill",t?Mo:"transparent")}}const ki=ho;Z.classRegistry.setClass(ki,"Helper");class lr extends Z.Rect{static ownDefaults={selectable:!1,evented:!1,strokeWidth:0,stroke:"transparent"};static type="Track";id;accepts;metadata;items;borderColor="transparent";stroke="transparent";strokeWidth=0;constructor(t){super(t),Object.assign(this,lr.ownDefaults),this.id=t.id,this.accepts=t.accepts||["audio","video","image","text"],this.items=t.items||[],this.metadata=t.metadata}static getDefaults(){return{...super.getDefaults(),...lr.ownDefaults}}updateCoords(t){this.width=t}}Z.classRegistry.setClass(lr,"Track");class ea extends Z.Rect{isSelected;tScale;display;id;src;itemType;static ownDefaults={rx:8,ry:8,objectCaching:!1,borderColor:"transparent",stroke:"transparent",strokeWidth:0,borderOpacityWhenMoving:1,hoverCursor:"default",fill:"#27272a"};static type="Image";constructor(t){super(t),this.itemType="image",this.isSelected=!1,Object.assign(this,ea.ownDefaults),this.id=t.id,this.src=t.src,this.display=t.display,this.tScale=t.tScale}static createControls(){return{controls:Bu()}}static getDefaults(){return{...super.getDefaults(),...ea.ownDefaults}}_render(t){super._render(t),this.updateSelected(t)}setSelected(t){this.isSelected=t,this.set({dirty:!0})}updateSelected(t){this.isSelected&&(t.save(),t.beginPath(),t.roundRect(-this.width/2,-this.height/2,this.width,this.height,this.rx),t.lineWidth=2,t.strokeStyle=Mo,t.stroke(),t.restore())}}const _a=ea;Z.classRegistry.setClass(_a,"Image");class Ln extends Z.Rect{id;itemType="audio";isSelected=!1;trim;src;tScale;display;static ownDefaults={rx:6,ry:6,objectCaching:!1,borderColor:"transparent",stroke:"transparent",strokeWidth:0,fill:"#27272a",borderOpacityWhenMoving:1,hoverCursor:"default"};static type="Audio";constructor(t){super({...Ln.getDefaults(),...t}),this.id=t.id,this.tScale=t.tScale,this.display=t.display,this.trim=t.trim,this.src=t.src}static getDefaults(){return{...super.getDefaults(),...Ln.ownDefaults}}static createControls(){return{controls:f0()}}setSelected(t){this.isSelected=t,this.set({dirty:!0})}_render(t){super._render(t),this.updateSelected(t)}updateSelected(t){this.isSelected&&(t.save(),t.beginPath(),t.roundRect(-this.width/2,-this.height/2,this.width,this.height,Ln.ownDefaults.rx),t.lineWidth=2,t.strokeStyle=Mo,t.stroke(),t.restore())}}Z.classRegistry.setClass(Ln,"Audio");const f0=()=>({mr:new Z.Control({x:.5,y:0,render:Fn,actionHandler:xp,cursorStyleHandler:Z.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing"}),ml:new Z.Control({x:-.5,y:0,render:Fn,actionHandler:xp,cursorStyleHandler:Z.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing"})}),{wrapWithFireEvent:g9,getLocalPoint:m9}=Z.controlsUtils,v9=(e,t,n,o)=>{const s=m9(t,t.originX,t.originY,n,o);if(_e(t.originX)===_e("center")||_e(t.originX)===_e("right")&&s.x<0||_e(t.originX)===_e("left")&&s.x>0){const{target:a}=t,l=a.strokeWidth/(a.strokeUniform?a.scaleX:1),u=Vu(t)?2:1,f=a.width,h=Math.ceil(Math.abs(s.x*u/a.scaleX)-l);if(t.corner==="ml"){const p=h-f,v=Bt(p,a.tScale);if(a.trim.from-v<0)return!1;const T=t.width-h;if(t.left+T<0)return t.set("width",t.width+t.left),!0}if(t.corner==="mr"){const p=a.trim.to,v=h-f,b=Bt(v,a.tScale),S=p+b;if(S>a.duration)return!1;a.set("width",Math.max(h,0)),a.trim.to=S}else{if(a.left<0)return!1;const p=f-h;if(a.left+p<0)return a.set("width",a.width+a.left),!0;const v=h-f,b=a.trim.from,S=Bt(v,a.tScale),T=b-S;if(T<0)return!1;a.set("width",Math.max(h,0)),a.trim.from=T}return f!==a.width}return!1};function Vu(e){return _e(e.originX)===_e("center")&&_e(e.originY)===_e("center")}const xp=g9("resizing",$u(v9));class zr extends Z.Rect{id;tScale;isSelected=!1;display;trim;static type="Video";static defaultProps={objectCaching:!1,rx:8,ry:8,fill:"#27272a"};constructor(t){super(Object.assign({},zr.defaultProps,t)),this.id=t.id,this.tScale=t.tScale,this.display=t.display,this.trim=t.trim}static createControls(){return{controls:h0()}}_render(t){super._render(t),this.updateSelected(t)}setSelected(t){this.isSelected=t,this.set({dirty:!0})}updateSelected(t){this.isSelected&&(t.save(),t.beginPath(),t.roundRect(-this.width/2,-this.height/2,this.width,this.height,this.rx),t.lineWidth=2,t.strokeStyle=Mo,t.stroke(),t.restore())}}Z.classRegistry.setClass(zr,"Video");const h0=()=>({mr:new Z.Control({x:.5,y:0,render:Fn,actionHandler:Sp,cursorStyleHandler:Z.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing"}),ml:new Z.Control({x:-.5,y:0,render:Fn,actionHandler:Sp,cursorStyleHandler:Z.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing"})}),{wrapWithFireEvent:y9,getLocalPoint:b9}=Z.controlsUtils,w9=(e,t,n,o)=>{const s=b9(t,t.originX,t.originY,n,o);if(_e(t.originX)===_e("center")||_e(t.originX)===_e("right")&&s.x<0||_e(t.originX)===_e("left")&&s.x>0){const{target:a}=t,l=a.strokeWidth/(a.strokeUniform?a.scaleX:1),u=Vu(t)?2:1,f=a.width,h=Math.ceil(Math.abs(s.x*u/a.scaleX)-l);if(t.corner==="ml"){const p=h-f,v=Bt(p,a.tScale);if(a.trim.from-v<0)return!1;const T=t.width-h;if(t.left+T<0)return t.set("width",t.width+t.left),!0}if(t.corner==="mr"){const p=a.trim.to,v=h-f,b=Bt(v,a.tScale),S=p+b;if(S>a.duration)return!1;a.set("width",Math.max(h,0)),a.trim.to=S}else{if(a.left<0)return!1;const p=f-h;if(a.left+p<0)return a.set("width",a.width+a.left),!0;const v=h-f,b=a.trim.from,S=Bt(v,a.tScale),T=b-S;if(T<0)return!1;a.set("width",Math.max(h,0)),a.trim.from=T}return f!==a.width}return!1};function $u(e){return(t,n,o,s)=>{const{target:a,originX:l,originY:u}=n,f=a.getRelativeCenterPoint(),h=a.translateToOriginPoint(f,l,u),p=e(t,n,o,s);return a.setPositionByOrigin(h,l,u),p}}const Sp=y9("resizing",$u(w9));class xo extends Z.Rect{static type="TransitionGuide";static ownDefaults={objectCaching:!1,borderColor:"transparent",stroke:"transparent",strokeWidth:1.5,fill:"rgba(0,0,0,0.85)",borderOpacityWhenMoving:1,hoverCursor:"default",lockMovementX:!0,lockMovementY:!0,duration:1500,rx:8,ry:8};tScale;duration=0;fromId;toId;itemType="none";isSelected=!1;id;constructor(t){super(t),Object.assign(this,xo.ownDefaults),this.id=t.id}static createControls(){return{controls:p0()}}static getDefaults(){return{...super.getDefaults(),...xo.ownDefaults}}updateCoords(){const t=this.canvas;if(!t)return;const n=t.getObjects().find(a=>a.id===this.fromId);if(!n)return;const o=qe(this.duration,this.tScale),s=n.left+n.width-o/2;this.set({width:o,left:s})}_render(t){super._render(t),this.drawTextIdentity(t),this.updateSelected(t)}drawTextIdentity(t){const n=new Path2D("M3 5.30359C3 3.93159 4.659 3.24359 5.629 4.21359L11.997 10.5826L10.583 11.9966L5 6.41359V17.5856L10.586 11.9996L10.583 11.9966L11.997 10.5826L12 10.5856L18.371 4.21459C19.341 3.24459 21 3.93159 21 5.30359V18.6956C21 20.0676 19.341 20.7556 18.371 19.7856L12 13.5L13.414 11.9996L19 17.5866V6.41359L13.414 11.9996L13.421 12.0056L12.006 13.4206L12 13.4136L5.629 19.7846C4.659 20.7546 3 20.0676 3 18.6956V5.30359Z");t.save(),t.translate(-12,-12),t.fillStyle="#ffffff",t.fill(n),t.restore()}setSelected(t){this.isSelected=t,this.set({dirty:!0})}updateSelected(t){this.isSelected&&(t.save(),t.beginPath(),t.roundRect(-this.width/2,-this.height/2,this.width,this.height,this.rx),t.lineWidth=1,t.strokeStyle="rgba(255, 255, 255,1.0)",t.stroke(),t.restore())}}function p0(){return{mr:new Z.Control({x:.5,y:0,actionHandler:wo,cursorStyleHandler:Z.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing",render:_p}),ml:new Z.Control({x:-.5,y:0,actionHandler:wo,cursorStyleHandler:Z.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing",render:_p})}}function _p(e,t,n,o,s){e.save(),e.translate(t,n),e.rotate(Z.util.degreesToRadians(90+s.angle)),e.lineWidth=6,e.lineCap="round",e.strokeStyle="white",e.beginPath(),e.moveTo(-6,0),e.lineTo(6,0),e.stroke(),e.lineWidth=4,e.strokeStyle="black",e.beginPath(),e.moveTo(-6,0),e.lineTo(6,0),e.stroke(),e.restore()}class So extends Z.Rect{static type="PreviewTrackItem";static ownDefaults={objectCaching:!1,borderColor:"transparent",stroke:"transparent",strokeWidth:0,borderOpacityWhenMoving:1,hoverCursor:"default",rx:4,ry:4};duration=0;fromId="";toId="";isSelected=!1;name;durationString;id;constructor(t){super(t),Object.assign(this,So.ownDefaults),this.id=t.id,this.name=t.name||"item",this.durationString="00:05",this.fill="#27272a"}static getDefaults(){return{...super.getDefaults(),...So.ownDefaults}}_render(t){t.save(),super._render(t),t.beginPath(),t.rect(-this.width/2,-this.height/2,this.width,this.height),t.clip(),this.drawTextIdentity(t),t.restore()}drawTextIdentity(t){t.font="600 12px 'Geist variable'",t.textAlign="left";const f=t.measureText(this.name).width,h=t.measureText(this.durationString).width,p=-this.height/2+4,v=-this.width/2,b=v+f+8*2+4,S=f+8*2;this.drawRoundedRect(t,v,p,S,20,4),t.fillStyle="#f4f4f5",t.fillText(this.name,v+8,p+12+2);const T=h+8*2;this.drawRoundedRect(t,b,p,T,20,4),t.fillStyle="#f4f4f5",t.fillText(this.durationString,b+8,p+12+2)}drawRoundedRect(t,n,o,s,a,l){t.fillStyle="rgba(0, 0, 0, 0.5)",t.roundRect?(t.beginPath(),t.roundRect(n,o,s,a,l),t.fill()):t.fillRect(n,o,s,a)}}function g0(e,t){t.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(o=>{if(o!=="constructor"){const s=Object.getOwnPropertyDescriptor(n.prototype,o);s&&Object.defineProperty(e.prototype,o,s)}})})}const Ea=(e,t)=>{const n={x:e.size.width/2,y:e.size.height/2},o={x:t.width/2,y:t.height/2},s=n.x-o.x,a=n.y-o.y,l=Math.min(e.size.width/t.width,e.size.height/t.height);return{top:`${a}px`,left:`${s}px`,transform:`scale(${l})`}},m0=e=>new Promise((t,n)=>{const o=new Audio;o.preload="auto",o.addEventListener("loadedmetadata",()=>{const s=o.duration*1e3;t({duration:s})}),o.addEventListener("error",s=>{n(s)}),o.src=e,o.crossOrigin="anonymous",o.load()}),v0=e=>new Promise((t,n)=>{const o=new Image;console.warn("Consider updating CDN config for CORS issues?"),o.onload=()=>{const s=o.width,a=o.height;t({width:s,height:a})},o.onerror=s=>{n(s)},o.crossOrigin="anonymous",o.src=e}),y0=e=>new Promise((t,n)=>{const o=document.createElement("video");o.preload="auto",o.addEventListener("loadedmetadata",()=>{const s=o.duration*1e3,a=o.videoWidth,l=o.videoHeight;t({duration:s,width:a,height:l})}),o.addEventListener("error",s=>{n(s)}),o.src=e,o.load()}),po=(e,t)=>{const n=document.createElement("div");Object.keys(t).forEach(s=>{s!=="height"&&(n.style[s]=t[s])}),document.body.appendChild(n),n.textContent=e,n.style.width=`${t.width}px`,n.style.fontSize=`${t.fontSize}px`;const o=getComputedStyle(n).height;return document.body.removeChild(n),parseFloat(o)},nn=e=>Object.keys(e).reduce((t,n)=>{const{display:{to:o}}=e[n];return Math.max(t,o)},0),b0=(e,t)=>{if(!e)return{from:0,to:t.duration};const{from:n,to:o}=e;return{from:n??0,to:o??t.duration}},w0=(e,t)=>{const{duration:n,trim:o}=t,s=o?o.to-o.from:n||5e3,a={from:0,to:s};if(!e)return a;if(e.from!==void 0&&e.from<0)return console.error("'from' must be a non-negative number. Returning default display."),a;if(e.from!==void 0&&e.to===void 0)return{from:e.from,to:e.from+s};if(e.to!==void 0){if(e.to<0)return console.error("'to' must be a non-negative number. Returning default display."),a;if(e.to<e.from)return console.error("'to' must be greater than or equal to 'from'. Returning default display."),a}return e};function x0(e,t){return e.map(n=>{const o=n.items.filter(s=>!t.includes(s));return{...n,items:o}}).filter(n=>n.items.length>0)}const S0=async(e,t)=>{const n=e.details,o=await v0(n.src),s=Ea(t,o);return{id:e.id,type:"image",name:"",display:{from:t.origin||0,to:(t.origin||5e3)+5e3},details:{src:n.src||"",width:n.width||o.width||100,height:n.height||o.height||100,opacity:n.opacity??100,transform:s.transform,border:n.border||"none",borderRadius:n.borderRadius||"0",boxShadow:n.boxShadow||"none",top:s.top||"0px",left:s.left||"0px"},metadata:e.metadata||{}}},_0=async(e,t)=>{const n=e.details.src,o=await y0(n),s=Ea(t,{...o}),a=b0(e.trim,{duration:o.duration}),l={width:o.width,height:o.height,duration:o.duration,src:n,volume:e.details.volume??100,top:e.details.top||s.top||"0px",left:e.details.left||s.left||"0px",text:e.details.text};return{...e,trim:a,type:"video",details:l,display:w0(e?.display,{duration:o.duration,trim:a})}},E0=async e=>{const t=e.details,n=(await m0(t.src)).duration,o=e?.display?.from??0;return{id:e.id,name:"",type:"audio",display:{from:o,to:o+n},trim:{from:0,to:n},details:{src:t.src,duration:n,volume:t.volume??100,text:t.text},metadata:{...e.metadata}}},x9=5e3,Gu=async(e,t)=>{const n=e.id;await Gm([{fontFamily:e.details.fontFamily??"",fontUrl:e.details.fontUrl??""}]);const o={fontFamily:e.details.fontFamily??"Arial",fontSize:e.details.fontSize??"16px",fontWeight:e.details.fontWeight??"normal",fontStyle:e.details.fontStyle??"normal",textDecoration:e.details.textDecoration??"none",textAlign:e.details.textAlign??"left",lineHeight:e.details.lineHeight??"normal",letterSpacing:e.details.letterSpacing??"normal",wordSpacing:e.details.wordSpacing??"normal",color:e.details.color??"#ffffff",backgroundColor:e.details.backgroundColor??"transparent",border:e.details.border??"none",textShadow:e.details.textShadow??"none",text:e.details.text??"",opacity:e.details.opacity??100,width:e.details.width??300,wordWrap:e.details.wordWrap??"normal",wordBreak:e.details.wordBreak??"normal",WebkitTextStrokeColor:e.details.WebkitTextStrokeColor??"#ffffff",WebkitTextStrokeWidth:e.details.WebkitTextStrokeWidth??"0px",top:e.details.top??"0px",left:e.details.left??"0px"},s=po(e.details.text??"",o),a=Ea(t,{width:o.width??0,height:s});return{id:n,name:"",type:"text",display:{from:e.display.from??0,to:e.display.to??x9},details:{...o,height:s,top:a.top,left:a.left,fontUrl:e.details.fontUrl,text:e.details.text??""},metadata:{}}},T0=(e,t)=>{const n=e.display,o=qe(n.from,t.tScale),s=qe(n.to-n.from,t.tScale),a=Z.classRegistry.getClass("Audio")||Ln;return new a({width:s,height:42,top:10,left:o,id:e.id,display:n,text:e.details.text,trim:e.trim||{from:0,to:e.details.duration},duration:e.details.duration,src:e.details.src,tScale:t.tScale})},C0=(e,t)=>{const n=qe(e.display.from,t.tScale),o=qe(e.details.duration||5e3,t.tScale),s=Z.classRegistry.getClass("Image")||_a;return new s({width:o,height:42,id:e.id,src:e.details.src,tScale:t.tScale,top:10,left:n,display:e.display})},I0=(e,t)=>{const n=qe(e.trim.from,t.tScale),o=qe(e.trim.to-e.trim.from,t.tScale),s=Z.classRegistry.getClass("Video")||zr;return new s({width:o,height:42,id:e.id,tScale:t.tScale,fill:"#333333",top:10,left:n,display:e.trim,trim:e.trim,text:e.details.text,duration:e.details.duration})},A0=(e,t)=>{const n=e.display,o=qe(n.from,t.tScale),s=qe(n.to-n.from,t.tScale),a=Z.classRegistry.getClass("Text")||Or;return new a({width:s,height:42,id:e.id,display:n,top:10,left:o,text:e.details.text,tScale:t.tScale})},k0={video:42,image:42,audio:42,text:42,caption:42,template:42},R0=(e={})=>{const t={...k0,...e};return Object.fromEntries(Object.entries(t).filter(([,n])=>typeof n=="number"))};let P0=class extends Ln{static type="Audio";text;constructor(t){super(t),this.text=t.text??"Audio"}_render(t){super._render(t),this.drawTextIdentity(t),this.updateSelected(t)}drawTextIdentity(t){const n=new Path2D("M8.24092 0C8.24092 2.51565 10.2795 4.55419 12.7951 4.55419C12.9677 4.55419 13.1331 4.62274 13.2552 4.74475C13.3772 4.86676 13.4457 5.03224 13.4457 5.20479C13.4457 5.37734 13.3772 5.54282 13.2552 5.66483C13.1331 5.78685 12.9677 5.85539 12.7951 5.85539C11.9218 5.85605 11.0594 5.66105 10.2713 5.28471C9.48319 4.90838 8.78942 4.36027 8.24092 3.68066V13.8794C8.24094 14.8271 7.91431 15.7458 7.31606 16.4808C6.71781 17.2157 5.88451 17.722 4.95657 17.9143C4.02863 18.1066 3.06276 17.9731 2.22172 17.5364C1.38067 17.0997 0.715856 16.3865 0.339286 15.5169C-0.0372842 14.6473 -0.10259 13.6744 0.154372 12.7622C0.411334 11.8501 0.974857 11.0544 1.74999 10.5092C2.52512 9.96403 3.46449 9.7027 4.40981 9.76924C5.35512 9.83579 6.24861 10.2261 6.93972 10.8745V0H8.24092ZM6.93972 13.8794C6.93972 13.1317 6.6427 12.4146 6.11398 11.8859C5.58527 11.3572 4.86818 11.0602 4.12046 11.0602C3.37275 11.0602 2.65566 11.3572 2.12694 11.8859C1.59823 12.4146 1.3012 13.1317 1.3012 13.8794C1.3012 14.6272 1.59823 15.3443 2.12694 15.873C2.65566 16.4017 3.37275 16.6987 4.12046 16.6987C4.86818 16.6987 5.58527 16.4017 6.11398 15.873C6.6427 15.3443 6.93972 14.6272 6.93972 13.8794Z");t.save(),t.translate(-this.width/2,-this.height/2),t.translate(0,10),t.font="600 12px 'Geist variable'",t.fillStyle="#f4f4f5",t.textAlign="left",t.clip(),t.fillText(this.text,36,14),t.translate(10,1),t.fillStyle="#f4f4f5",t.fill(n),t.restore()}};class O0 extends zr{static type="Video";text;constructor(t){super(t),this.text=t.text??"Video"}_render(t){super._render(t),this.drawTextIdentity(t),this.updateSelected(t)}drawTextIdentity(t){const n=new Path2D("M16.5625 0.925L12.5 3.275V0.625L11.875 0H0.625L0 0.625V9.375L0.625 10H11.875L12.5 9.375V6.875L16.5625 9.2125L17.5 8.625V1.475L16.5625 0.925ZM11.25 8.75H1.25V1.25H11.25V8.75ZM16.25 7.5L12.5 5.375V4.725L16.25 2.5V7.5Z");t.save(),t.translate(-this.width/2,-this.height/2),t.translate(0,14),t.font="600 12px 'Geist variable'",t.fillStyle="#f4f4f5",t.textAlign="left",t.clip(),t.fillText(this.text,36,10),t.translate(8,1),t.fillStyle="#f4f4f5",t.fill(n),t.restore()}}class Yu extends Or{static type="Text";constructor(t){super(t),this.fill="#303030"}_render(t){super._render(t),this.drawTextIdentity(t),this.updateSelected(t)}drawTextIdentity(t){const n=new Path2D("M6.23982 0.361968C6.18894 0.253743 6.10832 0.162234 6.00736 0.0981357C5.9064 0.034038 5.78929 0 5.6697 0C5.55012 0 5.433 0.034038 5.33204 0.0981357C5.23109 0.162234 5.15046 0.253743 5.09959 0.361968L0.0599035 11.0713C0.0246926 11.1462 0.00457285 11.2272 0.000693114 11.3099C-0.00318662 11.3925 0.00924959 11.4751 0.0372917 11.553C0.0939253 11.7102 0.210687 11.8384 0.361891 11.9095C0.513095 11.9806 0.686354 11.9888 0.843555 11.9322C1.00076 11.8755 1.12902 11.7588 1.20013 11.6075L2.51202 8.81998H8.82738L10.1393 11.6075C10.1745 11.6824 10.2241 11.7496 10.2853 11.8053C10.3465 11.861 10.418 11.9041 10.4958 11.9322C10.5737 11.9602 10.6563 11.9726 10.7389 11.9687C10.8216 11.9649 10.9026 11.9447 10.9775 11.9095C11.0524 11.8743 11.1196 11.8247 11.1753 11.7635C11.231 11.7023 11.2741 11.6308 11.3021 11.553C11.3302 11.4751 11.3426 11.3925 11.3387 11.3099C11.3348 11.2272 11.3147 11.1462 11.2795 11.0713L6.23982 0.361968ZM3.10498 7.56005L5.6697 2.11011L8.23443 7.56005H3.10498ZM15.1191 3.78029C14.1143 3.78029 13.3292 4.05354 12.7859 4.59294C12.6721 4.71153 12.6092 4.86987 12.6106 5.03419C12.6119 5.19851 12.6774 5.3558 12.7931 5.4725C12.9088 5.58921 13.0655 5.6561 13.2298 5.6589C13.3941 5.6617 13.553 5.60018 13.6726 5.48748C13.9718 5.19062 14.46 5.04021 15.1191 5.04021C16.1609 5.04021 17.009 5.74892 17.009 6.61511V6.86867C16.45 6.49465 15.7917 6.29663 15.1191 6.30013C13.382 6.30013 11.9693 7.57187 11.9693 9.13495C11.9693 10.698 13.382 11.9698 15.1191 11.9698C15.792 11.9727 16.4503 11.7739 17.009 11.3989C17.0168 11.566 17.0907 11.7231 17.2144 11.8357C17.3381 11.9483 17.5014 12.0071 17.6685 11.9993C17.8356 11.9915 17.9927 11.9176 18.1053 11.7939C18.2179 11.6702 18.2767 11.5069 18.2689 11.3398V6.61511C18.2689 5.05202 16.8562 3.78029 15.1191 3.78029ZM15.1191 10.7099C14.0773 10.7099 13.2292 10.0012 13.2292 9.13495C13.2292 8.26876 14.0773 7.56005 15.1191 7.56005C16.1609 7.56005 17.009 8.26876 17.009 9.13495C17.009 10.0012 16.1609 10.7099 15.1191 10.7099Z");t.save(),t.translate(-this.width/2,-this.height/2),t.translate(0,12),t.font="600 12px 'Geist variable'",t.fillStyle="#f4f4f5",t.textAlign="left",t.clip(),t.fillText(this.text,36,12),t.translate(8,1),t.fillStyle="#f4f4f5",t.fill(n),t.restore()}}let M0=class extends _a{static type="Image";text;constructor(t){super(t),this.text=t.text??"Image"}_render(t){super._render(t),this.drawTextIdentity(t),this.updateSelected(t)}drawTextIdentity(t){const n=new Path2D("M1.55556 0H14.4444C15.3031 0 16 0.696889 16 1.55556V14.4444C16 14.857 15.8361 15.2527 15.5444 15.5444C15.2527 15.8361 14.857 16 14.4444 16H1.55556C1.143 16 0.747335 15.8361 0.455612 15.5444C0.163889 15.2527 0 14.857 0 14.4444V1.55556C0 0.696889 0.696889 0 1.55556 0ZM14.4444 1.33333H1.55556C1.49662 1.33333 1.4401 1.35675 1.39842 1.39842C1.35675 1.4401 1.33333 1.49662 1.33333 1.55556V14.4444C1.33333 14.5671 1.43289 14.6667 1.55556 14.6667H1.72444L10.456 5.93511C10.6004 5.79065 10.7719 5.67605 10.9607 5.59787C11.1494 5.51968 11.3517 5.47944 11.556 5.47944C11.7603 5.47944 11.9626 5.51968 12.1513 5.59787C12.3401 5.67605 12.5116 5.79065 12.656 5.93511L14.6667 7.94578V1.55556C14.6667 1.49662 14.6433 1.4401 14.6016 1.39842C14.5599 1.35675 14.5034 1.33333 14.4444 1.33333ZM14.6667 9.83111L11.7129 6.87733C11.6922 6.85664 11.6677 6.84022 11.6407 6.82902C11.6137 6.81781 11.5848 6.81205 11.5556 6.81205C11.5263 6.81205 11.4974 6.81781 11.4704 6.82902C11.4434 6.84022 11.4189 6.85664 11.3982 6.87733L3.60978 14.6667H14.4444C14.5034 14.6667 14.5599 14.6433 14.6016 14.6016C14.6433 14.5599 14.6667 14.5034 14.6667 14.4444V9.83111ZM4.88889 7.11111C4.29952 7.11111 3.73429 6.87699 3.31754 6.46024C2.90079 6.04349 2.66667 5.47826 2.66667 4.88889C2.66667 4.29952 2.90079 3.73429 3.31754 3.31754C3.73429 2.90079 4.29952 2.66667 4.88889 2.66667C5.47826 2.66667 6.04349 2.90079 6.46024 3.31754C6.87699 3.73429 7.11111 4.29952 7.11111 4.88889C7.11111 5.47826 6.87699 6.04349 6.46024 6.46024C6.04349 6.87699 5.47826 7.11111 4.88889 7.11111ZM4.88889 5.77778C5.12464 5.77778 5.35073 5.68413 5.51743 5.51743C5.68413 5.35073 5.77778 5.12464 5.77778 4.88889C5.77778 4.65314 5.68413 4.42705 5.51743 4.26035C5.35073 4.09365 5.12464 4 4.88889 4C4.65314 4 4.42705 4.09365 4.26035 4.26035C4.09365 4.42705 4 4.65314 4 4.88889C4 5.12464 4.09365 5.35073 4.26035 5.51743C4.42705 5.68413 4.65314 5.77778 4.88889 5.77778Z");t.save(),t.translate(-this.width/2,-this.height/2),t.translate(0,12),t.font="600 12px 'Geist variable'",t.fillStyle="#f4f4f5",t.textAlign="left",t.clip(),t.fillText(this.text,36,12),t.translate(8,1),t.fillStyle="#f4f4f5",t.fill(n),t.restore()}};class D0 extends lr{static type="Track";constructor(t){super(t),this.fill="#18181b"}_render(t){super._render(t);const n=new Path2D("M14.4444 13.3263H11.0667C12.5384 12.3991 13.6259 10.9716 14.1289 9.30644C14.632 7.64131 14.5169 5.85051 13.8048 4.26348C13.0927 2.67645 11.8314 1.39993 10.2531 0.668736C8.67478 -0.0624548 6.8855 -0.199136 5.21442 0.283835C3.54334 0.766806 2.10285 1.83695 1.15794 3.2974C0.213035 4.75785 -0.172743 6.51038 0.0715766 8.23261C0.315896 9.95484 1.17388 11.5309 2.4877 12.671C3.80151 13.811 5.4828 14.4383 7.22227 14.4374H14.4444C14.5918 14.4374 14.7331 14.3789 14.8373 14.2747C14.9415 14.1705 15 14.0292 15 13.8819C15 13.7345 14.9415 13.5932 14.8373 13.489C14.7331 13.3848 14.5918 13.3263 14.4444 13.3263ZM1.1112 7.21523C1.1112 6.00658 1.46961 4.82506 2.14111 3.8201C2.8126 2.81514 3.76702 2.03187 4.88367 1.56934C6.00032 1.10681 7.22905 0.985789 8.41449 1.22159C9.59992 1.45738 10.6888 2.03941 11.5435 2.89405C12.3981 3.7487 12.9801 4.83759 13.2159 6.02302C13.4517 7.20845 13.3307 8.43719 12.8682 9.55384C12.4056 10.6705 11.6224 11.6249 10.6174 12.2964C9.61244 12.9679 8.43093 13.3263 7.22227 13.3263C5.60208 13.3245 4.04878 12.68 2.90313 11.5344C1.75748 10.3887 1.11304 8.83542 1.1112 7.21523ZM7.22227 5.54858C7.55191 5.54858 7.87414 5.45083 8.14822 5.2677C8.4223 5.08456 8.63592 4.82426 8.76206 4.51972C8.88821 4.21518 8.92121 3.88007 8.85691 3.55677C8.7926 3.23347 8.63386 2.9365 8.40078 2.70342C8.16769 2.47033 7.87072 2.3116 7.54742 2.24729C7.22412 2.18298 6.88901 2.21599 6.58447 2.34213C6.27993 2.46828 6.01964 2.6819 5.8365 2.95598C5.65337 3.23006 5.55562 3.55229 5.55562 3.88192C5.55562 4.32395 5.73121 4.74787 6.04377 5.06043C6.35633 5.37298 6.78025 5.54858 7.22227 5.54858ZM7.22227 3.32637C7.33215 3.32637 7.43956 3.35895 7.53092 3.42C7.62228 3.48104 7.69349 3.56781 7.73554 3.66932C7.77759 3.77084 7.78859 3.88254 7.76715 3.9903C7.74572 4.09807 7.6928 4.19706 7.61511 4.27476C7.53741 4.35245 7.43842 4.40536 7.33066 4.4268C7.22289 4.44824 7.11119 4.43723 7.00967 4.39519C6.90816 4.35314 6.82139 4.28193 6.76035 4.19057C6.69931 4.09921 6.66672 3.9918 6.66672 3.88192C6.66672 3.73458 6.72525 3.59327 6.82944 3.48909C6.93363 3.3849 7.07493 3.32637 7.22227 3.32637ZM8.88893 10.5485C8.88893 10.2189 8.79118 9.89668 8.60805 9.6226C8.42491 9.34852 8.16462 9.1349 7.86008 9.00875C7.55553 8.88261 7.22043 8.8496 6.89713 8.91391C6.57383 8.97822 6.27686 9.13695 6.04377 9.37004C5.81069 9.60313 5.65195 9.9001 5.58764 10.2234C5.52334 10.5467 5.55634 10.8818 5.68249 11.1863C5.80863 11.4909 6.02225 11.7512 6.29633 11.9343C6.57041 12.1175 6.89264 12.2152 7.22227 12.2152C7.6643 12.2152 8.08822 12.0396 8.40078 11.727C8.71334 11.4145 8.88893 10.9906 8.88893 10.5485ZM6.66672 10.5485C6.66672 10.4387 6.69931 10.3313 6.76035 10.2399C6.82139 10.1485 6.90816 10.0773 7.00967 10.0353C7.11119 9.99323 7.22289 9.98223 7.33066 10.0037C7.43842 10.0251 7.53741 10.078 7.61511 10.1557C7.6928 10.2334 7.74572 10.3324 7.76715 10.4402C7.78859 10.5479 7.77759 10.6596 7.73554 10.7611C7.69349 10.8627 7.62228 10.9494 7.53092 11.0105C7.43956 11.0715 7.33215 11.1041 7.22227 11.1041C7.07493 11.1041 6.93363 11.0456 6.82944 10.9414C6.72525 10.8372 6.66672 10.6959 6.66672 10.5485ZM10.5556 8.88189C10.8852 8.88189 11.2074 8.78414 11.4815 8.60101C11.7556 8.41787 11.9692 8.15758 12.0954 7.85303C12.2215 7.54849 12.2545 7.21338 12.1902 6.89008C12.1259 6.56678 11.9672 6.26982 11.7341 6.03673C11.501 5.80364 11.204 5.64491 10.8807 5.5806C10.5574 5.51629 10.2223 5.5493 9.91778 5.67544C9.61324 5.80159 9.35295 6.01521 9.16981 6.28929C8.98668 6.56337 8.88893 6.8856 8.88893 7.21523C8.88893 7.65726 9.06452 8.08118 9.37708 8.39374C9.68964 8.70629 10.1136 8.88189 10.5556 8.88189ZM10.5556 6.65968C10.6655 6.65968 10.7729 6.69226 10.8642 6.75331C10.9556 6.81435 11.0268 6.90112 11.0688 7.00263C11.1109 7.10415 11.1219 7.21585 11.1005 7.32362C11.079 7.43138 11.0261 7.53037 10.9484 7.60807C10.8707 7.68576 10.7717 7.73867 10.664 7.76011C10.5562 7.78155 10.4445 7.77054 10.343 7.7285C10.2415 7.68645 10.1547 7.61524 10.0937 7.52388C10.0326 7.43252 10 7.32511 10 7.21523C10 7.06789 10.0586 6.92658 10.1628 6.8224C10.2669 6.71821 10.4082 6.65968 10.5556 6.65968ZM3.88896 5.54858C3.55933 5.54858 3.2371 5.64633 2.96302 5.82946C2.68894 6.01259 2.47532 6.27289 2.34918 6.57743C2.22303 6.88197 2.19002 7.21708 2.25433 7.54038C2.31864 7.86368 2.47737 8.16065 2.71046 8.39374C2.94355 8.62682 3.24052 8.78556 3.56382 8.84986C3.88711 8.91417 4.22222 8.88117 4.52677 8.75502C4.83131 8.62888 5.0916 8.41526 5.27474 8.14118C5.45787 7.8671 5.55562 7.54487 5.55562 7.21523C5.55562 6.77321 5.38003 6.34929 5.06747 6.03673C4.75491 5.72417 4.33099 5.54858 3.88896 5.54858ZM3.88896 7.77078C3.77909 7.77078 3.67168 7.7382 3.58032 7.67716C3.48896 7.61611 3.41775 7.52935 3.3757 7.42783C3.33365 7.32632 3.32265 7.21462 3.34409 7.10685C3.36552 6.99908 3.41843 6.90009 3.49613 6.8224C3.57382 6.7447 3.67281 6.69179 3.78058 6.67036C3.88835 6.64892 4.00005 6.65992 4.10156 6.70197C4.20308 6.74402 4.28984 6.81522 4.35089 6.90658C4.41193 6.99794 4.44452 7.10535 4.44452 7.21523C4.44452 7.36257 4.38598 7.50388 4.2818 7.60807C4.17761 7.71225 4.03631 7.77078 3.88896 7.77078Z");this.items.length||(t.save(),t.translate(-this.width/2,-this.height/2),t.translate(0,12),t.font="600 12px 'Geist variable'",t.fillStyle="#A0A4A2",t.textAlign="left",t.clip(),t.fillText("Drag and drop media here",32,12),t.translate(8,1),t.fillStyle="#A0A4A2",t.fill(n),t.restore())}}class L0 extends ki{static type="Helper";constructor(t){t.activeGuideFill="#ffffff",super(t)}}class N0{addTrackItem(t){const n=t.id,o=hl(t,{tScale:this.tScale,sizesMap:this.sizesMap});this.add(o),this.trackItemIds.push(n),this.renderTracks(),this.alignItemsToTrack(),this.calcBounding(),this.duration=nn(this.trackItemsMap)}alignItemsToTrack(){this.pauseEventListeners();const t=new Map(this.getObjects("Track").map(o=>[o.id,o])),n=this.getObjects("Image","Video","Text","Audio");this.trackItemIds.forEach(o=>{const s=this.tracks.find(u=>u.items.includes(o));if(!s)return;const a=t.get(s.id);this.duration;const l=this.getObjects().find(u=>u.id===o);l&&a&&(l.isMain=!1,this.trackItemsMap[o].isMain=!1,l.set({top:a.top}),l.setCoords())}),t.forEach(o=>{o.items=n.filter(s=>s.top===o.top).map(s=>s.id)}),this.resumeEventListeners()}updateTrackItemsPosition(){const t=this.getObjects("Image","Text","Video","Audio");t.sort((n,o)=>n.top-o.top),this.trackItemIds=t.map(n=>n.id).reverse()}restoreTrackItemPositions(){}updateTrackItemsState(){this.pauseEventListeners();const t=this.getObjects("Image","Video","Text","Audio"),n={};t.forEach(o=>{const{id:s,left:a,width:l}=o,u=this.trackItemsMap[s],f=Bt(a,this.tScale),h=f+Bt(l,this.tScale),p={from:f,to:h},v={...u,display:p,trim:o instanceof zr||o instanceof Ln?o.trim:void 0};o.display=p,n[s]=v}),this.trackItemsMap=n,this.resumeEventListeners()}deleteActiveTrackItem(){const t=this.getActiveObjects();if(!t.length)return!1;const n=t.map(s=>s.id),o=bo(this.tracks,n);this.trackItemsMap=Object.keys(this.trackItemsMap).reduce((s,a)=>(n.includes(a)||(s[a]=this.trackItemsMap[a]),s),{}),this.trackItemIds=this.trackItemIds.filter(s=>!n.includes(s)),this.tracks=o,this.discardActiveObject(),this.remove(...t),this.setActiveIds([]),this.renderTracks(),this.alignItemsToTrack(),this.updateState({updateHistory:!0,kind:"remove"})}updateTrackItemsToHistory(){this.pauseEventListeners();const t=this.getObjects();this.trackItemIds.forEach(n=>{const o=this.tracks.find(h=>h.items.includes(n)),s=t.find(h=>h.id===o?.id)?.top;if(!s){console.warn(`Track top not found for trackItemId: ${n}`);return}const a=this.trackItemsMap[n],l=t.find(h=>h.id===n);if(!l){console.warn(`Object not found for trackItemId: ${n}`);return}const u=qe(a.display.from,this.tScale),f=qe(a.display.to-a.display.from,this.tScale);l.set({left:u,width:f,top:s}),l.setCoords()}),this.requestRenderAll(),this.resumeEventListeners()}cloneActiveTrackItem(t){const n=t?.trackItemId||this.activeIds[0];if(!n)return!1;const s={...this.trackItemsMap[n],id:nt()},a=this.tracks.find(p=>p.items.includes(n)),l=this.tracks.findIndex(p=>p.id===a?.id)+1;this.findOrCreateTrack(s,{trackIndex:l});const u=hl(s,{tScale:this.tScale});u&&this.add(u);const{audioData:f,...h}=s.metadata||{};s.metadata=h,this.trackItemsMap[s.id]=s,this.trackItemIds.push(s.id),this.alignItemsToTrack(),this.updateTransitions(),this.updateState()}splitActiveTrackItem(t){const n=t.trackItemId??this.activeIds[0];if(!n||this.activeIds.length>1)return!1;const o=this.trackItemsMap[n],s=t.time;if(o.display.from>=s||o.display.to<=s)return!1;const a={...o,display:{from:o.display.from,to:s}},l={...o,display:{from:s,to:o.display.to},id:nt()};if(o.type==="video"||o.type==="audio"){const p=s-a.display.from;a.trim={from:o.trim.from,to:o.trim.from+p},l.trim={from:a.trim.to,to:o.trim.to}}const u=this.getObjects().find(p=>p.id===n);u.display=a.display,this.tracks.find(p=>p.items.includes(n))?.items.push(l.id);const h=hl(l,{tScale:this.tScale});h&&this.add(h),this.trackItemsMap[l.id]=l,this.trackItemsMap[n]=a,this.trackItemIds.push(l.id),this.updateTrackItemCoords(a.id),this.alignItemsToTrack(),this.updateTransitions(),this.updateState()}updateTrackItemCoords(t){const n=this.getObjects().find(l=>l.id===t),o=this.trackItemsMap[t],s=qe(o.display.from,this.tScale),a=qe(o.display.to-o.display.from,this.tScale);n?.set({left:s,width:a}),n?.setCoords()}updateTrackItemDetails(t,n){const o=n?.trackItemId;if(!o)return!1;const s=this.trackItemsMap[o],a={...s.details,...t.details};("fontSize"in a||"lineHeight"in a)&&(a.height=po(a.text,a)),this.trackItemsMap[o]={...s,...t,details:a},this.updateState()}updateTrackItem(t,n){const o=n.trackItemId;if(!o)return!1;const s=this.trackItemsMap[o],a={...s.details,...t.details};if(s.type==="text"&&t.details.text){const l=this.getObjects("Text").find(u=>u.id===o);l instanceof Yu&&(l.text=t.details.text,this.requestRenderAll())}("fontSize"in a||"lineHeight"in a)&&(a.height=po(a.text,a)),this.trackItemsMap[o]={...s,...t,details:a},this.updateState()}updateTrackItemsDetails(t,n){n?.trackItemIds?.forEach((o,s)=>{const a=this.trackItemsMap[o],l={...a.details,...t[s].details};("fontSize"in l||"lineHeight"in l)&&(l.height=po(l.text,l)),this.trackItemsMap[o]={...a,...t[s],details:l}}),this.updateState()}getTrackItems(){return this.getObjects(...S9)}setActiveTrackItemCoords(){this.getActiveObjects().forEach(t=>t.setCoords())}deleteTrackItemById(t){const n=this.getObjects().filter(o=>t.includes(o.id));this.tracks=bo(this.tracks,t),this.trackItemsMap=Object.keys(this.trackItemsMap).filter(o=>!t.includes(o)).reduce((o,s)=>(o[s]=this.trackItemsMap[s],o),{}),this.trackItemIds=this.trackItemIds.filter(o=>!t.includes(o)),this.discardActiveObject(),this.remove(...n),this.renderTracks(),this.alignItemsToTrack(),this.calcBounding(),this.duration=nn(this.trackItemsMap)}selectTrackItemByIds(t){const n=this.getActiveObjects().map(s=>s.id);if(Pe.isEqual(n,t))return;const o=this.getTrackItems().filter(s=>t.includes(s.id));if(o.length===0)this.discardActiveObject();else if(o.length===1)this.setActiveObject(o[0]);else{const s=new Z.ActiveSelection(o);this.setActiveObject(s)}this.requestRenderAll()}}const S9=["Image","Text","Video","Audio","Caption","Template"],hl=(e,t)=>{const o={text:A0,video:I0,image:C0,audio:T0}[e.type];return o(e,t)},fi={text:32,image:40,video:40,audio:32,main:40},Ep=e=>{switch(e){case"text":return fi.text;case"image":return fi.image;case"video":return fi.video;case"audio":return fi.audio;case"helperTop":return 40;case"helperBottom":return 40;case"helperCenter":return 8;case"main":return fi.main;default:return fi.text}};class j0{findOrCreateTrack(t,{trackId:n,trackIndex:o}){const s=n;if(s){const l=this.tracks.find(u=>u.id===s);if(l)return l.items.push(t.id),s}const a={id:nt(),items:[t.id],type:t.type,accepts:this.acceptsMap?.[t.type]};return o!==void 0?this.tracks.splice(o,0,a):this.tracks.push(a),this.renderTracks(),a.id}removeTracks(){this.getObjects("Track","Helper")?.forEach(t=>this.remove(t))}renderTracks(){this.updateTracksState(),this.removeTracks();const t=this.width,n=this.tracks.flatMap(u=>[u,{id:`after-${u.id}`,type:"helper",items:[],accepts:[]}]).slice(0,-1);let o=0;const s=Z.classRegistry.getClass("Helper")||ki,a=new s({id:"helperLineTop",top:o,selectable:!1,evented:!1,tScale:this.tScale,width:t,kind:"top",metadata:{}});o+=Ep("helperTop"),this.insertAt(0,a),n.forEach((u,f)=>{if(u.type==="helper"){const h=Ep("helperCenter"),p=new s({id:u.id,top:o,tScale:this.tScale,width:t,height:h,metadata:{order:(f+1)/2},kind:"center"});o+=h,this.insertAt(0,p)}else{const h=Z.classRegistry.getClass("Track")||lr,p=new h({id:u.id,top:o,left:0,fill:"#18181b",height:42,width:t,tScale:this.tScale,accepts:this.acceptsMap?.[u.type]||[],items:u.items});o+=42,this.insertAt(0,p)}});const l=new s({id:"helperLineBottom",top:o,selectable:!1,evented:!1,tScale:this.tScale,width:t,kind:"bottom",metadata:{}});this.insertAt(0,l)}updateTracksState(){const t=this.tracks.filter(o=>o.items.length||o.type==="main"),n=new Map;t.forEach(o=>n.set(o.id,o)),this.tracks=Array.from(n.values())}updateTrackCoords(){const t=this.bounding.width+this.spacing.right;this.getObjects("Track","Helper").forEach(n=>{n.updateCoords(t),n.setCoords()})}}const _9=60,E9=188;function Tp(e,t=1,n=1){const o=E9*t;return e*(_9/1e3)*o/n}class F0{removeTransitions(){const t=this.getObjects("Transition");this.remove(...t)}renderTransitions(){this.removeTransitions(),this.transitionIds.forEach(t=>{const n=this.transitionsMap[t],o=n.fromId,s=n.toId,a=this.getObjects(),l=a.find(b=>b.id===o),u=a.find(b=>b.id===s);if(!l||!u)return;const f=Tp(n.duration,this.tScale),h=l.left+l.width-f/2,p=l.height,v=new Vt({id:n.id,left:h,top:l.top,height:p,width:f,tScale:this.tScale,duration:n.duration,fromId:l.id,toId:u.id,kind:n.kind});n.kind==="none"&&(v.visible=!1),this.add(v)})}updateTransitionCoordinates(){this.pauseEventListeners(),this.getObjects("Transition").forEach(t=>{t.tScale=this.tScale,t.updateCoords(),t.setCoords()}),this.resumeEventListeners()}alignTransitionsToTrack(){this.pauseEventListeners(),this.transitionIds.forEach(t=>{const n=this.getObjects("Transition").find(o=>o.id===t);if(n instanceof Vt){const o=this.getObjects().find(l=>l.id===n.fromId);if(!o)return;const s=Tp(n.duration,this.tScale),a=o.left+o.width-s/2;n.set({left:a,top:o.top}),n.setCoords()}}),this.resumeEventListeners()}updateTransitions(t=!0){t&&this.pauseEventListeners();const n=this.getObjects("Track"),o=this.getObjects("Video","Image");this.removeTransitions();const s={},a=[];n.forEach(l=>{const u=o.filter(f=>l.items.includes(f.id)).sort((f,h)=>f.left-h.left);for(let f=0;f<u.length-1;f++){const h=u[f],p=u[f+1];if(Math.abs(h.left+h.width-p.left)<=1){const v=`${h.id}-${p.id}`;if(this.transitionIds.includes(v))s[v]=this.transitionsMap[v];else{const b={id:v,duration:1500,fromId:h.id,toId:p.id,kind:"none",trackId:l.id,type:"transition"};s[v]=b}a.push(v)}}}),this.transitionIds=a,this.transitionsMap=s,this.renderTransitions(),t&&this.resumeEventListeners()}}const B={canvas:null,enableGuideRedraw:!0,isPointerOverHelperTrack:!1,draggingOverTrack:null,primaryMovingObjects:[],secondaryMovingObjects:[],placeholderMovingObjects:[],objectInitialPositions:{},originTrack:{},trackToItemsMap:{},activeTrackToItemsMap:{},trackTopToIdMap:{},trackTops:[],activeObjects:[],primaryTracks:{},secondaryTracks:{}},Xe={guide:null,object:null,objects:[]},T9=()=>B,C9=e=>{Object.assign(B,e)},I9=e=>{e.on("before:transform",z0.bind(e))},A9=e=>{e.off("before:transform",z0.bind(e))};function z0(e){B.canvas=this,B.activeTrackToItemsMap={},B.primaryTracks={},B.secondaryTracks={},B.trackTops=[],B.trackToItemsMap={},B.activeObjects=[],B.trackTopToIdMap={},B.canvas.trackIdAfterTransform="",B.canvas.positionAfterTransform={};const t=B.canvas.getActiveObject();if(!t)return;B.activeObjects=t instanceof Z.ActiveSelection?t.getObjects():[t];const n=B.canvas.getScenePoint(e.e),o=B.canvas.getObjects("Track");B.originTrack=o.find(l=>{const u=l.getBoundingRect();return n.x>=u.left&&n.x<=u.left+u.width&&n.y>=u.top&&n.y<=u.top+u.height})??{};const s=B.canvas.getObjects("Video","Image","Audio","Text","Element");o.forEach(l=>{const u=s.filter(f=>l.items.includes(f.id));B.trackToItemsMap[l.id]=u,B.trackTopToIdMap[l.top]=l.id,B.trackTops.push(l.top)}),B.trackTops.sort((l,u)=>l-u),B.activeObjects.forEach(l=>{const u=o?.find(h=>h.items.includes(l.id));if(!u)return;const f=u.id;B.activeTrackToItemsMap[f]?B.activeTrackToItemsMap[f].push(l):B.activeTrackToItemsMap[f]=[l]}),B.primaryMovingObjects=B.activeObjects.filter(l=>{const u=l.getBoundingRect();return n.y>=u.top&&n.y<=u.top+u.height&&!(l instanceof Vt)}),B.primaryMovingObjects.forEach(l=>{const u=l.getBoundingRect().top,f=B.trackTopToIdMap[u];if(B.primaryTracks[f])B.primaryTracks[f].objects.push(l);else{const h=Ul(B.trackTops,B.originTrack.top,u);if(typeof h!="number")return;B.primaryTracks[f]={objects:[l],index:h}}}),B.primaryMovingObjects=B.primaryMovingObjects.sort((l,u)=>l.left-u.left),B.secondaryMovingObjects=B.activeObjects.filter(l=>!B.primaryMovingObjects.includes(l)&&!(l instanceof Vt)),B.secondaryMovingObjects.forEach(l=>{const u=l.getBoundingRect().top,f=B.trackTopToIdMap[l.getBoundingRect().top];if(B.secondaryTracks[f])B.secondaryTracks[f].objects.push(l);else{const h=Ul(B.trackTops,B.originTrack.top,u);if(typeof h!="number")return;B.secondaryTracks[f]={objects:[l],index:h}}}),B.originTrack&&(B.canvas.trackOriginBeforeTransform=B.originTrack.id),t&&(B.canvas.positionBeforeTransform={top:t.top,left:t.left}),("transform"in e?e.transform:{}).action==="drag"&&(B.placeholderMovingObjects=B.primaryMovingObjects.map(l=>{const u=l.getBoundingRect();B.objectInitialPositions[l.id]={top:u.top,left:u.left};const f=new wi({id:`${l.id}-placeholder`,left:u.left,top:u.top,width:u.width,height:u.height,for:k9[l.type]});return f.draggedObject=l,f}),B.canvas.add(...B.placeholderMovingObjects))}function Ul(e,t,n){const o=e.indexOf(t),s=e.indexOf(n);return o===-1||s===-1?null:s-o}const k9={trackitemvideo:"video",trackitemimage:"image",trackitemaudio:"audio",trackitemtext:"text"};function H0(e){if(!Xe.guide)return!1;e.e.preventDefault();const t=this,n=t.getViewportPoint(e.e);Xe.guide.set({left:n.x-16,top:n.y-Xe.guide.height/2});const o=R9(n,Xe.objects);o&&(Xe.object=o,o.strokeDashArray=[5,1],o.setSelected(!0)),Xe.objects.forEach(s=>{s!==o&&s.setSelected(!1)}),t.requestRenderAll()}function R9(e,t){let n=1/0,o=null;const s=new Z.Point(e.x,e.y);return t.forEach(a=>{const l=P9(a,s);l<n&&(n=l,o=a)}),o}function P9(e,t){return Math.sqrt(Math.pow(e.left-t.x,2)+Math.pow(e.top-t.y,2))}const O9=["transition","image","video","audio","caption","text"];function U0(e){const t=e.e.dataTransfer?.types[0];if(!t)return;const n=JSON.parse(t),{type:o,duration:s=5e3}=n;if(!O9.includes(o))return;const a=this;a.discardActiveObject();const l=qe(s,a.tScale);Xe.guide=M9({width:l,height:48,id:"TransitionGuide",left:0,top:0,type:o}),a.add(Xe.guide),o==="transition"&&(Xe.objects=a.getObjects("Transition"),Xe.objects.forEach(u=>{u.visible=!0})),we.dispatch(vu)}function M9({width:e,height:t,id:n,left:o,top:s,type:a}){return a==="transition"?new xo({top:0,left:0,height:48,width:48,id:"TransitionGuide"}):new So({top:s,left:o,height:t,width:e,id:n,name:"Rivers in the mountains"})}function W0(){if(!Xe.guide)return;we.dispatch(mo);const e=this;D9(Xe.objects),e.remove(Xe.guide)}function D9(e){e.forEach(t=>{t.strokeDashArray=[],t.setSelected(!1),t.kind==="none"&&(t.visible=!1)})}var L9=typeof global=="object"&&global&&global.Object===Object&&global,N9=typeof self=="object"&&self&&self.Object===Object&&self,Xu=L9||N9||Function("return this")(),ur=Xu.Symbol,B0=Object.prototype,j9=B0.hasOwnProperty,F9=B0.toString,uo=ur?ur.toStringTag:void 0;function z9(e){var t=j9.call(e,uo),n=e[uo];try{e[uo]=void 0;var o=!0}catch{}var s=F9.call(e);return o&&(t?e[uo]=n:delete e[uo]),s}var H9=Object.prototype,U9=H9.toString;function W9(e){return U9.call(e)}var B9="[object Null]",V9="[object Undefined]",Cp=ur?ur.toStringTag:void 0;function Zu(e){return e==null?e===void 0?V9:B9:Cp&&Cp in Object(e)?z9(e):W9(e)}function Ku(e){return e!=null&&typeof e=="object"}var $9="[object Symbol]";function qu(e){return typeof e=="symbol"||Ku(e)&&Zu(e)==$9}function G9(e,t){for(var n=-1,o=e==null?0:e.length,s=Array(o);++n<o;)s[n]=t(e[n],n,e);return s}var Do=Array.isArray,Ip=ur?ur.prototype:void 0,Ap=Ip?Ip.toString:void 0;function V0(e){if(typeof e=="string")return e;if(Do(e))return G9(e,V0)+"";if(qu(e))return Ap?Ap.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function ta(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Y9(e){return e}var X9="[object AsyncFunction]",Z9="[object Function]",K9="[object GeneratorFunction]",q9="[object Proxy]";function J9(e){if(!ta(e))return!1;var t=Zu(e);return t==Z9||t==K9||t==X9||t==q9}var pl=Xu["__core-js_shared__"],kp=function(){var e=/[^.]+$/.exec(pl&&pl.keys&&pl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Q9(e){return!!kp&&kp in e}var eI=Function.prototype,tI=eI.toString;function nI(e){if(e!=null){try{return tI.call(e)}catch{}try{return e+""}catch{}}return""}var rI=/[\\^$.*+?()[\]{}|]/g,iI=/^\[object .+?Constructor\]$/,oI=Function.prototype,sI=Object.prototype,aI=oI.toString,cI=sI.hasOwnProperty,lI=RegExp("^"+aI.call(cI).replace(rI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uI(e){if(!ta(e)||Q9(e))return!1;var t=J9(e)?lI:iI;return t.test(nI(e))}function dI(e,t){return e?.[t]}function Ju(e,t){var n=dI(e,t);return uI(n)?n:void 0}function fI(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var hI=800,pI=16,gI=Date.now;function mI(e){var t=0,n=0;return function(){var o=gI(),s=pI-(o-n);if(n=o,s>0){if(++t>=hI)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function vI(e){return function(){return e}}var na=function(){try{var e=Ju(Object,"defineProperty");return e({},"",{}),e}catch{}}(),yI=na?function(e,t){return na(e,"toString",{configurable:!0,enumerable:!1,value:vI(t),writable:!0})}:Y9,bI=mI(yI),wI=9007199254740991,xI=/^(?:0|[1-9]\d*)$/;function $0(e,t){var n=typeof e;return t=t??wI,!!t&&(n=="number"||n!="symbol"&&xI.test(e))&&e>-1&&e%1==0&&e<t}function SI(e,t,n){t=="__proto__"&&na?na(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function G0(e,t){return e===t||e!==e&&t!==t}var _I=Object.prototype,EI=_I.hasOwnProperty;function TI(e,t,n){var o=e[t];(!(EI.call(e,t)&&G0(o,n))||n===void 0&&!(t in e))&&SI(e,t,n)}var Rp=Math.max;function CI(e,t,n){return t=Rp(t===void 0?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=Rp(o.length-t,0),l=Array(a);++s<a;)l[s]=o[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=o[s];return u[t]=n(l),fI(e,this,u)}}var II=9007199254740991;function AI(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=II}var kI="[object Arguments]";function Pp(e){return Ku(e)&&Zu(e)==kI}var Y0=Object.prototype,RI=Y0.hasOwnProperty,PI=Y0.propertyIsEnumerable,X0=Pp(function(){return arguments}())?Pp:function(e){return Ku(e)&&RI.call(e,"callee")&&!PI.call(e,"callee")},OI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,MI=/^\w*$/;function DI(e,t){if(Do(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||qu(e)?!0:MI.test(e)||!OI.test(e)||t!=null&&e in Object(t)}var _o=Ju(Object,"create");function LI(){this.__data__=_o?_o(null):{},this.size=0}function NI(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var jI="__lodash_hash_undefined__",FI=Object.prototype,zI=FI.hasOwnProperty;function HI(e){var t=this.__data__;if(_o){var n=t[e];return n===jI?void 0:n}return zI.call(t,e)?t[e]:void 0}var UI=Object.prototype,WI=UI.hasOwnProperty;function BI(e){var t=this.__data__;return _o?t[e]!==void 0:WI.call(t,e)}var VI="__lodash_hash_undefined__";function $I(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_o&&t===void 0?VI:t,this}function Mr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Mr.prototype.clear=LI;Mr.prototype.delete=NI;Mr.prototype.get=HI;Mr.prototype.has=BI;Mr.prototype.set=$I;function GI(){this.__data__=[],this.size=0}function Ta(e,t){for(var n=e.length;n--;)if(G0(e[n][0],t))return n;return-1}var YI=Array.prototype,XI=YI.splice;function ZI(e){var t=this.__data__,n=Ta(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():XI.call(t,n,1),--this.size,!0}function KI(e){var t=this.__data__,n=Ta(t,e);return n<0?void 0:t[n][1]}function qI(e){return Ta(this.__data__,e)>-1}function JI(e,t){var n=this.__data__,o=Ta(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}function Ri(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Ri.prototype.clear=GI;Ri.prototype.delete=ZI;Ri.prototype.get=KI;Ri.prototype.has=qI;Ri.prototype.set=JI;var QI=Ju(Xu,"Map");function e8(){this.size=0,this.__data__={hash:new Mr,map:new(QI||Ri),string:new Mr}}function t8(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ca(e,t){var n=e.__data__;return t8(t)?n[typeof t=="string"?"string":"hash"]:n.map}function n8(e){var t=Ca(this,e).delete(e);return this.size-=t?1:0,t}function r8(e){return Ca(this,e).get(e)}function i8(e){return Ca(this,e).has(e)}function o8(e,t){var n=Ca(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}function Hr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}Hr.prototype.clear=e8;Hr.prototype.delete=n8;Hr.prototype.get=r8;Hr.prototype.has=i8;Hr.prototype.set=o8;var s8="Expected a function";function Qu(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(s8);var n=function(){var o=arguments,s=t?t.apply(this,o):o[0],a=n.cache;if(a.has(s))return a.get(s);var l=e.apply(this,o);return n.cache=a.set(s,l)||a,l};return n.cache=new(Qu.Cache||Hr),n}Qu.Cache=Hr;var a8=500;function c8(e){var t=Qu(e,function(o){return n.size===a8&&n.clear(),o}),n=t.cache;return t}var l8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u8=/\\(\\)?/g,d8=c8(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(l8,function(n,o,s,a){t.push(s?a.replace(u8,"$1"):o||n)}),t});function f8(e){return e==null?"":V0(e)}function Ia(e,t){return Do(e)?e:DI(e,t)?[e]:d8(f8(e))}function ed(e){if(typeof e=="string"||qu(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function h8(e,t){t=Ia(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[ed(t[n++])];return n&&n==o?e:void 0}function p8(e,t){for(var n=-1,o=t.length,s=e.length;++n<o;)e[s+n]=t[n];return e}var Op=ur?ur.isConcatSpreadable:void 0;function g8(e){return Do(e)||X0(e)||!!(Op&&e&&e[Op])}function m8(e,t,n,o,s){var a=-1,l=e.length;for(n||(n=g8),s||(s=[]);++a<l;){var u=e[a];n(u)?p8(s,u):s[s.length]=u}return s}function v8(e){var t=e==null?0:e.length;return t?m8(e):[]}function y8(e){return bI(CI(e,void 0,v8),e+"")}function b8(e,t){return e!=null&&t in Object(e)}function w8(e,t,n){t=Ia(t,e);for(var o=-1,s=t.length,a=!1;++o<s;){var l=ed(t[o]);if(!(a=e!=null&&n(e,l)))break;e=e[l]}return a||++o!=s?a:(s=e==null?0:e.length,!!s&&AI(s)&&$0(l,s)&&(Do(e)||X0(e)))}function x8(e,t){return e!=null&&w8(e,t,b8)}function S8(e,t,n,o){if(!ta(e))return e;t=Ia(t,e);for(var s=-1,a=t.length,l=a-1,u=e;u!=null&&++s<a;){var f=ed(t[s]),h=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(s!=l){var p=u[f];h=void 0,h===void 0&&(h=ta(p)?p:$0(t[s+1])?[]:{})}TI(u,f,h),u=u[f]}return e}function _8(e,t,n){for(var o=-1,s=t.length,a={};++o<s;){var l=t[o],u=h8(e,l);n(u,l)&&S8(a,Ia(l,e),u)}return a}function E8(e,t){return _8(e,t,function(n,o){return x8(e,o)})}var T8=y8(function(e,t){return e==null?{}:E8(e,t)});function Z0(e){const t=e.e.dataTransfer?.types[0];if(!t)return;const n=JSON.parse(e.e.dataTransfer.getData(t)),o=this;if(n.type!=="transition"){C8(n),o.remove(Xe.guide),o.requestRenderAll(),we.dispatch(mo);return}Xe.guide&&(Xe.object&&I8(n,o),Xe.objects.forEach(s=>{s.strokeDashArray=[],s.setSelected(!1),s.kind==="none"&&(s.visible=!1)}),o.remove(Xe.guide),o.requestRenderAll(),we.dispatch(mo))}function C8(e){const t={...e,id:nt()};switch(e.type){case"image":we.dispatch(Ti,{payload:t});break;case"video":we.dispatch(_i,{payload:t});break;case"audio":we.dispatch(Ei,{payload:t});break}}function I8(e,t){const n=Xe.object?.id,o=T8(e,["kind","direction"]);Object.entries(o).forEach(([s,a])=>{s==="kind"?Xe.object.kind=a:Xe.object[s]=a}),t.transitionsMap[n]={...t.transitionsMap[n],...o},t.updateState()}const A8=e=>{e.on("dragover",H0),e.on("dragenter",U0),e.on("dragleave",W0),e.on("drop",Z0)},k8=e=>{e.off("dragover",H0),e.off("dragenter",U0),e.off("dragleave",W0),e.off("drop",Z0)},K0=e=>{const t=e.target.canvas,n=e.target;if(e.action==="resizing"&&n instanceof Vt&&t){const o=n.id,s=t.getObjects("Transition").find(a=>a.id===o);if(s&&s instanceof Vt){const a=Pe.cloneDeep(t.transitionsMap),l={...a,[o]:{...a[o],width:s.width,duration:s.duration}};t.transitionsMap=l,t.updateState()}}t&&(R8(t,t.getObjects()),P8(t.getObjects("Helper")),B.isPointerOverHelperTrack=!1,B.draggingOverTrack=null)},R8=(e,t)=>{t.forEach(n=>{n.isAlignmentAuxiliary&&e.remove(n)})},P8=e=>{e.forEach(t=>t.setSelected(!1))};function q0(e){const t=e.target.canvas;if(!t)return;const n=t.getActiveObject();if(!n||!t.positionBeforeTransform)return;const o=t.getScenePoint(e.e),s=t.getObjects("Track","Helper").find(a=>{const l=a.getBoundingRect();return o.x>=l.left&&o.x<=l.left+l.width&&o.y>=l.top&&o.y<=l.top+l.height});if(e.action==="resizing"){const a=(B.trackToItemsMap[B.originTrack.id]||[]).filter(u=>u!==n);n.setCoords();const l=Aa(a,n.getBoundingRect());return t.fire("track-items:resized",{trackId:B.originTrack.id,trackItemIds:[n.id],isOverlapped:!!l}),!1}if(!s)return n&&(n?.set(t.positionBeforeTransform),n?.setCoords()),!1;if(s instanceof ki){let a;switch(s.kind){case"top":a=0;break;case"center":a=s.metadata.order||0;break;case"bottom":a=-1;break;default:return}const l={isSecondaryOverlapped:!1,secondaryTracks:B.secondaryTracks,primaryTracks:B.primaryTracks,primaryPositions:{trackIndex:a,trackId:t.trackIdAfterTransform,positions:t.positionAfterTransform}};L8(l)}else if(s instanceof lr){const a={isSecondaryOverlapped:M8(),secondaryTracks:B.secondaryTracks,primaryTracks:B.primaryTracks,primaryPositions:{trackId:t.trackIdAfterTransform,positions:t.positionAfterTransform}};O8(a)}}const O8=e=>{B.canvas&&B.canvas.fire("track-items:moved",e)};function M8(){const e=D8();return Object.keys(e).some(t=>{const n=B.trackToItemsMap[t],o=e[t].objects;return n?.length?n.filter(s=>!o.includes(s)).some(s=>Aa(o,s.getBoundingRect())):!0})}function D8(){const[e]=B.primaryMovingObjects,t=e.id,o=B.canvas.positionAfterTransform[t].top-e.getBoundingRect().top,s={};return B.secondaryMovingObjects.forEach(a=>{const l=a.getBoundingRect().top+o,u=B.trackTopToIdMap[l],f=Ul(B.trackTops,B.originTrack.top,l);s[u]?s[u].objects.push(a):s[u]={objects:[a],index:f}}),s}const L8=e=>{B.canvas&&B.canvas.fire("track:create",e)};function Aa(e,t){return e.find(n=>{const o=n.getBoundingRect();return t.left<o.left+o.width&&t.left+t.width>o.left&&t.top<o.top+o.height&&t.top+t.height>o.top})}const N8=e=>{e.on("object:modified",K0),e.on("object:modified",q0)},j8=e=>{e.off("object:modified",K0),e.off("object:modified",q0)};function F8(e,t){e.remove(...t),t.length=0}function J0(){F8(this,B.placeholderMovingObjects)}function Q0(e){const t=this.height<this.bounding.height,n=this.width<this.bounding.width;if(!t&&!n)return;const o=this.viewportTransform;let s=o[4],a=o[5];const l=2;e.e.shiftKey?s=o[4]-e.e.deltaY*l:(t&&(a=o[5]-e.e.deltaY*l),s=o[4]-e.e.deltaX*l),this.setViewportPos(s,a)}const z8=e=>{e.on("mouse:wheel",Q0),e.on("mouse:up",J0.bind(e))},H8=e=>{e.off("mouse:wheel",Q0),e.off("mouse:up",J0.bind(e))};function ev(e){const t=this;if(!t)return;const n=t.getScenePoint(e.e),o=t.getObjects("Helper","Track");B.draggingOverTrack=o.find(h=>{const p=h.getBoundingRect();return n.x>=p.left&&n.x<=p.left+p.width&&n.y>=p.top&&n.y<=p.top+p.height})??null,o.forEach(h=>{if(Dp(h)){const p=B.draggingOverTrack;h.setSelected(h===p)}}),B.isPointerOverHelperTrack=Dp(B.draggingOverTrack),t.getObjects();const s=e.target;s.getBoundingRect(),s.setCoords();const a=[s,...t.getActiveObjects(),...t.getObjects("Track","Helper","Transition","Placeholder")],l=U8(a,t),u=B8(s);W8(l,u).forEach(h=>{h.orientation==="V"?s.left=h.lineGuide+h.offset:s.top=h.lineGuide+h.offset})}const U8=(e,t)=>{const n=[],o=[];return t.getObjects().filter(s=>s.visible).forEach(s=>{if(e.some(u=>u.id===s.id)||s.isAlignmentAuxiliary)return;const l=s.getBoundingRect();n.push(Mp(l.left,l.width,l.top,l.height)),o.push(Mp(l.top,l.height,l.left,l.width))}),{vertical:n.flat(),horizontal:[]}},Mp=(e,t,n,o)=>[e,e+t].map(s=>({val:s,start:n,end:n+o})),W8=(e,t)=>{const n=[],o=[];e.vertical.forEach(f=>{t.vertical.forEach(h=>{const p=Math.abs(f.val-h.guide);p<10&&n.push({lineGuide:f.val,diff:p,orientation:"V",snap:h.snap,offset:h.offset,targetDim:{start:f.start,end:f.end}})})}),e.horizontal.forEach(f=>{t.horizontal.forEach(h=>{const p=Math.abs(f.val-h.guide);p<10&&o.push({lineGuide:f.val,diff:p,orientation:"H",snap:h.snap,offset:h.offset,targetDim:{start:f.start,end:f.end}})})});const a=[],l=n.sort((f,h)=>f.diff-h.diff)[0],u=o.sort((f,h)=>f.diff-h.diff)[0];return l&&a.push({lineGuide:l.lineGuide,offset:l.offset,orientation:"V",snap:l.snap,targetDim:l.targetDim}),u&&a.push({lineGuide:u.lineGuide,offset:u.offset,orientation:"H",snap:u.snap,targetDim:u.targetDim}),a},B8=e=>{const t=e.getBoundingRect();return{vertical:[{guide:Math.round(t.left),offset:Math.round(e.left-t.left),snap:"start"},{guide:Math.round(t.left+t.width),offset:Math.round(e.left-t.left-t.width),snap:"end"}],horizontal:[{guide:Math.round(t.top),offset:Math.round(e.top-t.top),snap:"start"},{guide:Math.round(t.top+t.height),offset:Math.round(e.top-t.top-t.height),snap:"end"}]}},Dp=e=>e instanceof ki;function V8(e){e.opacity=B.isPointerOverHelperTrack?0:1}const tv=q8(e=>{const t=e.target.canvas;if(J8(e),!B.draggingOverTrack)return;const n=B.placeholderMovingObjects.map(a=>a.draggedObject),o=(B.trackToItemsMap[B.draggingOverTrack.id]||[]).filter(a=>!n.includes(a)),s=o.find(a=>Aa(n,a.getBoundingRect()));B.placeholderMovingObjects.forEach(a=>{const l=a.draggedObject;l?.setCoords(),V8(a);const u=$8(l,o,s,B.placeholderMovingObjects.length>1);t.trackIdAfterTransform=B.trackTopToIdMap[u.top],t.positionAfterTransform[l?.id]={top:u.top,left:u.left},a.left=u.left,a.top=u.top})},5),$8=(e,t,n,o)=>!G8(e)||o&&n?nv(e):n?Y8(e,n,t):K8(e),G8=e=>B.draggingOverTrack?B.draggingOverTrack.accepts?.includes(e.type)??!1:!1,nv=e=>({top:B.objectInitialPositions[e.id].top,left:B.objectInitialPositions[e.id].left}),Y8=(e,t,n)=>{const o=X8(e,t);return!Z8(n,e,o)||B.activeObjects.length!==1?nv(e):{left:o,top:t.top}},X8=(e,t)=>{const n=e.left+e.width/2,o=t.left+t.width/2;return n<o?t.left-e.width:t.left+t.width},Z8=(e,t,n)=>!(n<0||Aa(e,{...t.getBoundingRect(),left:n})),K8=e=>({left:e.getBoundingRect().left,top:B.draggingOverTrack?.top??0});function q8(e,t){let n=null;return function(...o){const s=Date.now();(n===null||s-n>=t)&&(n=s,e(...o))}}function J8(e){const t=e.target,n=t.canvas,o=t.top,s=-t.height*.75,a=n.height+t.height*.75;t.top=Math.min(Math.max(o,s),a-t.height);const l=t.left;t.left=Math.max(l,0)}const Q8=e=>{e.on("object:moving",ev.bind(e)),e.on("object:moving",tv)},eA=e=>{e.off("object:moving",ev.bind(e)),e.off("object:moving",tv)};function rv(){const e=this,t=e.getActiveObject(),n=e.getActiveObjects().map(o=>o.id);t instanceof Z.Group?(t.borderColor="rgba(0, 216, 214, 0.75)",t.hasControls=!1,t.hoverCursor="default",t.borderScaleFactor=1,t.padding=0,t.getObjects().forEach(o=>{o.setSelected(!0)})):t?.setSelected(!0),this.setActiveIds(n)}function iv(e){const t=this,n=t.getActiveObject();n instanceof Z.Group&&(n.borderColor="transparent",n.hasControls=!1,n.hoverCursor="default"),e.selected.forEach(s=>{s.setSelected(!0)}),e.deselected.forEach(s=>{s.setSelected(!1)});const o=t.getActiveObjects().map(s=>s.id);this.setActiveIds(o)}function ov(e){this.getObjects().forEach(n=>{n.isSelected&&(n.isSelected=!1)}),e.deselected.forEach(n=>{n.setSelected(!1)});const t=this.getActiveObjects().map(n=>n.id);this.setActiveIds(t)}const tA=e=>{e.on("selection:created",rv),e.on("selection:updated",iv),e.on("selection:cleared",ov)},nA=e=>{e.off("selection:created",rv),e.off("selection:updated",iv),e.off("selection:cleared",ov)};let sv,av,cv;const rA=e=>{const{state:t}=e;sv=t.subscribeToActiveIds(({activeIds:n})=>{if(n.length===1){const o=n[0],{trackItemIds:s,trackItemsMap:a}=t.getState();s.forEach(l=>{a[l].type}),e.selectTrackItemByIds([o])}else e.selectTrackItemByIds(n)}),av=t.subscribeToHistory(n=>{const{tracks:o,trackItemsMap:s,trackItemIds:a,trackItemDetailsMap:l}=n;e.tracks=o,e.trackItemsMap=s,e.trackItemIds=a,e.trackItemDetailsMap=l,e.renderTracks(),e.updateTrackItemsToHistory(),e.alignItemsToTrack(),e.calcBounding(),e.updateTransitions(),e.duration=nn(e.trackItemsMap)}),cv=t.subscribeToAddOrRemoveItems(()=>{const n=e.getTrackItems().map(u=>u.id),{trackItemIds:o,trackItemsMap:s,trackItemDetailsMap:a}=t.getState(),l=[];n.forEach(u=>{o.includes(u)||l.push(u)}),e.deleteTrackItemById(l),e.tracks=t.getState().tracks,e.trackItemsMap=s,e.trackItemDetailsMap=a,o.forEach(u=>{if(!n.includes(u)){const f={...s[u],details:{...a[u].details}};e.addTrackItem(f)}}),e.renderTracks(),e.alignItemsToTrack(),o.forEach(u=>{e.updateTrackItemCoords(u)}),e.updateTransitions(),e.updateTrackCoords()})},iA=e=>{sv.unsubscribe(),av.unsubscribe(),cv.unsubscribe()};function lv(e){const{isSecondaryOverlapped:t,secondaryTracks:n,primaryTracks:o,primaryPositions:s}=e,{trackId:a,positions:l}=s,u=this.tracks.findIndex(S=>S.id===a),f=Uu(Object.keys(n).map(S=>n[S].objects.map(T=>T.id))),h=bo(this.tracks,[...Object.keys(l),...f]);Object.keys(o).forEach(S=>{this.pauseEventListeners();const{objects:T}=o[S];T.forEach(C=>{const A=l[C.id];C.left=A.left}),this.resumeEventListeners();const _=h.find(C=>C.id===a);_&&_.items.push(...Object.keys(l)),this.tracks=h});const p=this.tracks[u],v=[];Object.keys(n).forEach(S=>{const{objects:T,index:_}=n[S],C=T.map(O=>O.id),[A]=C,R=this.trackItemsMap[A];if(t){const O={id:nt(),items:C,type:R.type,accepts:this.acceptsMap?.[R.type],tempIndex:_};v.push(O)}else{const O=h[u+_];O&&O.items.push(...C),this.tracks=h}});const b=Wu(p,v);b.length&&h.splice(u,1,...b),this.tracks=h,this.renderTracks(),this.alignItemsToTrack(),this.updateTrackItemsPosition(),this.updateTransitions(),this.updateState({updateHistory:!0,kind:"update"})}function uv({trackItemIds:e,isOverlapped:t}){const[n]=e;if(n){if(!this.getObjects("Transition").find(o=>o.id===n)){const o=this.tracks.find(s=>s.items.includes(n));if(t){const s=oA(this.tracks,e),a={id:nt(),items:[n],type:o?.type,accepts:o?.accepts},l=this.tracks.findIndex(u=>u.id===o?.id);s.splice(l,0,a),this.tracks=s}}this.renderTracks(),this.alignItemsToTrack(),this.alignTransitionsToTrack(),this.updateTransitions(),this.updateTrackItemsPosition(),this.updateState({updateHistory:!0,kind:"update"})}}function oA(e,t){return e.map(n=>({...n,items:n.items.filter(o=>!t.includes(o))}))}function dv(e){const{secondaryTracks:t,primaryTracks:n,primaryPositions:o}=e,{positions:s,trackIndex:a}=o,l=a===-1?this.tracks.length:a,[u]=Object.keys(n),f=this.tracks.find(_=>_.id==u),h=n[u],p={id:nt(),items:h.objects.map(_=>_.id),type:f?.type,accepts:f?.accepts},v=Uu(Object.keys(t).map(_=>t[_].objects.map(C=>C.id))),b=bo(this.tracks,[...Object.keys(s),...v]),S=[];Object.keys(t).forEach(_=>{const{objects:C,index:A}=t[_],R=this.tracks.find(j=>j.id==_),O=C.map(j=>j.id),D={id:nt(),items:O,type:R?.type,accepts:R?.accepts,tempIndex:A};S.push(D)});const T=Wu(p,S);T.length&&b.splice(l,0,...T),this.tracks=b,this.renderTracks(),this.alignItemsToTrack(),this.updateTrackItemsPosition(),this.updateTransitions(),this.updateState({updateHistory:!0,kind:"update"})}const sA=e=>{e.on("track:create",dv.bind(e)),e.on("track-items:resized",uv.bind(e)),e.on("track-items:moved",lv.bind(e))},aA=e=>{e.off("track:create",dv.bind(e)),e.off("track-items:resized",uv.bind(e)),e.off("track-items:moved",lv.bind(e))},fv=e=>{A8(e),N8(e),z8(e),Q8(e),sA(e),tA(e),I9(e),rA(e)},hv=e=>{k8(e),j8(e),H8(e),eA(e),aA(e),nA(e),A9(e),iA()},cA={video:["*"],image:["*"],audio:["*"],text:["*"]},lA=["video","image","audio","text"];let ka=class extends Z.Canvas{acceptsMap;tracks=[];trackItemsMap={};trackItemIds=[];transitionIds=[];transitionsMap={};trackItemDetailsMap={};bounding;onScroll;tScale;store;state;activeIds=[];spacing;scale;sizesMap;duration;setupFabricDefaults(){Z.FabricObject.ownDefaults.borderColor="transparent",Z.FabricObject.ownDefaults.cornerColor="white",Z.FabricObject.ownDefaults.cornerStrokeColor="transparent",Z.FabricObject.ownDefaults.strokeWidth=0,Z.FabricObject.ownDefaults.borderOpacityWhenMoving=1,Z.FabricObject.ownDefaults.borderScaleFactor=1,Z.FabricObject.ownDefaults.cornerSize=8,Z.FabricObject.ownDefaults.cornerStyle="rect",Z.FabricObject.ownDefaults.centeredScaling=!1,Z.FabricObject.ownDefaults.centeredRotation=!0,Z.FabricObject.ownDefaults.transparentCorners=!1}constructor(t,n){super(t,n),this.bounding=n.bounding||{width:n.width||0,height:n.height||0},this.spacing={left:16,right:80,...n.spacing};const o=this.viewportTransform;o[4]=this.spacing.left,this.tScale=n.tScale||1/300,this.store=n.store,this.state=n.state,this.scale=n.scale,this.onScroll=n.onScroll,this.acceptsMap=this.createAcceptsItemMap(n.acceptsMap),this.sizesMap=R0(n.sizesMap),this.setupFabricDefaults(),this.initEventListeners()}createAcceptsItemMap(t=cA){const n={};return Object.keys(t).forEach(o=>{const s=t[o];n[o]=s.includes("*")?lA:s}),n}setActiveIds(t){this.activeIds=t,this.getObjects("Transition").some(o=>t.includes(o.id))||(this.state?.updateState({activeIds:Pe.cloneDeep(this.activeIds)}),we.dispatch(hu,{payload:{activeIds:this.activeIds}}))}purge(){hv(this),this.dispose()}static registerItems(t){Object.keys(t).forEach(n=>{Z.classRegistry.setClass(t[n],n)})}initEventListeners(){fv(this)}getUpdatedState(){const t=nn(this.trackItemsMap);return{tracks:this.tracks,trackItemIds:this.trackItemIds,trackItemsMap:this.trackItemsMap,transitionIds:this.transitionIds,transitionsMap:this.transitionsMap,scale:this.scale,duration:t}}getState(){const t=nn(this.trackItemsMap);return{tracks:this.tracks,trackItemIds:this.trackItemIds,trackItemsMap:this.trackItemsMap,transitionIds:this.transitionIds,transitionsMap:this.transitionsMap,trackItemDetailsMap:this.trackItemDetailsMap,scale:this.scale,duration:t}}notify(t={updateHistory:!1}){const n=this.getUpdatedState();this.state.updateState(n,t)}updateState(t){this.updateTracksState(),this.updateTrackItemsState(),this.requestRenderAll(),this.calcBounding(),this.updateTrackCoords();const n=this.getUpdatedState();this.state.updateState(n,t)}scrollTo({scrollLeft:t,scrollTop:n}){const o=[...this.viewportTransform];let s=!1;if(typeof t=="number"&&(o[4]=-t+this.spacing.left,s=!0),typeof n=="number"&&(o[5]=-n,s=!0),s){this.viewportTransform=o;const a=this.getActiveObject();a&&a.setCoords(),this.requestRenderAll()}}setBoundingBox(t){this.bounding=t}calcBounding(){const t=this.getTrackItems().reduce((n,o)=>{const{left:s,top:a,width:l,height:u}=o.getBoundingRect();return{left:Math.min(n.left,s),top:Math.min(n.top,a),width:Math.max(n.width,s+l),height:Math.max(n.height,a+u)}},{left:1/0,top:1/0,width:this.width,height:0});this.bounding=t,we.dispatch(yu,{payload:{bounding:t}})}setScale(t){this.pauseEventListeners(),this.tScale=t.zoom,this.scale=t;const n=this.getState();this.getObjects("Video","Image","Text","Audio").forEach(o=>{const s=n.trackItemsMap[o.id],{from:a,to:l}=s.display,u=qe(a,this.tScale),f=qe(l-a,this.tScale,o.playbackRate);o.set({left:u,width:f,tScale:t.zoom}),o.setCoords()}),this.requestRenderAll(),this.calcBounding(),this.updateTrackCoords(),this.updateTransitions(!1),this.resumeEventListeners(),this.notify()}setViewportPos(t,n){const o=this.getViewportPos(t,n),s=this.viewportTransform;s[4]=o.x,s[5]=o.y,this.requestRenderAll(),this.setActiveTrackItemCoords();const a=this.onScroll;a&&a.call(this,{scrollTop:o.y,scrollLeft:o.x-this.spacing.left})}getViewportPos(t,n){const o=this.bounding.width-100>=this.width?this.spacing.right:0,s=this.width-this.bounding.width-o,a=this.spacing.left,l=Math.max(s,Math.min(t,a));if(this.bounding.height<this.height)return{x:l,y:0};const u=this.height-this.bounding.height-40,f=Math.max(u,Math.min(n,0));return{x:l,y:f}}};g0(ka,[u0,N0,j0,F0]);function pv(e){const t=we.subject.pipe(Dn(({key:n})=>n.startsWith(og))).subscribe(n=>{if(n.key===mu){const o=n.value;e.setScale(o?.payload.scale??void 0)}});return{unsubscribe:()=>{t.unsubscribe()}}}ka.registerItems({Text:Yu,Image:M0,Video:O0,Audio:P0,Track:D0,Helper:L0});const gv=({stateManager:e})=>{const[t,n]=J.useState(0),o=J.useRef(null),s=J.useRef(null),a=J.useRef(null),l=J.useRef(null),u=J.useRef(null),[f,h]=J.useState({width:0,height:0}),[p,v]=J.useState({width:0,height:0}),{scale:b,playerRef:S,fps:T,setState:_,timeline:C}=mn(),{setTimeline:A}=mn(),R=xa(S??void 0),O=F=>{u.current&&l.current&&(l.current.scrollTop=-F.scrollTop,u.current.scrollLeft=-F.scrollLeft,n(-F.scrollLeft))};J.useEffect(()=>{const F=qe(R/T*1e3,b.zoom),$=s.current?.getBoundingClientRect().x+s.current?.clientWidth;if(F-t+40>=$){const q=u.current?.clientWidth,ee=u.current?.scrollWidth,Y=u.current?.scrollLeft,ie=(ee-(q+Y))/q;ie>=0&&(ie>1?u.current?.scrollTo({left:Y+q}):u.current?.scrollTo({left:ee-q}))}},[R]),J.useEffect(()=>{const F=s.current,$=o.current;if(!F||!$)return;const G=$.clientWidth,q=$.clientHeight,ee=new ka(F,{width:G,height:q,bounding:{width:G,height:0},selectionColor:"rgba(0, 216, 214,0.1)",selectionBorderColor:"rgba(0, 216, 214,1.0)",onScroll:O,state:e,scale:b,spacing:{left:wa,right:Fl}}),Y=pv(ee);a.current=ee,h({width:G,height:q}),v({width:G,height:0}),A(ee);const te=e.subscribeToSize(pe=>{_(pe)}),ie=e.subscribeToScale(pe=>{_(pe)}),Ie=e.subscribeToTracks(pe=>{_(pe)}),oe=e.subscribeToDuration(pe=>{_(pe)}),de=e.subscribeToUpdateTrackItem(()=>{const pe=e.getState();_({duration:pe.duration,trackItemsMap:pe.trackItemsMap})}),ne=e.subscribeToAddOrRemoveItems(()=>{const pe=e.getState();_({trackItemDetailsMap:pe.trackItemDetailsMap,trackItemsMap:pe.trackItemsMap,trackItemIds:pe.trackItemIds,tracks:pe.tracks})}),xe=e.subscribeToUpdateItemDetails(()=>{const pe=e.getState();_({trackItemDetailsMap:pe.trackItemDetailsMap})});return()=>{Y.unsubscribe(),ee.purge(),ie.unsubscribe(),Ie.unsubscribe(),oe.unsubscribe(),ne.unsubscribe(),de.unsubscribe(),xe.unsubscribe(),te.unsubscribe()}},[]),J.useEffect(()=>{const $=we.subject.pipe(Dn(({key:G})=>G.startsWith(ag))).subscribe(G=>{if(G.key===yu){const q=G.value?.payload?.bounding;q&&v({width:q.width,height:q.height})}});return()=>{$.unsubscribe()}},[]);const D=F=>{const $=F.currentTarget.scrollLeft;a.current.scrollTo({scrollLeft:$}),n($)},j=F=>{const $=F.currentTarget.scrollTop;a.current.scrollTo({scrollTop:$})};J.useEffect(()=>{const F=u.current?.scrollWidth;if(!F||!C)return;const $=C.width;F<$+t&&C.scrollTo({scrollLeft:F-$})},[b]);const V=F=>{if(!a.current)return;const G=Bt(F,b.zoom);S?.current?.seekTo(G*T/1e3)};return m.jsxs("div",{className:"relative overflow-hidden h-80 w-full",children:[m.jsx(qm,{}),m.jsx(c0,{onClick:V,scrollLeft:t}),m.jsx(a0,{scrollLeft:t}),m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"relative w-10 flex-none"}),m.jsxs("div",{className:"relative h-[230px] flex-1",children:[m.jsx("div",{ref:o,className:"absolute top-0 h-[230px] w-full text-sm text-white ",children:m.jsx("canvas",{ref:s,id:"designcombo-timeline-canvas"})}),m.jsxs(Vs,{type:"always",style:{position:"absolute",width:"calc(100vw - 40px)",height:"10px"},className:"ScrollAreaRootH",children:[m.jsx(El,{onScroll:D,className:"ScrollAreaViewport",id:"viewportH",ref:u,children:m.jsx("div",{style:{width:p.width>f.width?p.width+Fl:p.width},className:"pointer-events-none h-[10px]"})}),m.jsx(Fh,{className:"ScrollAreaScrollbar",orientation:"horizontal",children:m.jsx(zh,{className:"ScrollAreaThumb"})})]}),m.jsxs(Vs,{type:"always",style:{position:"absolute",height:"230px",width:"10px"},className:"ScrollAreaRootV",children:[m.jsx(El,{onScroll:j,className:"ScrollAreaViewport",ref:l,children:m.jsx("div",{style:{height:p.height>f.height?p.height+40:f.height},className:"pointer-events-none w-[10px]"})}),m.jsx(Fh,{className:"ScrollAreaScrollbar",orientation:"vertical",children:m.jsx(zh,{className:"ScrollAreaThumb"})})]})]})]})]})},uA={Date:!0,RegExp:!0,String:!0,Number:!0};function mv(e,t,n={cyclesFix:!0},o=[]){let s=[];const a=Array.isArray(e);for(const u in e){const f=e[u],h=a?+u:u;if(!(u in t)){s.push({type:"REMOVE",path:[h],oldValue:e[u]});continue}const p=t[u],v=typeof f=="object"&&typeof p=="object"&&Array.isArray(f)===Array.isArray(p);f&&p&&v&&!uA[Object.getPrototypeOf(f)?.constructor?.name]&&(!n.cyclesFix||!o.includes(f))?s.push.apply(s,mv(f,p,n,n.cyclesFix?o.concat([f]):[]).map(b=>(b.path.unshift(h),b))):f!==p&&!(Number.isNaN(f)&&Number.isNaN(p))&&!(v&&(isNaN(f)?f+""==p+"":+f==+p))&&s.push({path:[h],type:"CHANGE",value:p,oldValue:f})}const l=Array.isArray(t);for(const u in t)u in e||s.push({type:"CREATE",path:[l?+u:u],value:t[u]});return s}var td=Symbol.for("immer-nothing"),go=Symbol.for("immer-draftable"),Ot=Symbol.for("immer-state"),vv=process.env.NODE_ENV!=="production"?[function(e){return`The plugin for '${e}' has not been loaded into Immer. To enable the plugin, import and call \`enable${e}()\` when initializing your application.`},function(e){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${e}'`},"This object has been frozen and should not be mutated",function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(e){return`'current' expects a draft, got: ${e}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(e){return`'original' expects a draft, got: ${e}`}]:[];function tt(e,...t){if(process.env.NODE_ENV!=="production"){const n=vv[e],o=typeof n=="function"?n.apply(null,t):n;throw new Error(`[Immer] ${o}`)}throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Dr=Object.getPrototypeOf;function Lr(e){return!!e&&!!e[Ot]}function dr(e){return e?yv(e)||Array.isArray(e)||!!e[go]||!!e.constructor?.[go]||Lo(e)||No(e):!1}var dA=Object.prototype.constructor.toString();function yv(e){if(!e||typeof e!="object")return!1;const t=Dr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===dA}function Eo(e,t){Nr(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,o)=>t(o,n,e))}function Nr(e){const t=e[Ot];return t?t.type_:Array.isArray(e)?1:Lo(e)?2:No(e)?3:0}function To(e,t){return Nr(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function gl(e,t){return Nr(e)===2?e.get(t):e[t]}function bv(e,t,n){const o=Nr(e);o===2?e.set(t,n):o===3?e.add(n):e[t]=n}function fA(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Lo(e){return e instanceof Map}function No(e){return e instanceof Set}function Ar(e){return e.copy_||e.base_}function Wl(e,t){if(Lo(e))return new Map(e);if(No(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=yv(e);if(t===!0||t==="class_only"&&!n){const o=Object.getOwnPropertyDescriptors(e);delete o[Ot];let s=Reflect.ownKeys(o);for(let a=0;a<s.length;a++){const l=s[a],u=o[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(o[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Dr(e),o)}else{const o=Dr(e);if(o!==null&&n)return{...e};const s=Object.create(o);return Object.assign(s,e)}}function nd(e,t=!1){return Ra(e)||Lr(e)||!dr(e)||(Nr(e)>1&&(e.set=e.add=e.clear=e.delete=hA),Object.freeze(e),t&&Object.entries(e).forEach(([n,o])=>nd(o,!0))),e}function hA(){tt(2)}function Ra(e){return Object.isFrozen(e)}var Bl={};function jr(e){const t=Bl[e];return t||tt(0,e),t}function pA(e,t){Bl[e]||(Bl[e]=t)}var Co;function wv(){return Co}function gA(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Lp(e,t){t&&(jr("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vl(e){$l(e),e.drafts_.forEach(mA),e.drafts_=null}function $l(e){e===Co&&(Co=e.parent_)}function Np(e){return Co=gA(Co,e)}function mA(e){const t=e[Ot];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function jp(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ot].modified_&&(Vl(t),tt(4)),dr(e)&&(e=ra(t,e),t.parent_||ia(t,e)),t.patches_&&jr("Patches").generateReplacementPatches_(n[Ot].base_,e,t.patches_,t.inversePatches_)):e=ra(t,n,[]),Vl(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==td?e:void 0}function ra(e,t,n){if(Ra(t))return t;const o=t[Ot];if(!o)return Eo(t,(s,a)=>Fp(e,o,t,s,a,n)),t;if(o.scope_!==e)return t;if(!o.modified_)return ia(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const s=o.copy_;let a=s,l=!1;o.type_===3&&(a=new Set(s),s.clear(),l=!0),Eo(a,(u,f)=>Fp(e,o,s,u,f,n,l)),ia(e,s,!1),n&&e.patches_&&jr("Patches").generatePatches_(o,n,e.patches_,e.inversePatches_)}return o.copy_}function Fp(e,t,n,o,s,a,l){if(process.env.NODE_ENV!=="production"&&s===n&&tt(5),Lr(s)){const u=a&&t&&t.type_!==3&&!To(t.assigned_,o)?a.concat(o):void 0,f=ra(e,s,u);if(bv(n,o,f),Lr(f))e.canAutoFreeze_=!1;else return}else l&&n.add(s);if(dr(s)&&!Ra(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ra(e,s),(!t||!t.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,o)&&ia(e,s)}}function ia(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nd(t,n)}function vA(e,t){const n=Array.isArray(e),o={type_:n?1:0,scope_:t?t.scope_:wv(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=o,a=rd;n&&(s=[o],a=Io);const{revoke:l,proxy:u}=Proxy.revocable(s,a);return o.draft_=u,o.revoke_=l,u}var rd={get(e,t){if(t===Ot)return e;const n=Ar(e);if(!To(n,t))return yA(e,n,t);const o=n[t];return e.finalized_||!dr(o)?o:o===ml(e.base_,t)?(vl(e),e.copy_[t]=Yl(o,e)):o},has(e,t){return t in Ar(e)},ownKeys(e){return Reflect.ownKeys(Ar(e))},set(e,t,n){const o=xv(Ar(e),t);if(o?.set)return o.set.call(e.draft_,n),!0;if(!e.modified_){const s=ml(Ar(e),t),a=s?.[Ot];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(fA(n,s)&&(n!==void 0||To(e.base_,t)))return!0;vl(e),Gl(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ml(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,vl(e),Gl(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ar(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:o.enumerable,value:n[t]}},defineProperty(){tt(11)},getPrototypeOf(e){return Dr(e.base_)},setPrototypeOf(){tt(12)}},Io={};Eo(rd,(e,t)=>{Io[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Io.deleteProperty=function(e,t){return process.env.NODE_ENV!=="production"&&isNaN(parseInt(t))&&tt(13),Io.set.call(this,e,t,void 0)};Io.set=function(e,t,n){return process.env.NODE_ENV!=="production"&&t!=="length"&&isNaN(parseInt(t))&&tt(14),rd.set.call(this,e[0],t,n,e[0])};function ml(e,t){const n=e[Ot];return(n?Ar(n):e)[t]}function yA(e,t,n){const o=xv(t,n);return o?"value"in o?o.value:o.get?.call(e.draft_):void 0}function xv(e,t){if(!(t in e))return;let n=Dr(e);for(;n;){const o=Object.getOwnPropertyDescriptor(n,t);if(o)return o;n=Dr(n)}}function Gl(e){e.modified_||(e.modified_=!0,e.parent_&&Gl(e.parent_))}function vl(e){e.copy_||(e.copy_=Wl(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bA=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,o)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(f=a,...h){return l.produce(f,p=>n.call(this,p,...h))}}typeof n!="function"&&tt(6),o!==void 0&&typeof o!="function"&&tt(7);let s;if(dr(t)){const a=Np(this),l=Yl(t,void 0);let u=!0;try{s=n(l),u=!1}finally{u?Vl(a):$l(a)}return Lp(a,o),jp(s,a)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===td&&(s=void 0),this.autoFreeze_&&nd(s,!0),o){const a=[],l=[];jr("Patches").generateReplacementPatches_(t,s,a,l),o(a,l)}return s}else tt(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,f=>t(f,...u));let o,s;return[this.produce(t,n,(l,u)=>{o=l,s=u}),o,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){dr(e)||tt(8),Lr(e)&&(e=wA(e));const t=Np(this),n=Yl(e,void 0);return n[Ot].isManual_=!0,$l(t),n}finishDraft(e,t){const n=e&&e[Ot];(!n||!n.isManual_)&&tt(9);const{scope_:o}=n;return Lp(o,t),jp(void 0,o)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const o=jr("Patches").applyPatches_;return Lr(e)?o(e,t):this.produce(e,s=>o(s,t))}};function Yl(e,t){const n=Lo(e)?jr("MapSet").proxyMap_(e,t):No(e)?jr("MapSet").proxySet_(e,t):vA(e,t);return(t?t.scope_:wv()).drafts_.push(n),n}function wA(e){return Lr(e)||tt(10,e),Sv(e)}function Sv(e){if(!dr(e)||Ra(e))return e;const t=e[Ot];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Wl(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Wl(e,!0);return Eo(n,(o,s)=>{bv(n,o,Sv(s))}),t&&(t.finalized_=!1),n}function zp(){process.env.NODE_ENV!=="production"&&vv.push('Sets cannot have "replace" patches.',function(b){return"Unsupported patch operation: "+b},function(b){return"Cannot apply patch, path doesn't resolve: "+b},"Patching reserved attributes like __proto__, prototype and constructor is not allowed");const t="replace",n="add",o="remove";function s(b,S,T,_){switch(b.type_){case 0:case 2:return l(b,S,T,_);case 1:return a(b,S,T,_);case 3:return u(b,S,T,_)}}function a(b,S,T,_){let{base_:C,assigned_:A}=b,R=b.copy_;R.length<C.length&&([C,R]=[R,C],[T,_]=[_,T]);for(let O=0;O<C.length;O++)if(A[O]&&R[O]!==C[O]){const D=S.concat([O]);T.push({op:t,path:D,value:v(R[O])}),_.push({op:t,path:D,value:v(C[O])})}for(let O=C.length;O<R.length;O++){const D=S.concat([O]);T.push({op:n,path:D,value:v(R[O])})}for(let O=R.length-1;C.length<=O;--O){const D=S.concat([O]);_.push({op:o,path:D})}}function l(b,S,T,_){const{base_:C,copy_:A}=b;Eo(b.assigned_,(R,O)=>{const D=gl(C,R),j=gl(A,R),V=O?To(C,R)?t:n:o;if(D===j&&V===t)return;const F=S.concat(R);T.push(V===o?{op:V,path:F}:{op:V,path:F,value:j}),_.push(V===n?{op:o,path:F}:V===o?{op:n,path:F,value:v(D)}:{op:t,path:F,value:v(D)})})}function u(b,S,T,_){let{base_:C,copy_:A}=b,R=0;C.forEach(O=>{if(!A.has(O)){const D=S.concat([R]);T.push({op:o,path:D,value:O}),_.unshift({op:n,path:D,value:O})}R++}),R=0,A.forEach(O=>{if(!C.has(O)){const D=S.concat([R]);T.push({op:n,path:D,value:O}),_.unshift({op:o,path:D,value:O})}R++})}function f(b,S,T,_){T.push({op:t,path:[],value:S===td?void 0:S}),_.push({op:t,path:[],value:b})}function h(b,S){return S.forEach(T=>{const{path:_,op:C}=T;let A=b;for(let j=0;j<_.length-1;j++){const V=Nr(A);let F=_[j];typeof F!="string"&&typeof F!="number"&&(F=""+F),(V===0||V===1)&&(F==="__proto__"||F==="constructor")&&tt(19),typeof A=="function"&&F==="prototype"&&tt(19),A=gl(A,F),typeof A!="object"&&tt(18,_.join("/"))}const R=Nr(A),O=p(T.value),D=_[_.length-1];switch(C){case t:switch(R){case 2:return A.set(D,O);case 3:tt(16);default:return A[D]=O}case n:switch(R){case 1:return D==="-"?A.push(O):A.splice(D,0,O);case 2:return A.set(D,O);case 3:return A.add(O);default:return A[D]=O}case o:switch(R){case 1:return A.splice(D,1);case 2:return A.delete(D);case 3:return A.delete(T.value);default:return delete A[D]}default:tt(17,C)}}),b}function p(b){if(!dr(b))return b;if(Array.isArray(b))return b.map(p);if(Lo(b))return new Map(Array.from(b.entries()).map(([T,_])=>[T,p(_)]));if(No(b))return new Set(Array.from(b).map(p));const S=Object.create(Dr(b));for(const T in b)S[T]=p(b[T]);return To(b,go)&&(S[go]=b[go]),S}function v(b){return Lr(b)?p(b):b}pA("Patches",{applyPatches_:h,generatePatches_:s,generateReplacementPatches_:f})}var Mt=new bA,xA=Mt.produce;Mt.produceWithPatches.bind(Mt);Mt.setAutoFreeze.bind(Mt);Mt.setUseStrictShallowCopy.bind(Mt);var SA=Mt.applyPatches.bind(Mt);Mt.createDraft.bind(Mt);Mt.finishDraft.bind(Mt);function _A(e){const t=e.value,n=[];if(t?.payload?.trackItemIds){const o=t.payload.trackItemIds;n.push(o),this.updateState({activeIds:n})}if(e.key===uu){const o=e.value?.payload.trackItemIds,s=Pe.cloneDeep(this.getState()),a=o?.length?o:s.activeIds,l=s.trackItemIds.filter(v=>!a.includes(v)),u=Object.fromEntries(Object.entries(s.trackItemDetailsMap).filter(([v])=>!a.includes(v))),f=x0(s.tracks,a),h=Object.fromEntries(Object.entries(s.trackItemsMap).filter(([v])=>!a.includes(v))),p=nn(h);this.updateState({trackItemIds:l,trackItemDetailsMap:u,activeIds:[],trackItemsMap:h,tracks:f,duration:p},{updateHistory:!0,kind:"remove"})}if(e.key===du){const o=Pe.cloneDeep(this.getState()),s=[],a=e.value?.payload.trackItemIds||o.activeIds;if(a.length===0)return;a.forEach(u=>{const f=o.trackItemsMap[u],h=o.trackItemDetailsMap[u],p=nt();s.push(p),o.trackItemsMap={...o.trackItemsMap,[p]:{...Pe.cloneDeep(f),id:p}},o.trackItemDetailsMap={...o.trackItemDetailsMap,[p]:{...Pe.cloneDeep(h)}},o.trackItemIds.push(p)});const l=o.tracks.map(u=>{const f={...u,id:nt(),items:u.items.filter(h=>a.includes(h)).map(h=>{const p=a.indexOf(h);return s[p]})};return f.items.length?f:null}).filter(Boolean);o.tracks.unshift(...l),this.updateState({trackItemDetailsMap:o.trackItemDetailsMap,tracks:o.tracks,trackItemIds:o.trackItemIds,trackItemsMap:o.trackItemsMap},{updateHistory:!0,kind:"update"})}if(e.key===fu){const o=Pe.cloneDeep(this.getState()),s=e.value?.options.time;if(o.activeIds.length!==1)return;const a=o.activeIds[0],l=o.trackItemsMap[a];if(s<=l.display.from||s>=l.display.to)return;const u=nt(),f={...l,id:u,display:{from:s,to:l.display.to},trim:{from:s,to:l.display.to}};o.trackItemsMap[a].display.to=s,o.trackItemsMap[u]=f,o.trackItemDetailsMap[u]=o.trackItemDetailsMap[a],o.trackItemIds.push(u),o.tracks.forEach(h=>{h.items.includes(a)&&h.items.push(u)}),this.updateState({trackItemsMap:o.trackItemsMap,trackItemDetailsMap:o.trackItemDetailsMap,trackItemIds:o.trackItemIds,tracks:o.tracks},{updateHistory:!0,kind:"update"})}}async function EA(e){if(e.key===bu){const t=e.value?.payload;this.updateState({size:t},{kind:"scene:resize",updateHistory:!1})}if(e.key===lg){const t=e.value?.payload,n=t.size,o=t.trackItemIds,s=t.trackItemsMap,a=t.trackItemDetailsMap;if(!o)return;const l=o?.map(async f=>{try{const h=a[f],p=s[f];if(h.type==="text"){const v=await Gu({id:f,details:h.details,...p},{size:n}),{details:b,...S}=v;a[f]={type:"text",details:b},s[f]=S}return!0}catch{return!1}});await Promise.all(l);const u=nn(s);this.updateState({...t,trackItemsMap:s,duration:u})}}async function TA(e){const t=Pe.cloneDeep(this.getState()),n=e.value?.options?.trackId,o=e.value?.options?.trackIndex;let s=[],a;if(e.key===_i){a="video";const u=await _0(e.value?.payload,{size:t.size}),{details:f,...h}=u;t.trackItemDetailsMap[h.id]={type:a,details:f},t.trackItemsMap[h.id]=h,t.trackItemIds.push(h.id),s=[h.id]}if(e.key===Ti){a="image";const u=await S0(e.value?.payload,{size:t.size}),{details:f,...h}=u;t.trackItemDetailsMap[h.id]={type:a,details:f},t.trackItemsMap[h.id]=h,t.trackItemIds.push(h.id),s=[h.id]}if(e.key===Ei){a="audio";const u=await E0(e.value?.payload),{details:f,...h}=u;t.trackItemDetailsMap[h.id]={type:a,details:f},t.trackItemsMap[h.id]=h,t.trackItemIds.push(h.id),s=[h.id]}if(e.key===au){a="text";const{details:u,...f}=await Gu(e.value?.payload??void 0,{size:t.size});t.trackItemDetailsMap[f.id]={type:a,details:u},t.trackItemsMap[f.id]=f,t.trackItemIds.push(f.id),s.push(f.id)}const l=CA(s,t.tracks,t.trackItemsMap,n,o);if(l.trackId)t.tracks.find(f=>f.id===l.trackId)?.items.push(...s);else if(l.trackIndex!==void 0){const u=Hp(a,s);t.tracks.splice(l.trackIndex,0,u)}else{const u=Hp(a,s);t.tracks.unshift(u)}t.duration=nn(t.trackItemsMap),this.updateState({trackItemIds:t.trackItemIds,trackItemDetailsMap:t.trackItemDetailsMap,trackItemsMap:t.trackItemsMap,tracks:t.tracks,duration:t.duration,structure:t.structure},{updateHistory:!0,kind:"add"})}function Hp(e,t){return{id:nt(),accepts:["text","audio","helper","video","image"],type:e,items:t,magnetic:!1,static:!1}}const CA=(e,t,n,o,s)=>{if(o===void 0&&s===void 0)return{trackId:void 0,trackIndex:void 0};const a=s!==void 0?t[Math.max(0,Math.min(s,t.length-1))]:t.find(f=>f.id===o);if(!a)return{trackId:void 0,trackIndex:s!==void 0?Math.max(0,Math.min(s,t.length-1)):void 0};const l=a.items.map(f=>n[f]),u=e.map(f=>n[f]);for(const f of l){const h=f.display.from,p=f.display.to;for(const v of u){const b=v.display.from;if(!(v.display.to<=h||b>=p))return{trackId:void 0,trackIndex:t.indexOf(a)}}}return{trackId:a.id,trackIndex:t.indexOf(a)}},Up=["tracks","trackItemsMap","trackItemDetailsMap","transitionIds","transitionsMap","trackItemIds"],IA={size:{width:1080,height:1920},tracks:[],trackItemIds:[],trackItemsMap:{},transitionIds:[],transitionsMap:{},scale:{unit:1,zoom:1,segments:1,index:1},duration:0,activeIds:[],trackItemDetailsMap:{},structure:[]};class _v{stateSubject;stateHistorySubject;prevState;undos;redos;listener;constructor(t){this.stateSubject=null,this.stateHistorySubject=null,this.prevState=null,this.undos=[],this.redos=[],this.listener=null;const n=t||IA;this.stateSubject=new $h(n),this.stateHistorySubject=new $h({handleRedo:!1,handleUndo:!1}),this.prevState=n,this.initListeners()}initListeners(){Ev(this)}destroyListeners(){this.listener&&this.listener.unsubscribe()}purge(){this.destroyListeners()}updateHistory(t,n){const o=Pe.pick(t,Up),s=Pe.pick(this.getState(),Up),a=mv(s,o);a.length&&(this.undos.push({undos:a,type:n}),this.redos=[])}getStateHistory(){return this.stateHistorySubject.getValue()}subscribeHistory(t){return this.stateHistorySubject.subscribe(t)}getState(){return this.stateSubject.getValue()}subscribe(t){return this.stateSubject.subscribe(t)}updateState(t,n={updateHistory:!1,kind:void 0}){const o=this.getState(),s={...o,...t};if(!Pe.isEqual(o,s)){n.updateHistory&&this.updateHistory(s,n.kind);const{duration:a,trackItemsMap:l,...u}=o;this.prevState={...u,duration:this.prevState.duration,trackItemsMap:this.prevState.trackItemsMap},this.stateSubject.next(s)}}subscribeToSize(t){return this.stateSubject.asObservable().subscribe(n=>{Pe.isEqual(n.size,this.prevState.size)||t({size:n.size})})}subscribeToScale(t){return this.stateSubject.asObservable().subscribe(n=>{Pe.isEqual(n.scale,this.prevState.scale)||t({scale:n.scale})})}subscribeToUpdateTrackItem(t){return this.stateSubject.asObservable().subscribe(n=>{Pe.isEqual(n.trackItemsMap,this.prevState.trackItemsMap)||t({trackItemsMap:n.trackItemsMap})})}subscribeToUpdateItemDetails(t){return this.stateSubject.asObservable().subscribe(n=>{Pe.isEqual(n.trackItemDetailsMap,this.prevState.trackItemDetailsMap)||t({trackItemDetailsMap:n.trackItemDetailsMap})})}subscribeToDuration(t){return this.stateSubject.asObservable().subscribe(n=>{n.duration!==this.prevState.duration&&t({duration:n.duration})})}subscribeToHistory(t){return this.stateHistorySubject.asObservable().subscribe(n=>{if(n.handleRedo){const o=this.undos[this.undos.length-1]?.type;o==="update"&&t({...this.getState(),type:o}),this.stateHistorySubject.next({handleRedo:!1,handleUndo:!1})}if(n.handleUndo){const o=this.redos[this.redos.length-1]?.type;o==="update"&&t({...this.getState(),type:o}),this.stateHistorySubject.next({handleRedo:!1,handleUndo:!1})}})}subscribeToAddOrRemoveItems(t){return this.stateSubject.asObservable().subscribe(n=>{(!n.trackItemIds?.every(o=>this.prevState.trackItemIds?.includes(o))||!Pe.isEqual(n.tracks,this.prevState.tracks))&&t({trackItemIds:n.trackItemIds})})}subscribeToActiveIds(t){return this.stateSubject.asObservable().subscribe(n=>{Pe.isEqual(n.activeIds,this.prevState.activeIds)||t({activeIds:n.activeIds})})}subscribeToTracks(t){return this.stateSubject.asObservable().subscribe(n=>{(!Pe.isEqual(n.tracks,this.prevState.tracks)||!Pe.isEqual(n.trackItemIds,this.prevState.trackItemIds)||!Pe.isEqual(n.trackItemsMap,this.prevState.trackItemsMap)||!Pe.isEqual(n.transitionIds,this.prevState.transitionIds)||!Pe.isEqual(n.transitionsMap,this.prevState.transitionsMap)||!Pe.isEqual(n.trackItemDetailsMap,this.prevState.trackItemDetailsMap))&&t({tracks:n.tracks,trackItemIds:n.trackItemIds,trackItemsMap:n.trackItemsMap,transitionIds:n.transitionIds,transitionsMap:n.transitionsMap,trackItemDetailsMap:n.trackItemDetailsMap})})}undo(){const t=this.undos.pop(),n=t?.undos,o=t?.type;if(!n||!o)return;zp();const{trackItemDetailsMap:s,trackItemIds:a,tracks:l,transitionIds:u,transitionsMap:f,trackItemsMap:h}=this.getState(),p=Pe.cloneDeep({trackItemDetailsMap:s,trackItemIds:a,tracks:l,transitionIds:u,transitionsMap:f,trackItemsMap:h}),v=[],b=[],S=[],T=[],_=[],C=[];n.forEach(Y=>{let te;const ie=Y.path.slice(1);Y.type==="CREATE"?te={path:ie,op:"remove",value:Y.value}:Y.type==="CHANGE"?te={path:ie,op:"replace",value:Y.oldValue}:te={path:ie,op:"add",value:Y.oldValue},Y.path.includes("trackItemIds")?S.push(te):Y.path.includes("transitionIds")?b.push(te):Y.path.includes("trackItemsMap")?_.push(te):Y.path.includes("transitionsMap")?T.push(te):Y.path.includes("tracks")?v.push(te):Y.path.includes("trackItemDetailsMap")&&C.push(te)});const A=this.applyPatch(p.tracks,v),R=this.applyPatch(p.transitionIds,b),O=this.applyPatch(p.trackItemIds,S),D=this.applyPatch(p.transitionsMap,T),j=this.applyPatch(p.trackItemsMap,_),V=this.applyPatch(p.trackItemDetailsMap,C),F=Pe.cloneDeep({tracks:A,transitionIds:R,trackItemIds:O,transitionsMap:D,trackItemsMap:j,trackItemDetailsMap:V}),$=Pe.cloneDeep(this.getState()),G={...$,...F};this.prevState=$;const q={redos:n,type:o};this.redos.push(q);const ee=nn(G.trackItemsMap);this.stateSubject.next({...G,duration:ee}),this.stateHistorySubject.next({handleRedo:!1,handleUndo:!0})}redo(){const t=this.redos.pop();if(!t?.redos||!t?.type)return;zp();const n=this.getState(),{trackItemDetailsMap:o,trackItemIds:s,tracks:a,transitionIds:l,transitionsMap:u,trackItemsMap:f}=n,h=Pe.cloneDeep({trackItemDetailsMap:o,trackItemIds:s,tracks:a,transitionIds:l,transitionsMap:u,trackItemsMap:f}),p=[],v=[],b=[],S=[],T=[],_=[];t.redos.forEach(D=>{const j=D.path.slice(1);let V={};switch(D.type){case"CREATE":V={path:j,op:"add",value:D.value};break;case"CHANGE":V={path:j,op:"replace",value:D.value};break;case"REMOVE":V={path:j,op:"remove",value:D.oldValue};break;default:return null}D.path.includes("trackItemIds")?b.push(V):D.path.includes("transitionIds")?v.push(V):D.path.includes("trackItemsMap")?T.push(V):D.path.includes("transitionsMap")?S.push(V):D.path.includes("trackItemDetailsMap")?_.push(V):p.push(V)});const C={tracks:this.applyPatch(h.tracks,p),transitionIds:this.applyPatch(h.transitionIds,v),trackItemIds:this.applyPatch(h.trackItemIds,b),transitionsMap:this.applyPatch(h.transitionsMap,S),trackItemsMap:this.applyPatch(h.trackItemsMap,T),trackItemDetailsMap:this.applyPatch(h.trackItemDetailsMap,_)},A=Pe.cloneDeep(C),R={...Pe.cloneDeep(n),...A};this.prevState=n,this.undos.push({undos:t.redos,type:t.type});const O=nn(R.trackItemsMap);this.stateSubject.next({...R,duration:O}),this.stateHistorySubject.next({handleRedo:!0,handleUndo:!1})}applyPatch(t,n){return n.reverse().reduce((o,s)=>xA(o,a=>{SA(a,[s])}),t)}}function Ev(e){const t=we.subject.pipe(Dn(({key:a})=>a.startsWith(ig))).subscribe(a=>{a.key===pu&&e.undo(),a.key===gu&&e.redo()}),n=we.subject.pipe(Dn(({key:a,value:l})=>a.startsWith(q1))).subscribe(a=>{TA.bind(e)(a)}),o=we.subject.pipe(Dn(({key:a,value:l})=>a.startsWith(cg))).subscribe(async a=>{await EA.bind(e)(a)}),s=we.subject.pipe(Dn(({key:a})=>a.startsWith(ng))).subscribe(async a=>{_A.bind(e)(a)});return()=>{t.unsubscribe(),n.unsubscribe(),s.unsubscribe(),o.unsubscribe()}}const Tv=()=>{const{playerRef:e,fps:t,timeline:n,setState:o}=mn();J.useEffect(()=>{const a=we.subject.pipe(Dn(({key:l})=>l.startsWith(J1))).subscribe(l=>{if(l.key===Q1){const{time:u}=l.value?.payload;e?.current?.seekTo(u/1e3*t)}else if(l.key===cu)e?.current?.play();else if(l.key===lu)e?.current?.pause();else if(l.key===tg)e?.current?.isPlaying()?e.current.pause():e?.current?.play();else if(l.key===eg){const{frames:u}=l.value?.payload;e?.current?.seekTo(Math.round(e.current.getCurrentFrame())+u)}});return()=>{a.unsubscribe()}},[e,t]),J.useEffect(()=>{const a=we.subject.pipe(Dn(({key:l})=>l.startsWith(rg))).subscribe(l=>{l.key===hu&&o({activeIds:l.value?.payload.activeIds})});return()=>{a.unsubscribe()}},[n])},AA=new _v,kA=()=>{const{playerRef:e}=mn();Tv();const[t,n]=J.useState([]);return m.jsxs("div",{className:"relative flex h-screen w-screen flex-col bg-background ",children:[m.jsx(i0,{}),m.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",flex:1,overflow:"hidden"},children:[m.jsx(r0,{}),m.jsx(n0,{}),m.jsx(l0,{})]}),m.jsx("div",{className:"h-70 w-full ",children:e&&m.jsx(gv,{stateManager:AA})})]})};exports.ACTIVE_CLONE=du;exports.ACTIVE_DELETE=uu;exports.ACTIVE_PASTE=F_;exports.ACTIVE_PREFIX=ng;exports.ACTIVE_SET=j_;exports.ACTIVE_SPLIT=fu;exports.ADD_ANIMATION=R_;exports.ADD_AUDIO=Ei;exports.ADD_IMAGE=Ti;exports.ADD_MASK=A_;exports.ADD_PLACEHOLDER=I_;exports.ADD_PREFIX=q1;exports.ADD_SUFFIX=w_;exports.ADD_TEXT=au;exports.ADD_TRANSITION=k_;exports.ADD_VIDEO=_i;exports.AUDIOS=Jm;exports.AppComponent=kA;exports.Audio=P0;exports.AudioObject=Ln;exports.BASE_TIMELINE_ELEMENT_DURATION_MS=BT;exports.Button=Ue;exports.CanvasMixin=u0;exports.DEFAULT_AUDIO_BITRATE=YT;exports.DEFAULT_AUDIO_SAMPLE_RATE=GT;exports.DEFAULT_BLUR=DC;exports.DEFAULT_BLUR_STEP=MC;exports.DEFAULT_BRIGHTNESS=pC;exports.DEFAULT_BRIGHTNESS_STEP=hC;exports.DEFAULT_CONTRAST=CC;exports.DEFAULT_CONTRAST_STEP=TC;exports.DEFAULT_FADE_IN=rC;exports.DEFAULT_FADE_OUT=iC;exports.DEFAULT_FADE_STEP=nC;exports.DEFAULT_FLIP_X=lC;exports.DEFAULT_FLIP_Y=uC;exports.DEFAULT_FONT=zl;exports.DEFAULT_FRAMERATE=Dm;exports.DEFAULT_MAX_BLUR=OC;exports.DEFAULT_MAX_BRIGHTNESS=fC;exports.DEFAULT_MAX_CONTRAST=EC;exports.DEFAULT_MAX_FADE=tC;exports.DEFAULT_MAX_OPACITY=AC;exports.DEFAULT_MAX_ROTATION=sC;exports.DEFAULT_MAX_SATURATION=mC;exports.DEFAULT_MAX_SPEED=NC;exports.DEFAULT_MAX_TEMPERATURE=wC;exports.DEFAULT_MAX_VOLUME=HC;exports.DEFAULT_MEDIA_PANEL_WIDTH=qT;exports.DEFAULT_MIN_BLUR=PC;exports.DEFAULT_MIN_BRIGHTNESS=dC;exports.DEFAULT_MIN_CONTRAST=_C;exports.DEFAULT_MIN_FADE=eC;exports.DEFAULT_MIN_OPACITY=IC;exports.DEFAULT_MIN_ROTATION=oC;exports.DEFAULT_MIN_SATURATION=gC;exports.DEFAULT_MIN_SPEED=LC;exports.DEFAULT_MIN_TEMPERATURE=bC;exports.DEFAULT_MIN_VOLUME=zC;exports.DEFAULT_OPACITY=RC;exports.DEFAULT_OPACITY_STEP=kC;exports.DEFAULT_PREVIEW_HEIGHT=ZT;exports.DEFAULT_PREVIEW_SCALE=zu;exports.DEFAULT_PREVIEW_WIDTH=XT;exports.DEFAULT_ROTATION=cC;exports.DEFAULT_ROTATION_STEP=aC;exports.DEFAULT_SATURATION=yC;exports.DEFAULT_SATURATION_STEP=vC;exports.DEFAULT_SETTINGS_PANEL_WIDTH=QT;exports.DEFAULT_SPEED=FC;exports.DEFAULT_SPEED_STEP=jC;exports.DEFAULT_TEMPERATURE=SC;exports.DEFAULT_TEMPERATURE_STEP=xC;exports.DEFAULT_VIDEO_HEIGHT=Mm;exports.DEFAULT_VIDEO_MAX_BITRATE=$T;exports.DEFAULT_VIDEO_MIN_BITRATE=VT;exports.DEFAULT_VIDEO_WIDTH=Om;exports.DEFAULT_VOLUME=WC;exports.DEFAULT_VOLUME_STEP=UC;exports.DEFAULT_WEIGHT=WT;exports.DESIGN_LOAD=Q_;exports.DESIGN_PREFIX=e4;exports.DRAG_END=mo;exports.DRAG_PREFIX=sg;exports.DRAG_START=vu;exports.Draggable=Ao;exports.DroppableArea=mg;exports.EDIT_OBJECT=O_;exports.EDIT_PREFIX=P_;exports.EDIT_SHAPE=D_;exports.EDIT_TEXT=M_;exports.ENTER_EDIT_MODE=L_;exports.FRAME_INTERVAL=Lm;exports.GIANT_ICON_SIZE=LT;exports.HISTORY_PREFIX=ig;exports.HISTORY_REDO=gu;exports.HISTORY_RESET=J_;exports.HISTORY_UNDO=pu;exports.Header=qm;exports.Helper=L0;exports.HelperObject=ki;exports.IMAGES=Qm;exports.Image=M0;exports.ImageObject=_a;exports.LARGER_FONT_SIZE=zT;exports.LARGE_FONT_SIZE=HT;exports.LARGE_ICON_SIZE=NT;exports.LAYER_CLONE=X_;exports.LAYER_COPY=G_;exports.LAYER_CUT=K_;exports.LAYER_DELETE=q_;exports.LAYER_EDITING_NAME=$_;exports.LAYER_HIDDEN=H_;exports.LAYER_LOCKED=z_;exports.LAYER_MOVE=U_;exports.LAYER_PASTE=Y_;exports.LAYER_PREFIX=rg;exports.LAYER_RENAME=V_;exports.LAYER_SELECT=W_;exports.LAYER_SELECTION=hu;exports.LAYER_SEND_TO=B_;exports.LAYER_SPLIT=Z_;exports.MAX_MEDIA_PANEL_WIDTH=JT;exports.MIN_MEDIA_PANEL_WIDTH=KT;exports.MenuItem=n0;exports.MenuList=r0;exports.NORMAL_FONT_SIZE=UT;exports.NORMAL_ICON_SIZE=jT;exports.NavbarComponent=i0;exports.PLAYER_PAUSE=lu;exports.PLAYER_PLAY=cu;exports.PLAYER_PREFIX=J1;exports.PLAYER_SEEK=Q1;exports.PLAYER_SEEK_BY=eg;exports.PLAYER_SEEK_TO=N_;exports.PLAYER_TOGGLE_PLAY=tg;exports.PREVIEW_FRAME_WIDTH=Po;exports.Placeholder=wi;exports.Player=s0;exports.PlayheadComponent=a0;exports.Popover=km;exports.PreviewTrackItem=So;exports.RulerComponent=c0;exports.SCENE_LOAD=lg;exports.SCENE_PREFIX=cg;exports.SCENE_RESIZE=bu;exports.SECONDARY_FONT=Pm;exports.SMALL_FONT_SIZE=Rm;exports.SMALL_ICON_SIZE=FT;exports.STATE_CHANGED=C_;exports.STATE_PREFIX=T_;exports.Scene=l0;exports.SceneBoard=DT;exports.ScrollArea=Fr;exports.ScrollBar=nu;exports.SequenceItem=o0;exports.Slider=b1;exports.StateManager=_v;exports.TIMELINE_BOUNDING_CHANGED=yu;exports.TIMELINE_OFFSET_CANVAS_LEFT=wa;exports.TIMELINE_OFFSET_CANVAS_RIGHT=Fl;exports.TIMELINE_OFFSET_X=Js;exports.TIMELINE_PREFIX=ag;exports.TIMELINE_SCALE_CHANGED=mu;exports.TIMELINE_SCALE_PREFIX=og;exports.TIMELINE_ZOOM_LEVELS=tn;exports.TRACKS_CHANGED=__;exports.TRACK_ITEMS_CHANGED=E_;exports.TRACK_ITEMS_PREFIX=S_;exports.TRACK_PREFIX=x_;exports.TRANSITIONS=t0;exports.Tabs=K1;exports.TabsContent=Gs;exports.TabsList=su;exports.TabsTrigger=$s;exports.Text=Yu;exports.TextObject=Or;exports.Timeline=ka;exports.TimelineComponent=gv;exports.Track=D0;exports.TrackItemsMixin=N0;exports.TrackObject=lr;exports.TracksMixin=j0;exports.Transition=Vt;exports.TransitionGuide=xo;exports.TransitionsMixin=F0;exports.UPLOADS=z7;exports.VIDEOS=e0;exports.Video=O0;exports.VideoObject=zr;exports.addEventListeners=fv;exports.applyMixins=g0;exports.buttonVariants=t1;exports.calculateDisplayRange=w0;exports.calculateDuration=nn;exports.calculatePosition=Ea;exports.calculateTimelineWidth=$m;exports.calculateTrim=b0;exports.cn=ut;exports.createAudioControls=f0;exports.createControls=p0;exports.createMediaControls=h0;exports.createResizeControls=Bu;exports.defaultColor=Mo;exports.defaultSizes=k0;exports.eventBus=we;exports.filterAndCleanTracks=x0;exports.findIndex=Hu;exports.formatBytes=mS;exports.formatTimeToHumanReadable=BC;exports.formatTimelineUnit=Nm;exports.frameToTimeString=jm;exports.getCurrentTime=zm;exports.getFitZoomLevel=VC;exports.getMovingState=T9;exports.getNextZoom=Wm;exports.getNextZoomIndex=Vm;exports.getNextZoomLevel=Bm;exports.getOffset=_e;exports.getPreviousZoom=Um;exports.getPreviousZoomIndex=GC;exports.getPreviousZoomLevel=Hm;exports.getTextHeight=po;exports.getZoomByIndex=$C;exports.handleEvents=pv;exports.handleResize=wo;exports.isScalingFromCenter=Vu;exports.loadAudio=m0;exports.loadAudioItem=E0;exports.loadAudioObject=T0;exports.loadFonts=Gm;exports.loadImage=v0;exports.loadImageItem=S0;exports.loadImageObject=C0;exports.loadTextItem=Gu;exports.loadTextObject=A0;exports.loadVideo=y0;exports.loadVideoItem=_0;exports.loadVideoObject=I0;exports.mergeSizes=R0;exports.mergeTrackObjects=Uu;exports.movingState=B;exports.positionOffsets=d0;exports.randomInt=YC;exports.removeEventListeners=hv;exports.removeItemsFromTrack=bo;exports.renderControl=Fn;exports.reorderTracksByIndex=Wu;exports.setupHistoryListeners=Ev;exports.timeMsToUnits=qe;exports.timeToString=Fm;exports.transitionStore=Xe;exports.unitsToTimeMs=Bt;exports.updateMovingState=C9;exports.useCurrentPlayerFrame=xa;exports.useIsDraggingOverTimeline=Oo;exports.useLayoutStore=Sa;exports.useStore=mn;exports.useTimelineEvents=Tv;exports.wrapResizeWithAnchorPosition=$u;
