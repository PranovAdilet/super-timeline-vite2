(function(b,$){typeof exports=="object"&&typeof module<"u"?$(exports,require("react"),require("react-dom"),require("zustand"),require("@remotion/player"),require("remotion"),require("fabric")):typeof define=="function"&&define.amd?define(["exports","react","react-dom","zustand","@remotion/player","remotion","fabric"],$):(b=typeof globalThis<"u"?globalThis:b||self,$(b["super-timeline"]={},b.React,b.ReactDOM,b.zustand,b.player,b.remotion,b.fabric))})(this,function(b,$,og,Cl,ag,Zt,V){"use strict";function cg(t){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>t[r]})}}return n.default=t,Object.freeze(n)}const k=cg($);var Jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Oo={exports:{}},Qr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl;function ug(){if(kl)return Qr;kl=1;var t=$,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,g){var y,w={},T=null,x=null;g!==void 0&&(T=""+g),h.key!==void 0&&(T=""+h.key),h.ref!==void 0&&(x=h.ref);for(y in h)s.call(h,y)&&!c.hasOwnProperty(y)&&(w[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)w[y]===void 0&&(w[y]=h[y]);return{$$typeof:n,type:d,key:T,ref:x,props:w,_owner:a.current}}return Qr.Fragment=r,Qr.jsx=u,Qr.jsxs=u,Qr}var ei={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al;function dg(){return Al||(Al=1,process.env.NODE_ENV!=="production"&&function(){var t=$,n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),A=Symbol.iterator,M="@@iterator";function R(S){if(S===null||typeof S!="object")return null;var H=A&&S[A]||S[M];return typeof H=="function"?H:null}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function P(S){{for(var H=arguments.length,G=new Array(H>1?H-1:0),ae=1;ae<H;ae++)G[ae-1]=arguments[ae];F("error",S,G)}}function F(S,H,G){{var ae=D.ReactDebugCurrentFrame,Ie=ae.getStackAddendum();Ie!==""&&(H+="%s",G=G.concat([Ie]));var ke=G.map(function(_e){return String(_e)});ke.unshift("Warning: "+H),Function.prototype.apply.call(console[S],console,ke)}}var z=!1,Q=!1,J=!1,ee=!1,q=!1,Z;Z=Symbol.for("react.module.reference");function ie(S){return!!(typeof S=="string"||typeof S=="function"||S===s||S===c||q||S===a||S===g||S===y||ee||S===x||z||Q||J||typeof S=="object"&&S!==null&&(S.$$typeof===T||S.$$typeof===w||S.$$typeof===u||S.$$typeof===d||S.$$typeof===h||S.$$typeof===Z||S.getModuleId!==void 0))}function oe(S,H,G){var ae=S.displayName;if(ae)return ae;var Ie=H.displayName||H.name||"";return Ie!==""?G+"("+Ie+")":G}function X(S){return S.displayName||"Context"}function de(S){if(S==null)return null;if(typeof S.tag=="number"&&P("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case s:return"Fragment";case r:return"Portal";case c:return"Profiler";case a:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case d:var H=S;return X(H)+".Consumer";case u:var G=S;return X(G._context)+".Provider";case h:return oe(S,S.render,"ForwardRef");case w:var ae=S.displayName||null;return ae!==null?ae:de(S.type)||"Memo";case T:{var Ie=S,ke=Ie._payload,_e=Ie._init;try{return de(_e(ke))}catch{return null}}}return null}var Te=Object.assign,Ne=0,xe,Oe,Me,Ze,pt,ce,tr;function kr(){}kr.__reactDisabledLog=!0;function Ai(){{if(Ne===0){xe=console.log,Oe=console.info,Me=console.warn,Ze=console.error,pt=console.group,ce=console.groupCollapsed,tr=console.groupEnd;var S={configurable:!0,enumerable:!0,value:kr,writable:!0};Object.defineProperties(console,{info:S,log:S,warn:S,error:S,group:S,groupCollapsed:S,groupEnd:S})}Ne++}}function kn(){{if(Ne--,Ne===0){var S={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Te({},S,{value:xe}),info:Te({},S,{value:Oe}),warn:Te({},S,{value:Me}),error:Te({},S,{value:Ze}),group:Te({},S,{value:pt}),groupCollapsed:Te({},S,{value:ce}),groupEnd:Te({},S,{value:tr})})}Ne<0&&P("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var An=D.ReactCurrentDispatcher,Ri;function en(S,H,G){{if(Ri===void 0)try{throw Error()}catch(Ie){var ae=Ie.stack.trim().match(/\n( *(at )?)/);Ri=ae&&ae[1]||""}return`
`+Ri+S}}var dn=!1,Ar;{var Rr=typeof WeakMap=="function"?WeakMap:Map;Ar=new Rr}function nr(S,H){if(!S||dn)return"";{var G=Ar.get(S);if(G!==void 0)return G}var ae;dn=!0;var Ie=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var ke;ke=An.current,An.current=null,Ai();try{if(H){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(Je){ae=Je}Reflect.construct(S,[],_e)}else{try{_e.call()}catch(Je){ae=Je}S.call(_e.prototype)}}else{try{throw Error()}catch(Je){ae=Je}S()}}catch(Je){if(Je&&ae&&typeof Je.stack=="string"){for(var me=Je.stack.split(`
`),rt=ae.stack.split(`
`),ze=me.length-1,Ve=rt.length-1;ze>=1&&Ve>=0&&me[ze]!==rt[Ve];)Ve--;for(;ze>=1&&Ve>=0;ze--,Ve--)if(me[ze]!==rt[Ve]){if(ze!==1||Ve!==1)do if(ze--,Ve--,Ve<0||me[ze]!==rt[Ve]){var gt=`
`+me[ze].replace(" at new "," at ");return S.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",S.displayName)),typeof S=="function"&&Ar.set(S,gt),gt}while(ze>=1&&Ve>=0);break}}}finally{dn=!1,An.current=ke,kn(),Error.prepareStackTrace=Ie}var Vt=S?S.displayName||S.name:"",hn=Vt?en(Vt):"";return typeof S=="function"&&Ar.set(S,hn),hn}function Fs(S,H,G){return nr(S,!1)}function St(S){var H=S.prototype;return!!(H&&H.isReactComponent)}function tn(S,H,G){if(S==null)return"";if(typeof S=="function")return nr(S,St(S));if(typeof S=="string")return en(S);switch(S){case g:return en("Suspense");case y:return en("SuspenseList")}if(typeof S=="object")switch(S.$$typeof){case h:return Fs(S.render);case w:return tn(S.type,H,G);case T:{var ae=S,Ie=ae._payload,ke=ae._init;try{return tn(ke(Ie),H,G)}catch{}}}return""}var rr=Object.prototype.hasOwnProperty,Pt={},Mi=D.ReactDebugCurrentFrame;function Mr(S){if(S){var H=S._owner,G=tn(S.type,S._source,H?H.type:null);Mi.setExtraStackFrame(G)}else Mi.setExtraStackFrame(null)}function ir(S,H,G,ae,Ie){{var ke=Function.call.bind(rr);for(var _e in S)if(ke(S,_e)){var me=void 0;try{if(typeof S[_e]!="function"){var rt=Error((ae||"React class")+": "+G+" type `"+_e+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof S[_e]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw rt.name="Invariant Violation",rt}me=S[_e](H,_e,ae,G,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ze){me=ze}me&&!(me instanceof Error)&&(Mr(Ie),P("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ae||"React class",G,_e,typeof me),Mr(null)),me instanceof Error&&!(me.message in Pt)&&(Pt[me.message]=!0,Mr(Ie),P("Failed %s type: %s",G,me.message),Mr(null))}}}var Tt=Array.isArray;function fn(S){return Tt(S)}function Or(S){{var H=typeof Symbol=="function"&&Symbol.toStringTag,G=H&&S[Symbol.toStringTag]||S.constructor.name||"Object";return G}}function ac(S){try{return Rn(S),!1}catch{return!0}}function Rn(S){return""+S}function Us(S){if(ac(S))return P("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Or(S)),Rn(S)}var Mn=D.ReactCurrentOwner,On={key:!0,ref:!0,__self:!0,__source:!0},Pr,Dr;function Oi(S){if(rr.call(S,"ref")){var H=Object.getOwnPropertyDescriptor(S,"ref").get;if(H&&H.isReactWarning)return!1}return S.ref!==void 0}function Pi(S){if(rr.call(S,"key")){var H=Object.getOwnPropertyDescriptor(S,"key").get;if(H&&H.isReactWarning)return!1}return S.key!==void 0}function Di(S,H){typeof S.ref=="string"&&Mn.current}function Li(S,H){{var G=function(){Pr||(Pr=!0,P("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",H))};G.isReactWarning=!0,Object.defineProperty(S,"key",{get:G,configurable:!0})}}function Ni(S,H){{var G=function(){Dr||(Dr=!0,P("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",H))};G.isReactWarning=!0,Object.defineProperty(S,"ref",{get:G,configurable:!0})}}var ji=function(S,H,G,ae,Ie,ke,_e){var me={$$typeof:n,type:S,key:H,ref:G,props:_e,_owner:ke};return me._store={},Object.defineProperty(me._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(me,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ae}),Object.defineProperty(me,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ie}),Object.freeze&&(Object.freeze(me.props),Object.freeze(me)),me};function Fi(S,H,G,ae,Ie){{var ke,_e={},me=null,rt=null;G!==void 0&&(Us(G),me=""+G),Pi(H)&&(Us(H.key),me=""+H.key),Oi(H)&&(rt=H.ref,Di(H,Ie));for(ke in H)rr.call(H,ke)&&!On.hasOwnProperty(ke)&&(_e[ke]=H[ke]);if(S&&S.defaultProps){var ze=S.defaultProps;for(ke in ze)_e[ke]===void 0&&(_e[ke]=ze[ke])}if(me||rt){var Ve=typeof S=="function"?S.displayName||S.name||"Unknown":S;me&&Li(_e,Ve),rt&&Ni(_e,Ve)}return ji(S,me,rt,Ie,ae,Mn.current,_e)}}var Ui=D.ReactCurrentOwner,zs=D.ReactDebugCurrentFrame;function Pn(S){if(S){var H=S._owner,G=tn(S.type,S._source,H?H.type:null);zs.setExtraStackFrame(G)}else zs.setExtraStackFrame(null)}var Lr;Lr=!1;function Nr(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function Hs(){{if(Ui.current){var S=de(Ui.current.type);if(S)return`

Check the render method of \``+S+"`."}return""}}function cc(S){return""}var Ws={};function lc(S){{var H=Hs();if(!H){var G=typeof S=="string"?S:S.displayName||S.name;G&&(H=`

Check the top-level render call using <`+G+">.")}return H}}function zi(S,H){{if(!S._store||S._store.validated||S.key!=null)return;S._store.validated=!0;var G=lc(H);if(Ws[G])return;Ws[G]=!0;var ae="";S&&S._owner&&S._owner!==Ui.current&&(ae=" It was passed a child from "+de(S._owner.type)+"."),Pn(S),P('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',G,ae),Pn(null)}}function Bs(S,H){{if(typeof S!="object")return;if(fn(S))for(var G=0;G<S.length;G++){var ae=S[G];Nr(ae)&&zi(ae,H)}else if(Nr(S))S._store&&(S._store.validated=!0);else if(S){var Ie=R(S);if(typeof Ie=="function"&&Ie!==S.entries)for(var ke=Ie.call(S),_e;!(_e=ke.next()).done;)Nr(_e.value)&&zi(_e.value,H)}}}function uc(S){{var H=S.type;if(H==null||typeof H=="string")return;var G;if(typeof H=="function")G=H.propTypes;else if(typeof H=="object"&&(H.$$typeof===h||H.$$typeof===w))G=H.propTypes;else return;if(G){var ae=de(H);ir(G,S.props,"prop",ae,S)}else if(H.PropTypes!==void 0&&!Lr){Lr=!0;var Ie=de(H);P("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ie||"Unknown")}typeof H.getDefaultProps=="function"&&!H.getDefaultProps.isReactClassApproved&&P("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function dc(S){{for(var H=Object.keys(S.props),G=0;G<H.length;G++){var ae=H[G];if(ae!=="children"&&ae!=="key"){Pn(S),P("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ae),Pn(null);break}}S.ref!==null&&(Pn(S),P("Invalid attribute `ref` supplied to `React.Fragment`."),Pn(null))}}var jr={};function Vs(S,H,G,ae,Ie,ke){{var _e=ie(S);if(!_e){var me="";(S===void 0||typeof S=="object"&&S!==null&&Object.keys(S).length===0)&&(me+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var rt=cc();rt?me+=rt:me+=Hs();var ze;S===null?ze="null":fn(S)?ze="array":S!==void 0&&S.$$typeof===n?(ze="<"+(de(S.type)||"Unknown")+" />",me=" Did you accidentally export a JSX literal instead of a component?"):ze=typeof S,P("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ze,me)}var Ve=Fi(S,H,G,Ie,ke);if(Ve==null)return Ve;if(_e){var gt=H.children;if(gt!==void 0)if(ae)if(fn(gt)){for(var Vt=0;Vt<gt.length;Vt++)Bs(gt[Vt],S);Object.freeze&&Object.freeze(gt)}else P("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Bs(gt,S)}if(rr.call(H,"key")){var hn=de(S),Je=Object.keys(H).filter(function(mc){return mc!=="key"}),Wi=Je.length>0?"{key: someKey, "+Je.join(": ..., ")+": ...}":"{key: someKey}";if(!jr[hn+Wi]){var gc=Je.length>0?"{"+Je.join(": ..., ")+": ...}":"{}";P(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Wi,hn,gc,hn),jr[hn+Wi]=!0}}return S===s?dc(Ve):uc(Ve),Ve}}function Hi(S,H,G){return Vs(S,H,G,!0)}function fc(S,H,G){return Vs(S,H,G,!1)}var hc=fc,pc=Hi;ei.Fragment=s,ei.jsx=hc,ei.jsxs=pc}()),ei}process.env.NODE_ENV==="production"?Oo.exports=ug():Oo.exports=dg();var v=Oo.exports;function Rl(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function Ml(...t){return n=>{let r=!1;const s=t.map(a=>{const c=Rl(a,n);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let a=0;a<s.length;a++){const c=s[a];typeof c=="function"?c():Rl(t[a],null)}}}}function lt(...t){return k.useCallback(Ml(...t),t)}var pr=k.forwardRef((t,n)=>{const{children:r,...s}=t,a=k.Children.toArray(r),c=a.find(hg);if(c){const u=c.props.children,d=a.map(h=>h===c?k.Children.count(u)>1?k.Children.only(null):k.isValidElement(u)?u.props.children:null:h);return v.jsx(Po,{...s,ref:n,children:k.isValidElement(u)?k.cloneElement(u,void 0,d):null})}return v.jsx(Po,{...s,ref:n,children:r})});pr.displayName="Slot";var Po=k.forwardRef((t,n)=>{const{children:r,...s}=t;if(k.isValidElement(r)){const a=gg(r),c=pg(s,r.props);return r.type!==k.Fragment&&(c.ref=n?Ml(n,a):a),k.cloneElement(r,c)}return k.Children.count(r)>1?k.Children.only(null):null});Po.displayName="SlotClone";var fg=({children:t})=>v.jsx(v.Fragment,{children:t});function hg(t){return k.isValidElement(t)&&t.type===fg}function pg(t,n){const r={...n};for(const s in n){const a=t[s],c=n[s];/^on[A-Z]/.test(s)?a&&c?r[s]=(...d)=>{c(...d),a(...d)}:a&&(r[s]=a):s==="style"?r[s]={...a,...c}:s==="className"&&(r[s]=[a,c].filter(Boolean).join(" "))}return{...t,...r}}function gg(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var mg=pr;function Ol(t){var n,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(n=0;n<a;n++)t[n]&&(r=Ol(t[n]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Pl(){for(var t,n,r=0,s="",a=arguments.length;r<a;r++)(t=arguments[r])&&(n=Ol(t))&&(s&&(s+=" "),s+=n);return s}const Dl=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ll=Pl,vg=(t,n)=>r=>{var s;if(n?.variants==null)return Ll(t,r?.class,r?.className);const{variants:a,defaultVariants:c}=n,u=Object.keys(a).map(g=>{const y=r?.[g],w=c?.[g];if(y===null)return null;const T=Dl(y)||Dl(w);return a[g][T]}),d=r&&Object.entries(r).reduce((g,y)=>{let[w,T]=y;return T===void 0||(g[w]=T),g},{}),h=n==null||(s=n.compoundVariants)===null||s===void 0?void 0:s.reduce((g,y)=>{let{class:w,className:T,...x}=y;return Object.entries(x).every(A=>{let[M,R]=A;return Array.isArray(R)?R.includes({...c,...d}[M]):{...c,...d}[M]===R})?[...g,w,T]:g},[]);return Ll(t,u,h,r?.class,r?.className)},Do="-",yg=t=>{const n=_g(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const d=u.split(Do);return d[0]===""&&d.length!==1&&d.shift(),Nl(d,n)||bg(u)},getConflictingClassGroupIds:(u,d)=>{const h=r[u]||[];return d&&s[u]?[...h,...s[u]]:h}}},Nl=(t,n)=>{if(t.length===0)return n.classGroupId;const r=t[0],s=n.nextPart.get(r),a=s?Nl(t.slice(1),s):void 0;if(a)return a;if(n.validators.length===0)return;const c=t.join(Do);return n.validators.find(({validator:u})=>u(c))?.classGroupId},jl=/^\[(.+)\]$/,bg=t=>{if(jl.test(t)){const n=jl.exec(t)[1],r=n?.substring(0,n.indexOf(":"));if(r)return"arbitrary.."+r}},_g=t=>{const{theme:n,prefix:r}=t,s={nextPart:new Map,validators:[]};return Sg(Object.entries(t.classGroups),r).forEach(([c,u])=>{Lo(u,s,c,n)}),s},Lo=(t,n,r,s)=>{t.forEach(a=>{if(typeof a=="string"){const c=a===""?n:Fl(n,a);c.classGroupId=r;return}if(typeof a=="function"){if(wg(a)){Lo(a(s),n,r,s);return}n.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([c,u])=>{Lo(u,Fl(n,c),r,s)})})},Fl=(t,n)=>{let r=t;return n.split(Do).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},wg=t=>t.isThemeGetter,Sg=(t,n)=>n?t.map(([r,s])=>{const a=s.map(c=>typeof c=="string"?n+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,d])=>[n+u,d])):c);return[r,a]}):t,Tg=t=>{if(t<1)return{get:()=>{},set:()=>{}};let n=0,r=new Map,s=new Map;const a=(c,u)=>{r.set(c,u),n++,n>t&&(n=0,s=r,r=new Map)};return{get(c){let u=r.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return a(c,u),u},set(c,u){r.has(c)?r.set(c,u):a(c,u)}}},Ul="!",Ig=t=>{const{separator:n,experimentalParseClassName:r}=t,s=n.length===1,a=n[0],c=n.length,u=d=>{const h=[];let g=0,y=0,w;for(let R=0;R<d.length;R++){let D=d[R];if(g===0){if(D===a&&(s||d.slice(R,R+c)===n)){h.push(d.slice(y,R)),y=R+c;continue}if(D==="/"){w=R;continue}}D==="["?g++:D==="]"&&g--}const T=h.length===0?d:d.substring(y),x=T.startsWith(Ul),A=x?T.substring(1):T,M=w&&w>y?w-y:void 0;return{modifiers:h,hasImportantModifier:x,baseClassName:A,maybePostfixModifierPosition:M}};return r?d=>r({className:d,parseClassName:u}):u},Eg=t=>{if(t.length<=1)return t;const n=[];let r=[];return t.forEach(s=>{s[0]==="["?(n.push(...r.sort(),s),r=[]):r.push(s)}),n.push(...r.sort()),n},xg=t=>({cache:Tg(t.cacheSize),parseClassName:Ig(t),...yg(t)}),Cg=/\s+/,kg=(t,n)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=n,c=[],u=t.trim().split(Cg);let d="";for(let h=u.length-1;h>=0;h-=1){const g=u[h],{modifiers:y,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:x}=r(g);let A=!!x,M=s(A?T.substring(0,x):T);if(!M){if(!A){d=g+(d.length>0?" "+d:d);continue}if(M=s(T),!M){d=g+(d.length>0?" "+d:d);continue}A=!1}const R=Eg(y).join(":"),D=w?R+Ul:R,P=D+M;if(c.includes(P))continue;c.push(P);const F=a(M,A);for(let z=0;z<F.length;++z){const Q=F[z];c.push(D+Q)}d=g+(d.length>0?" "+d:d)}return d};function Ag(){let t=0,n,r,s="";for(;t<arguments.length;)(n=arguments[t++])&&(r=zl(n))&&(s&&(s+=" "),s+=r);return s}const zl=t=>{if(typeof t=="string")return t;let n,r="";for(let s=0;s<t.length;s++)t[s]&&(n=zl(t[s]))&&(r&&(r+=" "),r+=n);return r};function Rg(t,...n){let r,s,a,c=u;function u(h){const g=n.reduce((y,w)=>w(y),t());return r=xg(g),s=r.cache.get,a=r.cache.set,c=d,d(h)}function d(h){const g=s(h);if(g)return g;const y=kg(h,r);return a(h,y),y}return function(){return c(Ag.apply(null,arguments))}}const Le=t=>{const n=r=>r[t]||[];return n.isThemeGetter=!0,n},Hl=/^\[(?:([a-z-]+):)?(.+)\]$/i,Mg=/^\d+\/\d+$/,Og=new Set(["px","full","screen"]),Pg=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dg=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lg=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ng=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jg=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,on=t=>gr(t)||Og.has(t)||Mg.test(t),Tn=t=>mr(t,"length",$g),gr=t=>!!t&&!Number.isNaN(Number(t)),No=t=>mr(t,"number",gr),ti=t=>!!t&&Number.isInteger(Number(t)),Fg=t=>t.endsWith("%")&&gr(t.slice(0,-1)),fe=t=>Hl.test(t),In=t=>Pg.test(t),Ug=new Set(["length","size","percentage"]),zg=t=>mr(t,Ug,Wl),Hg=t=>mr(t,"position",Wl),Wg=new Set(["image","url"]),Bg=t=>mr(t,Wg,Yg),Vg=t=>mr(t,"",Gg),ni=()=>!0,mr=(t,n,r)=>{const s=Hl.exec(t);return s?s[1]?typeof n=="string"?s[1]===n:n.has(s[1]):r(s[2]):!1},$g=t=>Dg.test(t)&&!Lg.test(t),Wl=()=>!1,Gg=t=>Ng.test(t),Yg=t=>jg.test(t),Xg=Rg(()=>{const t=Le("colors"),n=Le("spacing"),r=Le("blur"),s=Le("brightness"),a=Le("borderColor"),c=Le("borderRadius"),u=Le("borderSpacing"),d=Le("borderWidth"),h=Le("contrast"),g=Le("grayscale"),y=Le("hueRotate"),w=Le("invert"),T=Le("gap"),x=Le("gradientColorStops"),A=Le("gradientColorStopPositions"),M=Le("inset"),R=Le("margin"),D=Le("opacity"),P=Le("padding"),F=Le("saturate"),z=Le("scale"),Q=Le("sepia"),J=Le("skew"),ee=Le("space"),q=Le("translate"),Z=()=>["auto","contain","none"],ie=()=>["auto","hidden","clip","visible","scroll"],oe=()=>["auto",fe,n],X=()=>[fe,n],de=()=>["",on,Tn],Te=()=>["auto",gr,fe],Ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],xe=()=>["solid","dashed","dotted","double","none"],Oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Me=()=>["start","end","center","between","around","evenly","stretch"],Ze=()=>["","0",fe],pt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[gr,fe];return{cacheSize:500,separator:":",theme:{colors:[ni],spacing:[on,Tn],blur:["none","",In,fe],brightness:ce(),borderColor:[t],borderRadius:["none","","full",In,fe],borderSpacing:X(),borderWidth:de(),contrast:ce(),grayscale:Ze(),hueRotate:ce(),invert:Ze(),gap:X(),gradientColorStops:[t],gradientColorStopPositions:[Fg,Tn],inset:oe(),margin:oe(),opacity:ce(),padding:X(),saturate:ce(),scale:ce(),sepia:Ze(),skew:ce(),space:X(),translate:X()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[In]}],"break-after":[{"break-after":pt()}],"break-before":[{"break-before":pt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ne(),fe]}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[M]}],"inset-x":[{"inset-x":[M]}],"inset-y":[{"inset-y":[M]}],start:[{start:[M]}],end:[{end:[M]}],top:[{top:[M]}],right:[{right:[M]}],bottom:[{bottom:[M]}],left:[{left:[M]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ti,fe]}],basis:[{basis:oe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:Ze()}],shrink:[{shrink:Ze()}],order:[{order:["first","last","none",ti,fe]}],"grid-cols":[{"grid-cols":[ni]}],"col-start-end":[{col:["auto",{span:["full",ti,fe]},fe]}],"col-start":[{"col-start":Te()}],"col-end":[{"col-end":Te()}],"grid-rows":[{"grid-rows":[ni]}],"row-start-end":[{row:["auto",{span:[ti,fe]},fe]}],"row-start":[{"row-start":Te()}],"row-end":[{"row-end":Te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[T]}],"gap-x":[{"gap-x":[T]}],"gap-y":[{"gap-y":[T]}],"justify-content":[{justify:["normal",...Me()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Me(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Me(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[ee]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ee]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,n]}],"min-w":[{"min-w":[fe,n,"min","max","fit"]}],"max-w":[{"max-w":[fe,n,"none","full","min","max","fit","prose",{screen:[In]},In]}],h:[{h:[fe,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,n,"auto","min","max","fit"]}],"font-size":[{text:["base",In,Tn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",No]}],"font-family":[{font:[ni]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",gr,No]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",on,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",on,Tn]}],"underline-offset":[{"underline-offset":["auto",on,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ne(),Hg]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zg]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Bg]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...xe(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:xe()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...xe()]}],"outline-offset":[{"outline-offset":[on,fe]}],"outline-w":[{outline:[on,Tn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[on,Tn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",In,Vg]}],"shadow-color":[{shadow:[ni]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[...Oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Oe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",In,fe]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[w]}],saturate:[{saturate:[F]}],sepia:[{sepia:[Q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[F]}],"backdrop-sepia":[{"backdrop-sepia":[Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[ti,fe]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[J]}],"skew-y":[{"skew-y":[J]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[on,Tn,No]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function ot(...t){return Xg(Pl(t))}function Zg(t,n={}){const{decimals:r=0,sizeType:s="normal"}=n,a=["Bytes","KB","MB","GB","TB"],c=["Bytes","KiB","MiB","GiB","TiB"];if(t===0)return"0 Byte";const u=Math.floor(Math.log(t)/Math.log(1024));return`${(t/Math.pow(1024,u)).toFixed(r)} ${s==="accurate"?c[u]??"Bytest":a[u]??"Bytes"}`}const Bl=vg("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Fe=k.forwardRef(({className:t,variant:n,size:r,asChild:s=!1,...a},c)=>{const u=s?pr:"button";return v.jsx(u,{className:ot(Bl({variant:n,size:r,className:t})),ref:c,...a})});Fe.displayName="Button";function jo(t,[n,r]){return Math.min(r,Math.max(n,t))}function We(t,n,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t?.(a),r===!1||!a.defaultPrevented)return n?.(a)}}function ri(t,n=[]){let r=[];function s(c,u){const d=k.createContext(u),h=r.length;r=[...r,u];const g=w=>{const{scope:T,children:x,...A}=w,M=T?.[t]?.[h]||d,R=k.useMemo(()=>A,Object.values(A));return v.jsx(M.Provider,{value:R,children:x})};g.displayName=c+"Provider";function y(w,T){const x=T?.[t]?.[h]||d,A=k.useContext(x);if(A)return A;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${c}\``)}return[g,y]}const a=()=>{const c=r.map(u=>k.createContext(u));return function(d){const h=d?.[t]||c;return k.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return a.scopeName=t,[s,Kg(a,...n)]}function Kg(...t){const n=t[0];if(t.length===1)return n;const r=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const u=s.reduce((d,{useScope:h,scopeName:g})=>{const w=h(c)[`__scope${g}`];return{...d,...w}},{});return k.useMemo(()=>({[`__scope${n.scopeName}`]:u}),[u])}};return r.scopeName=n.scopeName,r}function Kt(t){const n=k.useRef(t);return k.useEffect(()=>{n.current=t}),k.useMemo(()=>(...r)=>n.current?.(...r),[])}function Fo({prop:t,defaultProp:n,onChange:r=()=>{}}){const[s,a]=qg({defaultProp:n,onChange:r}),c=t!==void 0,u=c?t:s,d=Kt(r),h=k.useCallback(g=>{if(c){const w=typeof g=="function"?g(t):g;w!==t&&d(w)}else a(g)},[c,t,a,d]);return[u,h]}function qg({defaultProp:t,onChange:n}){const r=k.useState(t),[s]=r,a=k.useRef(s),c=Kt(n);return k.useEffect(()=>{a.current!==s&&(c(s),a.current=s)},[s,a,c]),r}var Jg=k.createContext(void 0);function is(t){const n=k.useContext(Jg);return t||n||"ltr"}function Qg(t){const n=k.useRef({value:t,previous:t});return k.useMemo(()=>(n.current.value!==t&&(n.current.previous=n.current.value,n.current.value=t),n.current.previous),[t])}var ii=globalThis?.document?k.useLayoutEffect:()=>{};function e0(t){const[n,r]=k.useState(void 0);return ii(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let u,d;if("borderBoxSize"in c){const h=c.borderBoxSize,g=Array.isArray(h)?h[0]:h;u=g.inlineSize,d=g.blockSize}else u=t.offsetWidth,d=t.offsetHeight;r({width:u,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),n}var t0=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ut=t0.reduce((t,n)=>{const r=k.forwardRef((s,a)=>{const{asChild:c,...u}=s,d=c?pr:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(d,{...u,ref:a})});return r.displayName=`Primitive.${n}`,{...t,[n]:r}},{});function Vl(t){const n=t+"CollectionProvider",[r,s]=ri(n),[a,c]=r(n,{collectionRef:{current:null},itemMap:new Map}),u=x=>{const{scope:A,children:M}=x,R=$.useRef(null),D=$.useRef(new Map).current;return v.jsx(a,{scope:A,itemMap:D,collectionRef:R,children:M})};u.displayName=n;const d=t+"CollectionSlot",h=$.forwardRef((x,A)=>{const{scope:M,children:R}=x,D=c(d,M),P=lt(A,D.collectionRef);return v.jsx(pr,{ref:P,children:R})});h.displayName=d;const g=t+"CollectionItemSlot",y="data-radix-collection-item",w=$.forwardRef((x,A)=>{const{scope:M,children:R,...D}=x,P=$.useRef(null),F=lt(A,P),z=c(g,M);return $.useEffect(()=>(z.itemMap.set(P,{ref:P,...D}),()=>void z.itemMap.delete(P))),v.jsx(pr,{[y]:"",ref:F,children:R})});w.displayName=g;function T(x){const A=c(t+"CollectionConsumer",x);return $.useCallback(()=>{const R=A.collectionRef.current;if(!R)return[];const D=Array.from(R.querySelectorAll(`[${y}]`));return Array.from(A.itemMap.values()).sort((z,Q)=>D.indexOf(z.ref.current)-D.indexOf(Q.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:u,Slot:h,ItemSlot:w},T,s]}var $l=["PageUp","PageDown"],Gl=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yl={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},vr="Slider",[Uo,n0,r0]=Vl(vr),[Xl,V7]=ri(vr,[r0]),[i0,ss]=Xl(vr),Zl=k.forwardRef((t,n)=>{const{name:r,min:s=0,max:a=100,step:c=1,orientation:u="horizontal",disabled:d=!1,minStepsBetweenThumbs:h=0,defaultValue:g=[s],value:y,onValueChange:w=()=>{},onValueCommit:T=()=>{},inverted:x=!1,form:A,...M}=t,R=k.useRef(new Set),D=k.useRef(0),F=u==="horizontal"?s0:o0,[z=[],Q]=Fo({prop:y,defaultProp:g,onChange:oe=>{[...R.current][D.current]?.focus(),w(oe)}}),J=k.useRef(z);function ee(oe){const X=d0(z,oe);ie(oe,X)}function q(oe){ie(oe,D.current)}function Z(){const oe=J.current[D.current];z[D.current]!==oe&&T(z)}function ie(oe,X,{commit:de}={commit:!1}){const Te=g0(c),Ne=m0(Math.round((oe-s)/c)*c+s,Te),xe=jo(Ne,[s,a]);Q((Oe=[])=>{const Me=l0(Oe,xe,X);if(p0(Me,h*c)){D.current=Me.indexOf(xe);const Ze=String(Me)!==String(Oe);return Ze&&de&&T(Me),Ze?Me:Oe}else return Oe})}return v.jsx(i0,{scope:t.__scopeSlider,name:r,disabled:d,min:s,max:a,valueIndexToChangeRef:D,thumbs:R.current,values:z,orientation:u,form:A,children:v.jsx(Uo.Provider,{scope:t.__scopeSlider,children:v.jsx(Uo.Slot,{scope:t.__scopeSlider,children:v.jsx(F,{"aria-disabled":d,"data-disabled":d?"":void 0,...M,ref:n,onPointerDown:We(M.onPointerDown,()=>{d||(J.current=z)}),min:s,max:a,inverted:x,onSlideStart:d?void 0:ee,onSlideMove:d?void 0:q,onSlideEnd:d?void 0:Z,onHomeKeyDown:()=>!d&&ie(s,0,{commit:!0}),onEndKeyDown:()=>!d&&ie(a,z.length-1,{commit:!0}),onStepKeyDown:({event:oe,direction:X})=>{if(!d){const Ne=$l.includes(oe.key)||oe.shiftKey&&Gl.includes(oe.key)?10:1,xe=D.current,Oe=z[xe],Me=c*Ne*X;ie(Oe+Me,xe,{commit:!0})}}})})})})});Zl.displayName=vr;var[Kl,ql]=Xl(vr,{startEdge:"left",endEdge:"right",size:"width",direction:1}),s0=k.forwardRef((t,n)=>{const{min:r,max:s,dir:a,inverted:c,onSlideStart:u,onSlideMove:d,onSlideEnd:h,onStepKeyDown:g,...y}=t,[w,T]=k.useState(null),x=lt(n,F=>T(F)),A=k.useRef(void 0),M=is(a),R=M==="ltr",D=R&&!c||!R&&c;function P(F){const z=A.current||w.getBoundingClientRect(),Q=[0,z.width],ee=Wo(Q,D?[r,s]:[s,r]);return A.current=z,ee(F-z.left)}return v.jsx(Kl,{scope:t.__scopeSlider,startEdge:D?"left":"right",endEdge:D?"right":"left",direction:D?1:-1,size:"width",children:v.jsx(Jl,{dir:M,"data-orientation":"horizontal",...y,ref:x,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:F=>{const z=P(F.clientX);u?.(z)},onSlideMove:F=>{const z=P(F.clientX);d?.(z)},onSlideEnd:()=>{A.current=void 0,h?.()},onStepKeyDown:F=>{const Q=Yl[D?"from-left":"from-right"].includes(F.key);g?.({event:F,direction:Q?-1:1})}})})}),o0=k.forwardRef((t,n)=>{const{min:r,max:s,inverted:a,onSlideStart:c,onSlideMove:u,onSlideEnd:d,onStepKeyDown:h,...g}=t,y=k.useRef(null),w=lt(n,y),T=k.useRef(void 0),x=!a;function A(M){const R=T.current||y.current.getBoundingClientRect(),D=[0,R.height],F=Wo(D,x?[s,r]:[r,s]);return T.current=R,F(M-R.top)}return v.jsx(Kl,{scope:t.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:v.jsx(Jl,{"data-orientation":"vertical",...g,ref:w,style:{...g.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:M=>{const R=A(M.clientY);c?.(R)},onSlideMove:M=>{const R=A(M.clientY);u?.(R)},onSlideEnd:()=>{T.current=void 0,d?.()},onStepKeyDown:M=>{const D=Yl[x?"from-bottom":"from-top"].includes(M.key);h?.({event:M,direction:D?-1:1})}})})}),Jl=k.forwardRef((t,n)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:a,onSlideEnd:c,onHomeKeyDown:u,onEndKeyDown:d,onStepKeyDown:h,...g}=t,y=ss(vr,r);return v.jsx(ut.span,{...g,ref:n,onKeyDown:We(t.onKeyDown,w=>{w.key==="Home"?(u(w),w.preventDefault()):w.key==="End"?(d(w),w.preventDefault()):$l.concat(Gl).includes(w.key)&&(h(w),w.preventDefault())}),onPointerDown:We(t.onPointerDown,w=>{const T=w.target;T.setPointerCapture(w.pointerId),w.preventDefault(),y.thumbs.has(T)?T.focus():s(w)}),onPointerMove:We(t.onPointerMove,w=>{w.target.hasPointerCapture(w.pointerId)&&a(w)}),onPointerUp:We(t.onPointerUp,w=>{const T=w.target;T.hasPointerCapture(w.pointerId)&&(T.releasePointerCapture(w.pointerId),c(w))})})}),Ql="SliderTrack",eu=k.forwardRef((t,n)=>{const{__scopeSlider:r,...s}=t,a=ss(Ql,r);return v.jsx(ut.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:n})});eu.displayName=Ql;var zo="SliderRange",tu=k.forwardRef((t,n)=>{const{__scopeSlider:r,...s}=t,a=ss(zo,r),c=ql(zo,r),u=k.useRef(null),d=lt(n,u),h=a.values.length,g=a.values.map(T=>ru(T,a.min,a.max)),y=h>1?Math.min(...g):0,w=100-Math.max(...g);return v.jsx(ut.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:d,style:{...t.style,[c.startEdge]:y+"%",[c.endEdge]:w+"%"}})});tu.displayName=zo;var Ho="SliderThumb",nu=k.forwardRef((t,n)=>{const r=n0(t.__scopeSlider),[s,a]=k.useState(null),c=lt(n,d=>a(d)),u=k.useMemo(()=>s?r().findIndex(d=>d.ref.current===s):-1,[r,s]);return v.jsx(a0,{...t,ref:c,index:u})}),a0=k.forwardRef((t,n)=>{const{__scopeSlider:r,index:s,name:a,...c}=t,u=ss(Ho,r),d=ql(Ho,r),[h,g]=k.useState(null),y=lt(n,P=>g(P)),w=h?u.form||!!h.closest("form"):!0,T=e0(h),x=u.values[s],A=x===void 0?0:ru(x,u.min,u.max),M=u0(s,u.values.length),R=T?.[d.size],D=R?f0(R,A,d.direction):0;return k.useEffect(()=>{if(h)return u.thumbs.add(h),()=>{u.thumbs.delete(h)}},[h,u.thumbs]),v.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${A}% + ${D}px)`},children:[v.jsx(Uo.ItemSlot,{scope:t.__scopeSlider,children:v.jsx(ut.span,{role:"slider","aria-label":t["aria-label"]||M,"aria-valuemin":u.min,"aria-valuenow":x,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...c,ref:y,style:x===void 0?{display:"none"}:t.style,onFocus:We(t.onFocus,()=>{u.valueIndexToChangeRef.current=s})})}),w&&v.jsx(c0,{name:a??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:x},s)]})});nu.displayName=Ho;var c0=t=>{const{value:n,...r}=t,s=k.useRef(null),a=Qg(n);return k.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==n&&h){const g=new Event("input",{bubbles:!0});h.call(c,n),c.dispatchEvent(g)}},[a,n]),v.jsx("input",{style:{display:"none"},...r,ref:s,defaultValue:n})};function l0(t=[],n,r){const s=[...t];return s[r]=n,s.sort((a,c)=>a-c)}function ru(t,n,r){const c=100/(r-n)*(t-n);return jo(c,[0,100])}function u0(t,n){return n>2?`Value ${t+1} of ${n}`:n===2?["Minimum","Maximum"][t]:void 0}function d0(t,n){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-n)),s=Math.min(...r);return r.indexOf(s)}function f0(t,n,r){const s=t/2,c=Wo([0,50],[0,s]);return(s-c(n)*r)*r}function h0(t){return t.slice(0,-1).map((n,r)=>t[r+1]-n)}function p0(t,n){if(n>0){const r=h0(t);return Math.min(...r)>=n}return!0}function Wo(t,n){return r=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const s=(n[1]-n[0])/(t[1]-t[0]);return n[0]+s*(r-t[0])}}function g0(t){return(String(t).split(".")[1]||"").length}function m0(t,n){const r=Math.pow(10,n);return Math.round(t*r)/r}var iu=Zl,v0=eu,y0=tu,b0=nu;const su=k.forwardRef(({className:t,...n},r)=>v.jsxs(iu,{ref:r,className:ot("relative flex w-full touch-none select-none items-center",t),...n,children:[v.jsx(v0,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:v.jsx(y0,{className:"absolute h-full bg-primary"})}),v.jsx(b0,{className:"block h-4 w-4 cursor-pointer rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));su.displayName=iu.displayName;function _0(t,n){return k.useReducer((r,s)=>n[r][s]??r,t)}var yr=t=>{const{present:n,children:r}=t,s=w0(n),a=typeof r=="function"?r({present:s.isPresent}):k.Children.only(r),c=lt(s.ref,S0(a));return typeof r=="function"||s.isPresent?k.cloneElement(a,{ref:c}):null};yr.displayName="Presence";function w0(t){const[n,r]=k.useState(),s=k.useRef({}),a=k.useRef(t),c=k.useRef("none"),u=t?"mounted":"unmounted",[d,h]=_0(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const g=os(s.current);c.current=d==="mounted"?g:"none"},[d]),ii(()=>{const g=s.current,y=a.current;if(y!==t){const T=c.current,x=os(g);t?h("MOUNT"):x==="none"||g?.display==="none"?h("UNMOUNT"):h(y&&T!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,h]),ii(()=>{if(n){let g;const y=n.ownerDocument.defaultView??window,w=x=>{const M=os(s.current).includes(x.animationName);if(x.target===n&&M&&(h("ANIMATION_END"),!a.current)){const R=n.style.animationFillMode;n.style.animationFillMode="forwards",g=y.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=R)})}},T=x=>{x.target===n&&(c.current=os(s.current))};return n.addEventListener("animationstart",T),n.addEventListener("animationcancel",w),n.addEventListener("animationend",w),()=>{y.clearTimeout(g),n.removeEventListener("animationstart",T),n.removeEventListener("animationcancel",w),n.removeEventListener("animationend",w)}}else h("ANIMATION_END")},[n,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:k.useCallback(g=>{g&&(s.current=getComputedStyle(g)),r(g)},[])}}function os(t){return t?.animationName||"none"}function S0(t){let n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?t.ref:(n=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function T0(t,n){return k.useReducer((r,s)=>n[r][s]??r,t)}var Bo="ScrollArea",[ou,$7]=ri(Bo),[I0,Rt]=ou(Bo),au=k.forwardRef((t,n)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:c=600,...u}=t,[d,h]=k.useState(null),[g,y]=k.useState(null),[w,T]=k.useState(null),[x,A]=k.useState(null),[M,R]=k.useState(null),[D,P]=k.useState(0),[F,z]=k.useState(0),[Q,J]=k.useState(!1),[ee,q]=k.useState(!1),Z=lt(n,oe=>h(oe)),ie=is(a);return v.jsx(I0,{scope:r,type:s,dir:ie,scrollHideDelay:c,scrollArea:d,viewport:g,onViewportChange:y,content:w,onContentChange:T,scrollbarX:x,onScrollbarXChange:A,scrollbarXEnabled:Q,onScrollbarXEnabledChange:J,scrollbarY:M,onScrollbarYChange:R,scrollbarYEnabled:ee,onScrollbarYEnabledChange:q,onCornerWidthChange:P,onCornerHeightChange:z,children:v.jsx(ut.div,{dir:ie,...u,ref:Z,style:{position:"relative","--radix-scroll-area-corner-width":D+"px","--radix-scroll-area-corner-height":F+"px",...t.style}})})});au.displayName=Bo;var cu="ScrollAreaViewport",lu=k.forwardRef((t,n)=>{const{__scopeScrollArea:r,children:s,nonce:a,...c}=t,u=Rt(cu,r),d=k.useRef(null),h=lt(n,d,u.onViewportChange);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),v.jsx(ut.div,{"data-radix-scroll-area-viewport":"",...c,ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:v.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});lu.displayName=cu;var qt="ScrollAreaScrollbar",as=k.forwardRef((t,n)=>{const{forceMount:r,...s}=t,a=Rt(qt,t.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:u}=a,d=t.orientation==="horizontal";return k.useEffect(()=>(d?c(!0):u(!0),()=>{d?c(!1):u(!1)}),[d,c,u]),a.type==="hover"?v.jsx(E0,{...s,ref:n,forceMount:r}):a.type==="scroll"?v.jsx(x0,{...s,ref:n,forceMount:r}):a.type==="auto"?v.jsx(uu,{...s,ref:n,forceMount:r}):a.type==="always"?v.jsx(Vo,{...s,ref:n}):null});as.displayName=qt;var E0=k.forwardRef((t,n)=>{const{forceMount:r,...s}=t,a=Rt(qt,t.__scopeScrollArea),[c,u]=k.useState(!1);return k.useEffect(()=>{const d=a.scrollArea;let h=0;if(d){const g=()=>{window.clearTimeout(h),u(!0)},y=()=>{h=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return d.addEventListener("pointerenter",g),d.addEventListener("pointerleave",y),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",g),d.removeEventListener("pointerleave",y)}}},[a.scrollArea,a.scrollHideDelay]),v.jsx(yr,{present:r||c,children:v.jsx(uu,{"data-state":c?"visible":"hidden",...s,ref:n})})}),x0=k.forwardRef((t,n)=>{const{forceMount:r,...s}=t,a=Rt(qt,t.__scopeScrollArea),c=t.orientation==="horizontal",u=ds(()=>h("SCROLL_END"),100),[d,h]=T0("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return k.useEffect(()=>{if(d==="idle"){const g=window.setTimeout(()=>h("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(g)}},[d,a.scrollHideDelay,h]),k.useEffect(()=>{const g=a.viewport,y=c?"scrollLeft":"scrollTop";if(g){let w=g[y];const T=()=>{const x=g[y];w!==x&&(h("SCROLL"),u()),w=x};return g.addEventListener("scroll",T),()=>g.removeEventListener("scroll",T)}},[a.viewport,c,h,u]),v.jsx(yr,{present:r||d!=="hidden",children:v.jsx(Vo,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:n,onPointerEnter:We(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:We(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),uu=k.forwardRef((t,n)=>{const r=Rt(qt,t.__scopeScrollArea),{forceMount:s,...a}=t,[c,u]=k.useState(!1),d=t.orientation==="horizontal",h=ds(()=>{if(r.viewport){const g=r.viewport.offsetWidth<r.viewport.scrollWidth,y=r.viewport.offsetHeight<r.viewport.scrollHeight;u(d?g:y)}},10);return br(r.viewport,h),br(r.content,h),v.jsx(yr,{present:s||c,children:v.jsx(Vo,{"data-state":c?"visible":"hidden",...a,ref:n})})}),Vo=k.forwardRef((t,n)=>{const{orientation:r="vertical",...s}=t,a=Rt(qt,t.__scopeScrollArea),c=k.useRef(null),u=k.useRef(0),[d,h]=k.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),g=pu(d.viewport,d.content),y={...s,sizes:d,onSizesChange:h,hasThumb:g>0&&g<1,onThumbChange:T=>c.current=T,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:T=>u.current=T};function w(T,x){return O0(T,u.current,d,x)}return r==="horizontal"?v.jsx(C0,{...y,ref:n,onThumbPositionChange:()=>{if(a.viewport&&c.current){const T=a.viewport.scrollLeft,x=gu(T,d,a.dir);c.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:T=>{a.viewport&&(a.viewport.scrollLeft=T)},onDragScroll:T=>{a.viewport&&(a.viewport.scrollLeft=w(T,a.dir))}}):r==="vertical"?v.jsx(k0,{...y,ref:n,onThumbPositionChange:()=>{if(a.viewport&&c.current){const T=a.viewport.scrollTop,x=gu(T,d);c.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:T=>{a.viewport&&(a.viewport.scrollTop=T)},onDragScroll:T=>{a.viewport&&(a.viewport.scrollTop=w(T))}}):null}),C0=k.forwardRef((t,n)=>{const{sizes:r,onSizesChange:s,...a}=t,c=Rt(qt,t.__scopeScrollArea),[u,d]=k.useState(),h=k.useRef(null),g=lt(n,h,c.onScrollbarXChange);return k.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),v.jsx(fu,{"data-orientation":"horizontal",...a,ref:g,sizes:r,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":us(r)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.x),onDragScroll:y=>t.onDragScroll(y.x),onWheelScroll:(y,w)=>{if(c.viewport){const T=c.viewport.scrollLeft+y.deltaX;t.onWheelScroll(T),vu(T,w)&&y.preventDefault()}},onResize:()=>{h.current&&c.viewport&&u&&s({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:ls(u.paddingLeft),paddingEnd:ls(u.paddingRight)}})}})}),k0=k.forwardRef((t,n)=>{const{sizes:r,onSizesChange:s,...a}=t,c=Rt(qt,t.__scopeScrollArea),[u,d]=k.useState(),h=k.useRef(null),g=lt(n,h,c.onScrollbarYChange);return k.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),v.jsx(fu,{"data-orientation":"vertical",...a,ref:g,sizes:r,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":us(r)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.y),onDragScroll:y=>t.onDragScroll(y.y),onWheelScroll:(y,w)=>{if(c.viewport){const T=c.viewport.scrollTop+y.deltaY;t.onWheelScroll(T),vu(T,w)&&y.preventDefault()}},onResize:()=>{h.current&&c.viewport&&u&&s({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:ls(u.paddingTop),paddingEnd:ls(u.paddingBottom)}})}})}),[A0,du]=ou(qt),fu=k.forwardRef((t,n)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:g,onWheelScroll:y,onResize:w,...T}=t,x=Rt(qt,r),[A,M]=k.useState(null),R=lt(n,Z=>M(Z)),D=k.useRef(null),P=k.useRef(""),F=x.viewport,z=s.content-s.viewport,Q=Kt(y),J=Kt(h),ee=ds(w,10);function q(Z){if(D.current){const ie=Z.clientX-D.current.left,oe=Z.clientY-D.current.top;g({x:ie,y:oe})}}return k.useEffect(()=>{const Z=ie=>{const oe=ie.target;A?.contains(oe)&&Q(ie,z)};return document.addEventListener("wheel",Z,{passive:!1}),()=>document.removeEventListener("wheel",Z,{passive:!1})},[F,A,z,Q]),k.useEffect(J,[s,J]),br(A,ee),br(x.content,ee),v.jsx(A0,{scope:r,scrollbar:A,hasThumb:a,onThumbChange:Kt(c),onThumbPointerUp:Kt(u),onThumbPositionChange:J,onThumbPointerDown:Kt(d),children:v.jsx(ut.div,{...T,ref:R,style:{position:"absolute",...T.style},onPointerDown:We(t.onPointerDown,Z=>{Z.button===0&&(Z.target.setPointerCapture(Z.pointerId),D.current=A.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),q(Z))}),onPointerMove:We(t.onPointerMove,q),onPointerUp:We(t.onPointerUp,Z=>{const ie=Z.target;ie.hasPointerCapture(Z.pointerId)&&ie.releasePointerCapture(Z.pointerId),document.body.style.webkitUserSelect=P.current,x.viewport&&(x.viewport.style.scrollBehavior=""),D.current=null})})})}),cs="ScrollAreaThumb",$o=k.forwardRef((t,n)=>{const{forceMount:r,...s}=t,a=du(cs,t.__scopeScrollArea);return v.jsx(yr,{present:r||a.hasThumb,children:v.jsx(R0,{ref:n,...s})})}),R0=k.forwardRef((t,n)=>{const{__scopeScrollArea:r,style:s,...a}=t,c=Rt(cs,r),u=du(cs,r),{onThumbPositionChange:d}=u,h=lt(n,w=>u.onThumbChange(w)),g=k.useRef(void 0),y=ds(()=>{g.current&&(g.current(),g.current=void 0)},100);return k.useEffect(()=>{const w=c.viewport;if(w){const T=()=>{if(y(),!g.current){const x=P0(w,d);g.current=x,d()}};return d(),w.addEventListener("scroll",T),()=>w.removeEventListener("scroll",T)}},[c.viewport,y,d]),v.jsx(ut.div,{"data-state":u.hasThumb?"visible":"hidden",...a,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:We(t.onPointerDownCapture,w=>{const x=w.target.getBoundingClientRect(),A=w.clientX-x.left,M=w.clientY-x.top;u.onThumbPointerDown({x:A,y:M})}),onPointerUp:We(t.onPointerUp,u.onThumbPointerUp)})});$o.displayName=cs;var Go="ScrollAreaCorner",hu=k.forwardRef((t,n)=>{const r=Rt(Go,t.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?v.jsx(M0,{...t,ref:n}):null});hu.displayName=Go;var M0=k.forwardRef((t,n)=>{const{__scopeScrollArea:r,...s}=t,a=Rt(Go,r),[c,u]=k.useState(0),[d,h]=k.useState(0),g=!!(c&&d);return br(a.scrollbarX,()=>{const y=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(y),h(y)}),br(a.scrollbarY,()=>{const y=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(y),u(y)}),g?v.jsx(ut.div,{...s,ref:n,style:{width:c,height:d,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ls(t){return t?parseInt(t,10):0}function pu(t,n){const r=t/n;return isNaN(r)?0:r}function us(t){const n=pu(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-r)*n;return Math.max(s,18)}function O0(t,n,r,s="ltr"){const a=us(r),c=a/2,u=n||c,d=a-u,h=r.scrollbar.paddingStart+u,g=r.scrollbar.size-r.scrollbar.paddingEnd-d,y=r.content-r.viewport,w=s==="ltr"?[0,y]:[y*-1,0];return mu([h,g],w)(t)}function gu(t,n,r="ltr"){const s=us(n),a=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,c=n.scrollbar.size-a,u=n.content-n.viewport,d=c-s,h=r==="ltr"?[0,u]:[u*-1,0],g=jo(t,h);return mu([0,u],[0,d])(g)}function mu(t,n){return r=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const s=(n[1]-n[0])/(t[1]-t[0]);return n[0]+s*(r-t[0])}}function vu(t,n){return t>0&&t<n}var P0=(t,n=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},s=0;return function a(){const c={left:t.scrollLeft,top:t.scrollTop},u=r.left!==c.left,d=r.top!==c.top;(u||d)&&n(),r=c,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function ds(t,n){const r=Kt(t),s=k.useRef(0);return k.useEffect(()=>()=>window.clearTimeout(s.current),[]),k.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,n)},[r,n])}function br(t,n){const r=Kt(n);ii(()=>{let s=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(s),a.unobserve(t)}}},[t,r])}var fs=au,Yo=lu,yu=as,bu=$o,D0=hu;const Bn=k.forwardRef(({className:t,children:n,...r},s)=>v.jsxs(fs,{ref:s,className:ot("relative overflow-hidden",t),...r,children:[v.jsx(Yo,{className:"h-full w-full rounded-[inherit]",children:n}),v.jsx(Xo,{}),v.jsx(D0,{})]}));Bn.displayName=fs.displayName;const Xo=k.forwardRef(({className:t,orientation:n="vertical",...r},s)=>v.jsx(as,{ref:s,orientation:n,className:ot("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:v.jsx($o,{className:"relative flex-1 rounded-full bg-border"})}));Xo.displayName=as.displayName;const si=({children:t,renderCustomPreview:n,data:r={},shouldDisplayPreview:s=!0})=>{const[a,c]=$.useState(!1),[u,d]=$.useState({x:0,y:0}),h=$.useRef(null),g=x=>{c(!0),x.dataTransfer.setDragImage(new Image,0,0),x.dataTransfer.setData(JSON.stringify(r),JSON.stringify(r)),d({x:x.clientX,y:x.clientY})},y=()=>{c(!1)},w=x=>{a&&d({x:x.clientX,y:x.clientY})},T=$.cloneElement(t,{draggable:!0,onDragStart:g,onDragEnd:y,onDrag:w,style:{...t.props.style}});return v.jsxs(v.Fragment,{children:[T,a&&s&&n?og.createPortal(v.jsx("div",{ref:h,style:{position:"fixed",left:u.x,top:u.y,pointerEvents:"none",zIndex:9999,transform:"translate(-50%, -50%)"},children:n}),document.body):null]})};var L0=k.useId||(()=>{}),N0=0;function _u(t){const[n,r]=k.useState(L0());return ii(()=>{r(s=>s??String(N0++))},[t]),n?`radix-${n}`:""}var Zo="rovingFocusGroup.onEntryFocus",j0={bubbles:!1,cancelable:!0},hs="RovingFocusGroup",[Ko,wu,F0]=Vl(hs),[U0,Su]=ri(hs,[F0]),[z0,H0]=U0(hs),Tu=k.forwardRef((t,n)=>v.jsx(Ko.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(Ko.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(W0,{...t,ref:n})})}));Tu.displayName=hs;var W0=k.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:a=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:g,preventScrollOnEntryFocus:y=!1,...w}=t,T=k.useRef(null),x=lt(n,T),A=is(c),[M=null,R]=Fo({prop:u,defaultProp:d,onChange:h}),[D,P]=k.useState(!1),F=Kt(g),z=wu(r),Q=k.useRef(!1),[J,ee]=k.useState(0);return k.useEffect(()=>{const q=T.current;if(q)return q.addEventListener(Zo,F),()=>q.removeEventListener(Zo,F)},[F]),v.jsx(z0,{scope:r,orientation:s,dir:A,loop:a,currentTabStopId:M,onItemFocus:k.useCallback(q=>R(q),[R]),onItemShiftTab:k.useCallback(()=>P(!0),[]),onFocusableItemAdd:k.useCallback(()=>ee(q=>q+1),[]),onFocusableItemRemove:k.useCallback(()=>ee(q=>q-1),[]),children:v.jsx(ut.div,{tabIndex:D||J===0?-1:0,"data-orientation":s,...w,ref:x,style:{outline:"none",...t.style},onMouseDown:We(t.onMouseDown,()=>{Q.current=!0}),onFocus:We(t.onFocus,q=>{const Z=!Q.current;if(q.target===q.currentTarget&&Z&&!D){const ie=new CustomEvent(Zo,j0);if(q.currentTarget.dispatchEvent(ie),!ie.defaultPrevented){const oe=z().filter(xe=>xe.focusable),X=oe.find(xe=>xe.active),de=oe.find(xe=>xe.id===M),Ne=[X,de,...oe].filter(Boolean).map(xe=>xe.ref.current);xu(Ne,y)}}Q.current=!1}),onBlur:We(t.onBlur,()=>P(!1))})})}),Iu="RovingFocusGroupItem",Eu=k.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:c,...u}=t,d=_u(),h=c||d,g=H0(Iu,r),y=g.currentTabStopId===h,w=wu(r),{onFocusableItemAdd:T,onFocusableItemRemove:x}=g;return k.useEffect(()=>{if(s)return T(),()=>x()},[s,T,x]),v.jsx(Ko.ItemSlot,{scope:r,id:h,focusable:s,active:a,children:v.jsx(ut.span,{tabIndex:y?0:-1,"data-orientation":g.orientation,...u,ref:n,onMouseDown:We(t.onMouseDown,A=>{s?g.onItemFocus(h):A.preventDefault()}),onFocus:We(t.onFocus,()=>g.onItemFocus(h)),onKeyDown:We(t.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){g.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const M=$0(A,g.orientation,g.dir);if(M!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let D=w().filter(P=>P.focusable).map(P=>P.ref.current);if(M==="last")D.reverse();else if(M==="prev"||M==="next"){M==="prev"&&D.reverse();const P=D.indexOf(A.currentTarget);D=g.loop?G0(D,P+1):D.slice(P+1)}setTimeout(()=>xu(D))}})})})});Eu.displayName=Iu;var B0={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function V0(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function $0(t,n,r){const s=V0(t.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return B0[s]}function xu(t,n=!1){const r=document.activeElement;for(const s of t)if(s===r||(s.focus({preventScroll:n}),document.activeElement!==r))return}function G0(t,n){return t.map((r,s)=>t[(n+s)%t.length])}var Y0=Tu,X0=Eu,qo="Tabs",[Z0,G7]=ri(qo,[Su]),Cu=Su(),[K0,Jo]=Z0(qo),ku=k.forwardRef((t,n)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:c,orientation:u="horizontal",dir:d,activationMode:h="automatic",...g}=t,y=is(d),[w,T]=Fo({prop:s,onChange:a,defaultProp:c});return v.jsx(K0,{scope:r,baseId:_u(),value:w,onValueChange:T,orientation:u,dir:y,activationMode:h,children:v.jsx(ut.div,{dir:y,"data-orientation":u,...g,ref:n})})});ku.displayName=qo;var Au="TabsList",Ru=k.forwardRef((t,n)=>{const{__scopeTabs:r,loop:s=!0,...a}=t,c=Jo(Au,r),u=Cu(r);return v.jsx(Y0,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:s,children:v.jsx(ut.div,{role:"tablist","aria-orientation":c.orientation,...a,ref:n})})});Ru.displayName=Au;var Mu="TabsTrigger",Ou=k.forwardRef((t,n)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...c}=t,u=Jo(Mu,r),d=Cu(r),h=Lu(u.baseId,s),g=Nu(u.baseId,s),y=s===u.value;return v.jsx(X0,{asChild:!0,...d,focusable:!a,active:y,children:v.jsx(ut.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":g,"data-state":y?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:h,...c,ref:n,onMouseDown:We(t.onMouseDown,w=>{!a&&w.button===0&&w.ctrlKey===!1?u.onValueChange(s):w.preventDefault()}),onKeyDown:We(t.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&u.onValueChange(s)}),onFocus:We(t.onFocus,()=>{const w=u.activationMode!=="manual";!y&&!a&&w&&u.onValueChange(s)})})})});Ou.displayName=Mu;var Pu="TabsContent",Du=k.forwardRef((t,n)=>{const{__scopeTabs:r,value:s,forceMount:a,children:c,...u}=t,d=Jo(Pu,r),h=Lu(d.baseId,s),g=Nu(d.baseId,s),y=s===d.value,w=k.useRef(y);return k.useEffect(()=>{const T=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(T)},[]),v.jsx(yr,{present:a||y,children:({present:T})=>v.jsx(ut.div,{"data-state":y?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!T,id:g,tabIndex:0,...u,ref:n,style:{...t.style,animationDuration:w.current?"0s":void 0},children:T&&c})})});Du.displayName=Pu;function Lu(t,n){return`${t}-trigger-${n}`}function Nu(t,n){return`${t}-content-${n}`}var q0=ku,ju=Ru,Fu=Ou,Uu=Du;const zu=q0,Qo=k.forwardRef(({className:t,...n},r)=>v.jsx(ju,{ref:r,className:ot("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n}));Qo.displayName=ju.displayName;const ps=k.forwardRef(({className:t,...n},r)=>v.jsx(Fu,{ref:r,className:ot("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...n}));ps.displayName=Fu.displayName;const gs=k.forwardRef(({className:t,...n},r)=>v.jsx(Uu,{ref:r,className:ot("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n}));gs.displayName=Uu.displayName;const J0="add",Q0="track",em="trackItems",tm="track:changed",nm="trackItems:changed",rm="state",im="state:changed",Hu="add",ea="add:text",_r="add:video",wr="add:audio",sm="add:placeholder",Sr="add:image",om="add:mask",am="add:transition",cm="add:animation",lm="edit",um="edit:object",dm="edit:text",fm="edit:shape",hm="enterEditMode",Wu="player",ta="player:play",na="player:pause",Bu="player:seek",pm="player:seekTo",Vu="player:seekBy",$u="player:togglePlay",Gu="active",gm="active:set",ra="active:delete",mm="active:paste",ia="active:clone",sa="active:split",Yu="layer",vm="layer:locked",ym="layer:hidden",bm="layer:move",_m="layer:select",oa="layer:selection",wm="layer:sendTo",Sm="layer:rename",Tm="layer:editingName",Im="layer:copy",Em="layer:paste",xm="layer:clone",Cm="layer:split",km="layer:cut",Am="layer:delete",Xu="history",aa="history:undo",ca="history:redo",Rm="history:reset",Zu="scale",la="scale:changed",Ku="drag",ua="drag:start",oi="drag:end",qu="timeline",da="timeline:boundingChanged";var fa=function(t,n){return fa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},fa(t,n)};function Tr(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");fa(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function ha(t){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&t[n],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function pa(t,n){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),a,c=[],u;try{for(;(n===void 0||n-- >0)&&!(a=s.next()).done;)c.push(a.value)}catch(d){u={error:d}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(u)throw u.error}}return c}function ga(t,n,r){if(r||arguments.length===2)for(var s=0,a=n.length,c;s<a;s++)(c||!(s in n))&&(c||(c=Array.prototype.slice.call(n,0,s)),c[s]=n[s]);return t.concat(c||Array.prototype.slice.call(n))}typeof SuppressedError=="function"&&SuppressedError;function Jt(t){return typeof t=="function"}function Ju(t){var n=function(s){Error.call(s),s.stack=new Error().stack},r=t(n);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var ma=Ju(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(s,a){return a+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function va(t,n){if(t){var r=t.indexOf(n);0<=r&&t.splice(r,1)}}var ms=function(){function t(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var n,r,s,a,c;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var d=ha(u),h=d.next();!h.done;h=d.next()){var g=h.value;g.remove(this)}}catch(M){n={error:M}}finally{try{h&&!h.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}else u.remove(this);var y=this.initialTeardown;if(Jt(y))try{y()}catch(M){c=M instanceof ma?M.errors:[M]}var w=this._finalizers;if(w){this._finalizers=null;try{for(var T=ha(w),x=T.next();!x.done;x=T.next()){var A=x.value;try{td(A)}catch(M){c=c??[],M instanceof ma?c=ga(ga([],pa(c)),pa(M.errors)):c.push(M)}}}catch(M){s={error:M}}finally{try{x&&!x.done&&(a=T.return)&&a.call(T)}finally{if(s)throw s.error}}}if(c)throw new ma(c)}},t.prototype.add=function(n){var r;if(n&&n!==this)if(this.closed)td(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(n)}},t.prototype._hasParent=function(n){var r=this._parentage;return r===n||Array.isArray(r)&&r.includes(n)},t.prototype._addParent=function(n){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(n),r):r?[r,n]:n},t.prototype._removeParent=function(n){var r=this._parentage;r===n?this._parentage=null:Array.isArray(r)&&va(r,n)},t.prototype.remove=function(n){var r=this._finalizers;r&&va(r,n),n instanceof t&&n._removeParent(this)},t.EMPTY=function(){var n=new t;return n.closed=!0,n}(),t}(),Qu=ms.EMPTY;function ed(t){return t instanceof ms||t&&"closed"in t&&Jt(t.remove)&&Jt(t.add)&&Jt(t.unsubscribe)}function td(t){Jt(t)?t():t.unsubscribe()}var Mm={Promise:void 0},Om={setTimeout:function(t,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return setTimeout.apply(void 0,ga([t,n],pa(r)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function Pm(t){Om.setTimeout(function(){throw t})}function nd(){}function vs(t){t()}var ya=function(t){Tr(n,t);function n(r){var s=t.call(this)||this;return s.isStopped=!1,r?(s.destination=r,ed(r)&&r.add(s)):s.destination=Nm,s}return n.create=function(r,s,a){return new ba(r,s,a)},n.prototype.next=function(r){this.isStopped||this._next(r)},n.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(r){this.destination.next(r)},n.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(ms),Dm=function(){function t(n){this.partialObserver=n}return t.prototype.next=function(n){var r=this.partialObserver;if(r.next)try{r.next(n)}catch(s){ys(s)}},t.prototype.error=function(n){var r=this.partialObserver;if(r.error)try{r.error(n)}catch(s){ys(s)}else ys(n)},t.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(r){ys(r)}},t}(),ba=function(t){Tr(n,t);function n(r,s,a){var c=t.call(this)||this,u;return Jt(r)||!r?u={next:r??void 0,error:s??void 0,complete:a??void 0}:u=r,c.destination=new Dm(u),c}return n}(ya);function ys(t){Pm(t)}function Lm(t){throw t}var Nm={closed:!0,next:nd,error:Lm,complete:nd},jm=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Fm(t){return t}function Um(t){return t.length===0?Fm:t.length===1?t[0]:function(r){return t.reduce(function(s,a){return a(s)},r)}}var rd=function(){function t(n){n&&(this._subscribe=n)}return t.prototype.lift=function(n){var r=new t;return r.source=this,r.operator=n,r},t.prototype.subscribe=function(n,r,s){var a=this,c=Hm(n)?n:new ba(n,r,s);return vs(function(){var u=a,d=u.operator,h=u.source;c.add(d?d.call(c,h):h?a._subscribe(c):a._trySubscribe(c))}),c},t.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(r){n.error(r)}},t.prototype.forEach=function(n,r){var s=this;return r=id(r),new r(function(a,c){var u=new ba({next:function(d){try{n(d)}catch(h){c(h),u.unsubscribe()}},error:c,complete:a});s.subscribe(u)})},t.prototype._subscribe=function(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)},t.prototype[jm]=function(){return this},t.prototype.pipe=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Um(n)(this)},t.prototype.toPromise=function(n){var r=this;return n=id(n),new n(function(s,a){var c;r.subscribe(function(u){return c=u},function(u){return a(u)},function(){return s(c)})})},t.create=function(n){return new t(n)},t}();function id(t){var n;return(n=t??Mm.Promise)!==null&&n!==void 0?n:Promise}function zm(t){return t&&Jt(t.next)&&Jt(t.error)&&Jt(t.complete)}function Hm(t){return t&&t instanceof ya||zm(t)&&ed(t)}function Wm(t){return Jt(t?.lift)}function Bm(t){return function(n){if(Wm(n))return n.lift(function(r){try{return t(r,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function Vm(t,n,r,s,a){return new $m(t,n,r,s,a)}var $m=function(t){Tr(n,t);function n(r,s,a,c,u,d){var h=t.call(this,r)||this;return h.onFinalize=u,h.shouldUnsubscribe=d,h._next=s?function(g){try{s(g)}catch(y){r.error(y)}}:t.prototype._next,h._error=c?function(g){try{c(g)}catch(y){r.error(y)}finally{this.unsubscribe()}}:t.prototype._error,h._complete=a?function(){try{a()}catch(g){r.error(g)}finally{this.unsubscribe()}}:t.prototype._complete,h}return n.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var s=this.closed;t.prototype.unsubscribe.call(this),!s&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},n}(ya),Gm=Ju(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),_a=function(t){Tr(n,t);function n(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return n.prototype.lift=function(r){var s=new sd(this,this);return s.operator=r,s},n.prototype._throwIfClosed=function(){if(this.closed)throw new Gm},n.prototype.next=function(r){var s=this;vs(function(){var a,c;if(s._throwIfClosed(),!s.isStopped){s.currentObservers||(s.currentObservers=Array.from(s.observers));try{for(var u=ha(s.currentObservers),d=u.next();!d.done;d=u.next()){var h=d.value;h.next(r)}}catch(g){a={error:g}}finally{try{d&&!d.done&&(c=u.return)&&c.call(u)}finally{if(a)throw a.error}}}})},n.prototype.error=function(r){var s=this;vs(function(){if(s._throwIfClosed(),!s.isStopped){s.hasError=s.isStopped=!0,s.thrownError=r;for(var a=s.observers;a.length;)a.shift().error(r)}})},n.prototype.complete=function(){var r=this;vs(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var s=r.observers;s.length;)s.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},n.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},n.prototype._innerSubscribe=function(r){var s=this,a=this,c=a.hasError,u=a.isStopped,d=a.observers;return c||u?Qu:(this.currentObservers=null,d.push(r),new ms(function(){s.currentObservers=null,va(d,r)}))},n.prototype._checkFinalizedStatuses=function(r){var s=this,a=s.hasError,c=s.thrownError,u=s.isStopped;a?r.error(c):u&&r.complete()},n.prototype.asObservable=function(){var r=new rd;return r.source=this,r},n.create=function(r,s){return new sd(r,s)},n}(rd),sd=function(t){Tr(n,t);function n(r,s){var a=t.call(this)||this;return a.destination=r,a.source=s,a}return n.prototype.next=function(r){var s,a;(a=(s=this.destination)===null||s===void 0?void 0:s.next)===null||a===void 0||a.call(s,r)},n.prototype.error=function(r){var s,a;(a=(s=this.destination)===null||s===void 0?void 0:s.error)===null||a===void 0||a.call(s,r)},n.prototype.complete=function(){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||s===void 0||s.call(r)},n.prototype._subscribe=function(r){var s,a;return(a=(s=this.source)===null||s===void 0?void 0:s.subscribe(r))!==null&&a!==void 0?a:Qu},n}(_a),od=function(t){Tr(n,t);function n(r){var s=t.call(this)||this;return s._value=r,s}return Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(r){var s=t.prototype._subscribe.call(this,r);return!s.closed&&r.next(this._value),s},n.prototype.getValue=function(){var r=this,s=r.hasError,a=r.thrownError,c=r._value;if(s)throw a;return this._throwIfClosed(),c},n.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},n}(_a);function an(t,n){return Bm(function(r,s){var a=0;r.subscribe(Vm(s,function(c){return t.call(n,c,a++)&&s.next(c)}))})}const ad=new _a,ve={subject:ad,dispatch:(t,n)=>{ad.next({key:t,value:n})}},nt=[];for(let t=0;t<256;++t)nt.push((t+256).toString(16).slice(1));function Ym(t,n=0){return(nt[t[n+0]]+nt[t[n+1]]+nt[t[n+2]]+nt[t[n+3]]+"-"+nt[t[n+4]]+nt[t[n+5]]+"-"+nt[t[n+6]]+nt[t[n+7]]+"-"+nt[t[n+8]]+nt[t[n+9]]+"-"+nt[t[n+10]]+nt[t[n+11]]+nt[t[n+12]]+nt[t[n+13]]+nt[t[n+14]]+nt[t[n+15]]).toLowerCase()}let wa;const Xm=new Uint8Array(16);function Zm(){if(!wa){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");wa=crypto.getRandomValues.bind(crypto)}return wa(Xm)}const cd={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Ke(t,n,r){if(cd.randomUUID&&!t)return cd.randomUUID();t=t||{};const s=t.random??t.rng?.()??Zm();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,Ym(s)}var ld=(t=>(t.IMAGE="image",t.VIDEO="video",t.AUDIO="audio",t))(ld||{});const Km=t=>{const[n,r]=$.useState(!1),[s,a]=$.useState(!1),c=$.useCallback(y=>{const w={...y,id:Ke()};switch(y.type){case"image":ve.dispatch(Sr,{payload:w});break;case"video":ve.dispatch(_r,{payload:w});break;case"audio":ve.dispatch(wr,{payload:w});break}},[]),u=$.useCallback(y=>{y.preventDefault();try{const w=y.dataTransfer?.types[0],T=JSON.parse(w);if(!Object.values(ld).includes(T.type))return;a(!0),r(!0),t?.(!0)}catch(w){console.error("Error parsing dragged data:",w)}},[t]),d=$.useCallback(y=>{y.preventDefault(),n&&(a(!0),t?.(!0))},[n,t]),h=$.useCallback(y=>{if(s){y.preventDefault(),a(!1),t?.(!1);try{const w=y.dataTransfer?.types[0],T=JSON.parse(y.dataTransfer.getData(w));c(T)}catch(w){console.error("Error parsing dropped data:",w)}}},[s,t,c]),g=$.useCallback(y=>{y.preventDefault(),y.currentTarget.contains(y.relatedTarget)||(a(!1),r(!1),t?.(!1))},[t]);return{onDragEnter:u,onDragOver:d,onDrop:h,onDragLeave:g,isDraggingOver:s}},ud=({children:t,className:n,style:r,onDragStateChange:s,id:a})=>{const{onDragEnter:c,onDragOver:u,onDrop:d,onDragLeave:h}=Km(s);return v.jsx("div",{id:a,onDragEnter:c,onDrop:d,onDragOver:u,onDragLeave:h,className:n,style:r,role:"region","aria-label":"Droppable area for images, videos, and audio",children:t})},qm=({size:t,children:n})=>{const[r,s]=$.useState(!1);return v.jsxs(ud,{id:"artboard",onDragStateChange:s,style:{width:t.width,height:t.height},className:"designcombo_scene pointer-events-auto mt-3.5 bg-black",children:[v.jsx("div",{style:{width:t.width,height:t.height},className:`pointer-events-none absolute z-50 mt-3.5 transition-colors duration-200 ease-in-out ${r?"border-4 border-dashed border-white bg-white/[0.075]":"bg-transparent"} shadow-[0_0_0_5000px_#1D1D1F]`}),n]})},Jm=100,Qm=30,ev=18,tv=14,nv=30,rv=24,iv=16,dd=12,sv="Regular",fd="sans-serif",ai=188,bs=40,ov=4e3,hd=1920,pd=1080,gd=60,md=1e3/gd,av=2e6,cv=1e7,lv=48e3,uv=192e3,Sa=2.3,dv=hd/Sa,fv=pd/Sa,hv=184,pv=348,gv=512,mv=300,vv=0,yv=5e3,bv=1,_v=0,wv=0,Sv=0,Tv=359,Iv=1,Ev=0,xv=!1,Cv=!1,kv=0,Av=2,Rv=.01,Mv=1,Ov=0,Pv=3,Dv=.01,Lv=1,Nv=0,jv=1,Fv=.01,Uv=.5,zv=-1e3,Hv=1e3,Wv=1,Bv=1,Vv=0,$v=1,Gv=.01,Yv=1,Xv=0,Zv=1,Kv=.01,qv=0,Jv=.5,Qv=10,e2=.01,t2=1,n2=0,r2=1,i2=.01,s2=1,_s=16,Ta=80;function vd(t){if(!t)return"0";const n=t/ai,r=Math.trunc(n)%60,s=Math.trunc(n/60)%60,a=Math.trunc(n/3600)%60,u=[Math.trunc(n/216e3).toString(),a.toString(),s.toString(),r.toString()];return n<60?`${u[3].padStart(2,"0")}f`:n<3600?`${u[2].padStart(1,"0")}s`:n<216e3?`${u[1].padStart(2,"0")}:${u[2].padStart(2,"0")}`:`${u[0].padStart(2,"0")}:${u[1].padStart(2,"0")}:${u[2].padStart(2,"0")}`}function o2(t,n=!1){if(!t)return"00:00";const s=1e3/60;if(t<1e3)return n?`${Math.floor(t/s)}f`:`${(t/1e3).toFixed(1)}s`;const a=Math.floor(t/1e3);if(a<60)return`${a}s`;const c=Math.floor(a/60);if(c<60){const g=a%60;return`${c.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`}const u=Math.floor(c/60),d=c%60,h=a%60;return`${u.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`}function ci(t,n){return t.map(r=>({...r,items:r.items.filter(s=>!n.includes(s))}))}const yd=({frame:t},{fps:n})=>{const r=t/n,s=Math.floor(r/3600),a=r%3600,c=Math.floor(a/60),u=Math.floor(a%60),d=Math.floor((a-Math.floor(a))*100);return s>0?`${s}:${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`:`${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`},bd=({time:t})=>{const n=t/1e3,r=Math.floor(n/3600),s=n%3600,a=Math.floor(s/60),c=Math.floor(s%60),u=Math.floor((s-Math.floor(s))*100);return r>0?`${r}:${a.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`:`${a.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`},_d=()=>{const t=document.getElementById("video-current-time");return(t?parseFloat(t.getAttribute("data-current-time")??""):0)*1e3},Wt=[{index:0,unit:18e3,zoom:1/18e3,segments:5},{index:1,unit:10800,zoom:1/10800,segments:3},{index:2,unit:7200,zoom:1/7200,segments:2},{index:3,unit:3600,zoom:1/3600,segments:1},{index:4,unit:1800,zoom:1/1800,segments:2},{index:5,unit:900,zoom:1/900,segments:3},{index:6,unit:600,zoom:1/600,segments:2},{index:7,unit:300,zoom:1/300,segments:5},{index:8,unit:180,zoom:1/180,segments:3},{index:9,unit:120,zoom:1/120,segments:10},{index:10,unit:60,zoom:1/60,segments:5},{index:11,unit:60,zoom:1/60,segments:5},{index:12,unit:30,zoom:1/30,segments:2},{index:13,unit:15,zoom:1/15,segments:3},{index:14,unit:10,zoom:1/10,segments:2},{index:15,unit:5,zoom:1/5,segments:5},{index:16,unit:3,zoom:1/3,segments:3},{index:17,unit:2,zoom:1/2,segments:5},{index:18,unit:1,zoom:1,segments:5},{index:19,unit:1,zoom:2,segments:5},{index:20,unit:1,zoom:4,segments:10}];function Ia(t,n){let r=-1,s=t.length-1;for(;1+r<s;){const a=r+(s-r>>1);n(t[a],a,t)?s=a:r=a}return s}function a2(t,n=1){const r=()=>{const h=Math.max(0,bs),y=document.getElementById("designcombo-timeline-canvas")?.offsetWidth??document.body.offsetWidth;return Math.max(1,y-h)},s=()=>typeof t=="number"?Ge(t,n):xd(t,n),a=r()/s(),c=n*a;return{segments:5,index:Ia(Wt,d=>d.zoom>c),zoom:c,unit:1/c}}function c2(t){return Wt[t]}function wd(t){return Sd(t)||Wt[0]}const Sd=t=>{const n=Wt.filter(s=>s.zoom<t.zoom);return n.length===0?null:n.reduce((s,a)=>a.zoom>s.zoom?a:s)},Td=t=>{const n=Wt.filter(s=>s.zoom>t.zoom);return n.length===0?null:n.reduce((s,a)=>a.zoom<s.zoom?a:s)};function Id(t){return Td(t)||Wt[Wt.length-1]}function l2(t){const n=Wt.at(-1),r=t===n,a=Ed(t)-(r?1:2);return Math.max(0,a)}function Ed(t){const n=Ia(Wt,r=>r.zoom>t.zoom);return Math.min(Wt.length-1,n)}function Ge(t,n=1,r=1){const s=ai*n;return t*(60/1e3)*s/r}function Mt(t,n=1){const r=ai*n;return t/r*md}function xd(t,n=1){return Ge(t,n)}const u2=Math.floor(Math.random()*1e3)+1;function Ea(t,n=1){const r=[],s=Math.floor(n),a=(c,u)=>{for(const d of c)Array.isArray(d)&&u<s?a(d,u+1):r.push(d)};return a(t,0),r}function xa(t,n){const r=n.sort((a,c)=>a.tempIndex-c.tempIndex),s=[];for(const a of r)a.tempIndex<0&&s.push(a);s.push(t);for(const a of r)a.tempIndex>=0&&s.push(a);return s}const Ca={id:"font_UwdNKSyVq2iiMiuHSRRsUIOu",family:"Roboto",fullName:"Roboto Bold",postScriptName:"Roboto-Bold",preview:"https://ik.imagekit.io/lh/fonts/v2/5zQgS86djScKA0ri67BBCqW7.png",style:"Roboto-Bold",url:"https://fonts.gstatic.com/s/roboto/v29/KFOlCnqEu92Fr1MmWUlvAx05IsDqlA.ttf",category:"sans-serif",createdAt:"2023-06-20T04:42:55.909Z",updatedAt:"2023-06-20T04:42:55.909Z",userId:null},Cd=t=>{const n=t.map(r=>new FontFace(r.fontFamily,`url(${r.fontUrl})`).load());return n.length===0?Promise.resolve(!0):new Promise((r,s)=>{Promise.all(n).then(a=>{a.forEach(c=>{c instanceof FontFace&&c.family&&(document.fonts.add(c),r(!0))})}).catch(a=>{s(a)})})},Qt=Cl.create(t=>({timeline:null,size:{width:1080,height:1920},duration:5e3,fps:30,scale:{index:7,unit:300,zoom:1/300,segments:5},scroll:{left:0,top:0},playerRef:null,activeIds:[],targetIds:[],tracks:[],trackItemIds:[],transitionIds:[],transitionsMap:{},trackItemDetailsMap:{},trackItemsMap:{},setTimeline:n=>{t(()=>({timeline:n}))},setScale:n=>{t(()=>({scale:n}))},setScroll:n=>{t(()=>({scroll:n}))},setState:async n=>{t({...n})},setPlayerRef:n=>{t({playerRef:n})}}));/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kd=(...t)=>t.filter((n,r,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===r).join(" ").trim();/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=$.forwardRef(({color:t="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:u,...d},h)=>$.createElement("svg",{ref:h,...f2,width:n,height:n,stroke:t,strokeWidth:s?Number(r)*24/Number(n):r,className:kd("lucide",a),...d},[...u.map(([g,y])=>$.createElement(g,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(t,n)=>{const r=$.forwardRef(({className:s,...a},c)=>$.createElement(h2,{ref:c,iconNode:n,className:kd(`lucide-${d2(t)}`,s),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=se("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("FolderClosed",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M2 10h20",key:"1ir3d8"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("LayoutPanelLeft",[["rect",{width:"7",height:"18",x:"3",y:"3",rx:"1",key:"2obqm"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("MessagesSquare",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=se("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=se("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("RectangleHorizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("RectangleVertical",[["rect",{width:"12",height:"20",x:"6",y:"2",rx:"2",key:"1oxtiu"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=se("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=se("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=se("SquareSplitHorizontal",[["path",{d:"M8 19H5c-1 0-2-1-2-2V7c0-1 1-2 2-2h3",key:"lubmu8"}],["path",{d:"M16 5h3c1 0 2 1 2 2v10c0 1-1 2-2 2h-3",key:"1ag34g"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=se("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=se("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=se("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=se("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=se("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ws=t=>{const n=$.useCallback(s=>{if(!t?.current)return()=>{};const a=()=>{s()};return t.current.addEventListener("frameupdate",a),()=>{t.current&&t.current.removeEventListener("frameupdate",a)}},[t]);return $.useSyncExternalStore(n,()=>t?.current?.getCurrentFrame()??0,()=>0)},li=()=>{const[t,n]=$.useState(!1);return $.useEffect(()=>{const s=ve.subject.pipe(an(({key:a})=>a.startsWith(Ku))).subscribe(a=>{a.key===ua?n(!0):a.key===oi&&n(!1)});return()=>s.unsubscribe()},[]),t},Od=()=>{const[t,n]=$.useState(!1),{duration:r,fps:s,scale:a,playerRef:c,activeIds:u}=Qt(),d=ws(c),h=()=>{ve.dispatch(ra)},g=()=>{ve.dispatch(sa,{payload:{},options:{time:_d()}})},y=x=>{ve.dispatch(la,{payload:{scale:x}})},w=()=>{ve.dispatch(ta)},T=()=>{ve.dispatch(na)};return $.useEffect(()=>(c?.current?.addEventListener("play",()=>{n(!0)}),c?.current?.addEventListener("pause",()=>{n(!1)}),()=>{c?.current?.removeEventListener("play",()=>{n(!0)}),c?.current?.removeEventListener("pause",()=>{n(!1)})}),[c]),v.jsx("div",{style:{position:"relative",height:"50px",boxShadow:"inset 0 1px 0 0 #27272a",flex:"none"},className:"bg-background",children:v.jsx("div",{style:{position:"absolute",height:50,width:"100%",display:"flex",alignItems:"center"},children:v.jsxs("div",{style:{height:36,width:"100%",display:"grid",gridTemplateColumns:"1fr 260px 1fr",alignItems:"center"},children:[v.jsxs("div",{className:"flex px-2",children:[v.jsxs(Fe,{disabled:!u.length,onClick:h,variant:"ghost",size:"sm",className:"flex items-center gap-1 px-2",children:[v.jsx(_2,{size:14})," Delete"]}),v.jsxs(Fe,{disabled:!u.length,onClick:g,variant:"ghost",size:"sm",className:"flex items-center gap-1 px-2",children:[v.jsx(Rd,{size:15})," Split"]}),v.jsxs(Fe,{disabled:!u.length,onClick:()=>{ve.dispatch(ia)},variant:"ghost",size:"sm",className:"flex items-center gap-1 px-2",children:[v.jsx(Rd,{size:15})," Clone"]})]}),v.jsxs("div",{className:"flex items-center justify-center",children:[v.jsxs("div",{children:[v.jsx(Fe,{onClick:h,variant:"ghost",size:"icon",children:v.jsx(y2,{size:14})}),v.jsx(Fe,{onClick:()=>{if(t)return T();w()},variant:"ghost",size:"icon",children:t?v.jsx(m2,{size:14}):v.jsx(v2,{size:14})}),v.jsx(Fe,{onClick:g,variant:"ghost",size:"icon",children:v.jsx(b2,{size:14})})]}),v.jsxs("div",{className:"text-xs font-light",style:{display:"grid",alignItems:"center",gridTemplateColumns:"54px 4px 54px",paddingTop:"2px",justifyContent:"center"},children:[v.jsx("div",{className:"font-medium text-zinc-200",style:{display:"flex",justifyContent:"center"},"data-current-time":d/s,id:"video-current-time",children:yd({frame:d},{fps:s})}),v.jsx("span",{children:"/"}),v.jsx("div",{className:"text-muted-foreground",style:{display:"flex",justifyContent:"center"},children:bd({time:r})})]})]}),v.jsx(x2,{scale:a,onChangeTimelineScale:y,duration:r})]})})})},x2=({scale:t,onChangeTimelineScale:n,duration:r})=>{const s=()=>{const c=wd(t);n(c)},a=()=>{const c=Id(t);n(c)};return v.jsx("div",{className:"flex items-center justify-end",children:v.jsxs("div",{className:"flex border-l border-border pl-4 pr-2",children:[v.jsx(Fe,{size:"icon",variant:"ghost",onClick:s,disabled:t.index===0,children:v.jsx(E2,{size:16})}),v.jsx(Fe,{size:"icon",variant:"ghost",onClick:a,disabled:t.index===20,children:v.jsx(I2,{size:16})})]})})},Pd=[{id:"111",details:{src:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/generated/voiceover/2025/2/20/18\\KhDhy5qKkppcfCMWV9md5w.mpeg",text:"Voiceover"},name:"Super",type:"audio",metadata:{author:"Adilet"},display:{from:0}},{id:"222",details:{src:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/generated/voiceover/2025/2/20/18\\SQCTWQnVjRBzbUjCMyZd32.mpeg",text:"Voiceover"},name:"Super",type:"audio",metadata:{author:"Adilet2"},display:{from:0}},{id:"1",details:{src:"https://cdn.designcombo.dev/audio/Dawn%20of%20change.mp3",text:"Voiceover"},name:"Dawn of change",type:"audio",metadata:{author:"Roman Senyk"},display:{from:3e3}},{id:"2",details:{src:"https://cdn.designcombo.dev/audio/Hope.mp3"},name:"Hope",type:"audio",metadata:{author:"Hugo Dujardin"}},{id:"3",details:{src:"https://cdn.designcombo.dev/audio/Tenderness.mp3"},name:"Tenderness",type:"audio",metadata:{author:"Benjamin Tissot"}},{id:"4",details:{src:"https://cdn.designcombo.dev/audio/Piano%20Moment.mp3"},name:"Piano moment",type:"audio",metadata:{author:"Benjamin Tissot"}}],Dd=[{id:"1",details:{src:"https://ik.imagekit.io/wombo/images/img1.jpg"},preview:"https://ik.imagekit.io/wombo/images/img1.jpg?tr=w-190",type:"image"},{id:"2",details:{src:"https://ik.imagekit.io/wombo/images/img2.jpg"},preview:"https://ik.imagekit.io/wombo/images/img2.jpg?tr=w-190",type:"image"},{id:"3",details:{src:"https://ik.imagekit.io/wombo/images/img3.jpg"},preview:"https://ik.imagekit.io/wombo/images/img3.jpg?tr=w-190",type:"image"},{id:"4",details:{src:"https://ik.imagekit.io/wombo/images/img4.jpg"},preview:"https://ik.imagekit.io/wombo/images/img4.jpg?tr=w-190",type:"image"},{id:"5",details:{src:"https://ik.imagekit.io/wombo/images/img5.jpg"},preview:"https://ik.imagekit.io/wombo/images/img5.jpg?tr=w-190",type:"image"},,{id:"6",details:{src:"https://ik.imagekit.io/wombo/images/img6.jpg"},preview:"https://ik.imagekit.io/wombo/images/img6.jpg?tr=w-190",type:"image"},{id:"7",details:{src:"https://ik.imagekit.io/wombo/images/img7.jpg"},preview:"https://ik.imagekit.io/wombo/images/img7.jpg?tr=w-190",type:"image"}],Ld=[{id:"11",details:{src:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/generated/video/2025/2/20/19\\fdcKLDioCK6fNMFSaV9no9.mp4",text:"Video"},type:"video",preview:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/uploaded/image/2025/2/20/19\\MjU9BA9oBAcasKPWW89oAq.webp",display:{from:0}},{id:"22",details:{src:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/generated/video/2025/2/20/19\\NarjF5LQKZ3RE8cg5BAEZa.mp4",text:"Video"},type:"video",preview:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/uploaded/image/2025/2/20/19\\br3G6fanEMrVZCXAmYpWdL.webp",display:{from:0}},{id:"33",details:{src:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/generated/video/2025/2/20/19\\LUB9JnQSSeVJdzRrq8PnAr.mp4",text:"Video"},type:"video",preview:"https://superduper-acdagaa3e2h7chh0.z02.azurefd.net/uploaded/image/2025/2/20/19\\N8SF2nTVffFxn8fwA7VZZM.webp",display:{from:0}},{id:"1",details:{src:"https://cdn.designcombo.dev/videos/demo-video-1.mp4",text:"Scene"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-1.png",duration:17e3,display:{from:3e3}},{id:"2",details:{src:"https://cdn.designcombo.dev/videos/demo-video-2.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-2.png"},{id:"3",details:{src:"https://cdn.designcombo.dev/videos/demo-video-3.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-3.png",duration:2e4},{id:"4",details:{src:"https://cdn.designcombo.dev/videos/demo-video-4.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-4.png",duration:2e4},{id:"5",details:{src:"https://cdn.designcombo.dev/videos/demo-video-5.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-5.png",duration:23e3},{id:"6",details:{src:"https://cdn.designcombo.dev/videos/demo-video-6.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-6.png",duration:1e4},{id:"7",details:{src:"https://cdn.designcombo.dev/videos/demo-video-7.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-7.png",duration:12e3},{id:"8",details:{src:"https://cdn.designcombo.dev/videos/demo-video-8.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-8.png",duration:15e3},{id:"9",details:{src:"https://cdn.designcombo.dev/videos/demo-video-9.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-9.png",duration:15e3},{id:"10",details:{src:"https://cdn.designcombo.dev/videos/demo-video-10.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-10.png",duration:5e3},{id:"11",details:{src:"https://cdn.designcombo.dev/videos/demo-video-11.mp4"},type:"video",preview:"https://cdn.designcombo.dev/thumbnails/demo-video-s-11.png",duration:5e3}],Nd=[{id:"1",kind:"none",duration:0,preview:"https://ik.imagekit.io/wombo/transitions-v2/transition-none.png",type:"transition"},{id:"2",kind:"fade",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/fade.webp",type:"transition"},{id:"3",kind:"slide",name:"slide up",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/slide-up.webp",type:"transition",direction:"from-bottom"},{id:"4",kind:"slide",name:"slide down",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/slide-down.webp",type:"transition",direction:"from-top"},{id:"5",kind:"slide",name:"slide left",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/slide-left.webp",type:"transition",direction:"from-right"},{id:"6",kind:"slide",name:"slide right",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/slide-right.webp",type:"transition",direction:"from-left"},{id:"7",kind:"wipe",name:"wipe up",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/wipe-up.webp",type:"transition",direction:"from-bottom"},{id:"8",kind:"wipe",name:"wipe down",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/wipe-down.webp",type:"transition",direction:"from-top"},{id:"9",kind:"wipe",name:"wipe left",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/wipe-left.webp",type:"transition",direction:"from-right"},{id:"10",kind:"wipe",name:"wipe right",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/wipe-right.webp",type:"transition",direction:"from-left"},{id:"11",kind:"flip",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/flip.webp",type:"transition"},{id:"12",kind:"clockWipe",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/clock-wipe.webp",type:"transition"},{id:"13",kind:"star",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/star.webp",type:"transition"},{id:"14",kind:"circle",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/circle.webp",type:"transition"},{id:"15",kind:"rectangle",duration:.5,preview:"https://ik.imagekit.io/wombo/transitions-v2/rectangle.webp",type:"transition"}],C2=[{id:"1",src:"https://ik.imagekit.io/snapmotion/upload-video-1.mp4",type:"video"},{id:"2",src:"https://ik.imagekit.io/snapmotion/upload-video-2.mp4",type:"video"},{id:"3",src:"https://ik.imagekit.io/snapmotion/upload-video-3.mp4",type:"video"}],k2=()=>{const t=li();return v.jsxs("div",{className:"flex flex-1 flex-col overflow-auto",children:[v.jsx("div",{className:"text-text-primary flex h-12 flex-none items-center px-4 text-sm font-medium",children:"Transitions"}),v.jsx(Bn,{children:v.jsx("div",{className:"grid grid-cols-3 gap-2 px-4",children:Nd.map((n,r)=>v.jsx(A2,{transition:n,shouldDisplayPreview:!t},r))})})]})},A2=({transition:t,shouldDisplayPreview:n})=>{const r=$.useMemo(()=>({backgroundImage:`url(${t.preview})`,backgroundSize:"cover",width:"70px",height:"70px"}),[t.preview]);return v.jsx(si,{data:t,renderCustomPreview:v.jsx("div",{style:r}),shouldDisplayPreview:n,children:v.jsxs("div",{children:[v.jsx("div",{children:v.jsx("div",{style:r,draggable:!1})}),v.jsx("div",{className:"flex h-6 items-center overflow-ellipsis text-nowrap text-[12px] capitalize text-muted-foreground",children:t.name||t.type})]})})},R2=()=>{const t=()=>{ve.dispatch(ea,{payload:{id:Ke(),display:{from:0,to:5e3},details:{text:"Heading and some body",fontSize:120,width:600,fontUrl:Ca.url,fontFamily:Ca.postScriptName,color:"#ffffff",wordWrap:"break-word",textAlign:"center",borderWidth:0,borderColor:"#000000",boxShadow:{color:"#ffffff",x:0,y:0,blur:0}}},options:{}})};return v.jsxs("div",{className:"flex flex-1 flex-col",children:[v.jsx("div",{className:"text-text-primary flex h-12 flex-none items-center px-4 text-sm font-medium",children:"Text"}),v.jsx("div",{className:"flex flex-col gap-2 px-4",children:v.jsx(Fe,{draggable:!1,onClick:t,variant:"secondary",className:"w-full",children:"Add text"})})]})},M2=()=>{const t=$.useRef(null),n=s=>{r(s)},r=async s=>{const a=s[0].type;a.includes("audio")&&ve.dispatch(wr,{payload:{id:Ke(),details:{src:URL.createObjectURL(s[0]),volume:50}}}),a.includes("video")&&ve.dispatch(_r,{payload:{id:Ke(),display:{from:2e3,to:7e3},details:{src:URL.createObjectURL(s[0]),name:s[0].name}}}),a.includes("image")&&ve.dispatch(Sr,{payload:{id:Ke(),details:{src:URL.createObjectURL(s[0])}}})};return v.jsxs("div",{className:"flex flex-1 flex-col",children:[v.jsx("div",{className:"text-text-primary flex h-12 flex-none items-center px-4 text-sm font-medium",children:"Your media"}),v.jsx("input",{ref:t,id:"file-upload-handle",type:"file",accept:"audio/*,video/*,image/*",onChange:s=>n(Array.from(s.target.files||[])),className:"hidden"}),v.jsx("div",{className:"px-4 py-2",children:v.jsx("div",{children:v.jsxs(zu,{defaultValue:"projects",className:"w-full",children:[v.jsxs(Qo,{className:"grid w-full grid-cols-2",children:[v.jsx(ps,{value:"projects",children:"Project"}),v.jsx(ps,{value:"workspace",children:"Workspace"})]}),v.jsxs(gs,{value:"projects",children:[v.jsxs(Fe,{onClick:()=>{t.current?.click()},className:"flex w-full gap-2",variant:"secondary",children:[v.jsx(Md,{size:16})," Upload"]}),v.jsx("div",{})]}),v.jsx(gs,{value:"workspace",children:v.jsxs(Fe,{onClick:()=>{t.current?.click()},className:"flex w-full gap-2",variant:"secondary",children:[v.jsx(Md,{size:16})," Upload"]})})]})})}),v.jsx(Bn,{children:v.jsx("div",{className:"masonry-sm px-4"})})]})},O2=()=>{const t=li(),n=r=>{ve.dispatch(wr,{payload:r,options:{}})};return v.jsxs("div",{className:"flex flex-1 flex-col",children:[v.jsx("div",{className:"text-text-primary flex h-12 flex-none items-center px-4 text-sm font-medium",children:"Audios"}),v.jsx(Bn,{children:v.jsx("div",{className:"flex flex-col px-2",children:Pd.map((r,s)=>v.jsx(P2,{shouldDisplayPreview:!t,handleAddAudio:n,audio:r},s))})})]})},P2=({handleAddAudio:t,audio:n,shouldDisplayPreview:r})=>{const s=$.useMemo(()=>({backgroundImage:"url(https://cdn.designcombo.dev/thumbnails/music-preview.png)",backgroundSize:"cover",width:"70px",height:"70px"}),[]);return v.jsx(si,{data:n,renderCustomPreview:v.jsx("div",{style:s}),shouldDisplayPreview:r,children:v.jsxs("div",{draggable:!1,onClick:()=>t(n),style:{display:"grid",gridTemplateColumns:"48px 1fr"},className:"flex cursor-pointer gap-4 px-2 py-1 text-sm hover:bg-zinc-800/70",children:[v.jsx("div",{className:"flex h-12 items-center justify-center bg-zinc-800",children:v.jsx(Ad,{width:16})}),v.jsxs("div",{className:"flex flex-col justify-center",children:[v.jsx("div",{children:n.name}),v.jsx("div",{className:"text-zinc-400",children:n.metadata?.author})]})]})})},D2=()=>{const t=li(),n=r=>{ve.dispatch(Sr,{payload:r,options:{trackId:"main"}})};return v.jsxs("div",{className:"flex flex-1 flex-col",children:[v.jsx("div",{className:"text-text-primary flex h-12 flex-none items-center px-4 text-sm font-medium",children:"Photos"}),v.jsx(Bn,{children:v.jsx("div",{className:"masonry-sm px-4",children:Dd.map((r,s)=>v.jsx(L2,{image:r,shouldDisplayPreview:!t,handleAddImage:n},s))})})]})},L2=({handleAddImage:t,image:n,shouldDisplayPreview:r})=>{const s=$.useMemo(()=>({backgroundImage:`url(${n.preview})`,backgroundSize:"cover",width:"80px",height:"80px"}),[n.preview]);return v.jsx(si,{data:n,renderCustomPreview:v.jsx("div",{style:s}),shouldDisplayPreview:r,children:v.jsx("div",{onClick:()=>t({id:Ke(),details:{src:n.details.src}}),className:"flex w-full items-center justify-center overflow-hidden bg-background pb-2",children:v.jsx("img",{draggable:!1,src:n.preview,className:"h-full w-full rounded-md object-cover",alt:"image"})})})},N2=()=>{const t=li(),n=r=>{ve.dispatch(_r,{payload:r,options:{resourceId:"main"}})};return v.jsxs("div",{className:"flex flex-1 flex-col",children:[v.jsx("div",{className:"text-text-primary flex h-12 flex-none items-center px-4 text-sm font-medium",children:"Videos"}),v.jsx(Bn,{children:v.jsx("div",{className:"masonry-sm px-4",children:Ld.map((r,s)=>v.jsx(j2,{video:r,shouldDisplayPreview:!t,handleAddVideo:n},s))})})]})},j2=({handleAddVideo:t,video:n,shouldDisplayPreview:r})=>{const s=$.useMemo(()=>({backgroundImage:`url(${n.preview})`,backgroundSize:"cover",width:"80px",height:"80px"}),[n.preview]);return v.jsx(si,{data:n,renderCustomPreview:v.jsx("div",{style:s,className:"draggable"}),shouldDisplayPreview:r,children:v.jsx("div",{onClick:()=>t({...n,id:Ke(),details:{src:n.details.src,...n.details}}),className:"flex w-full items-center justify-center overflow-hidden bg-background pb-2",children:v.jsx("img",{draggable:!1,src:n.preview,className:"h-full w-full rounded-md object-cover",alt:"image"})})})},Ss=Cl.create(t=>({activeMenuItem:null,showMenuItem:!1,cropTarget:null,showControlItem:!1,showToolboxItem:!1,activeToolboxItem:null,setCropTarget:n=>t({cropTarget:n}),setActiveMenuItem:n=>t({activeMenuItem:n}),setShowMenuItem:n=>t({showMenuItem:n}),setShowControlItem:n=>t({showControlItem:n}),setShowToolboxItem:n=>t({showToolboxItem:n}),setActiveToolboxItem:n=>t({activeToolboxItem:n})})),F2=({children:t})=>{const{showMenuItem:n,setShowMenuItem:r}=Ss(),s=()=>{r(!1)};return v.jsxs("div",{style:{left:n?"0":"-100%",transition:"left 0.25s ease-in-out",zIndex:200},className:"absolute top-1/2 mt-6 flex h-[calc(100%-32px-64px)] w-[340px] -translate-y-1/2 rounded-lg shadow-lg",children:[v.jsx("div",{className:"w-[74px]"}),v.jsxs("div",{className:"relative flex flex-1 bg-background/80 backdrop-blur-lg backdrop-filter",children:[v.jsx(Fe,{variant:"ghost",className:"absolute right-2 top-2 h-8 w-8 text-muted-foreground",size:"icon",children:v.jsx(T2,{width:16,onClick:s})}),t]})]})},U2=()=>{const{activeMenuItem:t}=Ss();return t==="transitions"?v.jsx(k2,{}):t==="texts"?v.jsx(R2,{}):t==="videos"?v.jsx(N2,{}):t==="audios"?v.jsx(O2,{}):t==="images"?v.jsx(D2,{}):t==="uploads"?v.jsx(M2,{}):null},jd=()=>v.jsx(F2,{children:v.jsx(U2,{})}),cn={audio:Ad,captions:p2,image:g2,redo:({...t})=>v.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2957 4.15721C13.9052 3.76669 13.9052 3.13352 14.2957 2.743C14.6862 2.35247 15.3194 2.35247 15.7099 2.743L20.953 7.98603C21.1387 8.16758 21.2539 8.42087 21.2539 8.70108C21.2539 8.70111 21.2539 8.70114 21.2539 8.70117C21.2539 8.70431 21.2539 8.70744 21.2539 8.71057C21.2518 8.93273 21.1773 9.13757 21.0528 9.30262C21.0249 9.33973 20.9942 9.37505 20.961 9.40828L15.7099 14.6593C15.3194 15.0499 14.6862 15.0499 14.2957 14.6593C13.9052 14.2688 13.9052 13.6357 14.2957 13.2451L17.8398 9.70108H9.22665C8.59943 9.70108 7.97836 9.82462 7.39888 10.0646C6.81941 10.3047 6.29289 10.6565 5.84938 11.1C5.40587 11.5435 5.05406 12.07 4.81403 12.6495C4.57401 13.229 4.45047 13.85 4.45047 14.4773C4.45047 15.1045 4.57401 15.7256 4.81403 16.305C5.05406 16.8845 5.40587 17.411 5.84938 17.8545C6.29289 18.298 6.81941 18.6498 7.39888 18.8899C7.97836 19.1299 8.59943 19.2534 9.22665 19.2534H12.9024C13.4547 19.2534 13.9024 19.7012 13.9024 20.2534C13.9024 20.8057 13.4547 21.2534 12.9024 21.2534H9.22665C8.33679 21.2534 7.45564 21.0782 6.63352 20.7376C5.81139 20.3971 5.06439 19.898 4.43517 19.2687C3.80594 18.6395 3.30681 17.8925 2.96627 17.0704C2.62574 16.2483 2.45047 15.3671 2.45047 14.4773C2.45047 13.5874 2.62574 12.7063 2.96627 11.8841C3.30681 11.062 3.80594 10.315 4.43517 9.68578C5.06439 9.05655 5.81139 8.55742 6.63352 8.21689C7.45564 7.87635 8.33679 7.70108 9.22665 7.70108H17.8396L14.2957 4.15721Z",fill:"currentColor"})}),shapes:({...t})=>v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[v.jsx("g",{clipPath:"url(#clip0_2077_2705)",children:v.jsx("path",{d:"M3.75 12H2.25V20.25C2.25 20.6478 2.40804 21.0294 2.68934 21.3107C2.97064 21.592 3.35218 21.75 3.75 21.75H9.75V20.25H3.75V12ZM21 21.75H12.75C12.6197 21.75 12.4916 21.716 12.3784 21.6514C12.2652 21.5868 12.1708 21.4938 12.1045 21.3816C12.0382 21.2694 12.0022 21.1419 12.0002 21.0116C11.9982 20.8813 12.0302 20.7527 12.093 20.6385L16.218 13.1385C16.2821 13.0203 16.377 12.9218 16.4928 12.8534C16.6085 12.7849 16.7406 12.7492 16.875 12.75C17.1322 12.75 17.3895 12.879 17.532 13.1385L21.657 20.6385C21.7198 20.7527 21.7518 20.8813 21.7498 21.0116C21.7478 21.1419 21.7118 21.2694 21.6455 21.3816C21.5792 21.4938 21.4848 21.5868 21.3716 21.6514C21.2584 21.716 21.1303 21.75 21 21.75ZM14.0182 20.25H19.7318L16.875 15.0563L14.0182 20.25ZM20.25 2.25H12V3.75H20.25V14.244H21.75V3.75C21.75 3.35218 21.592 2.97064 21.3107 2.68934C21.0294 2.40804 20.6478 2.25 20.25 2.25ZM8.25 2.25H3.75C3.35218 2.25 2.97064 2.40804 2.68934 2.68934C2.40804 2.97064 2.25 3.35218 2.25 3.75V8.25C2.25 8.64782 2.40804 9.02936 2.68934 9.31066C2.97064 9.59196 3.35218 9.75 3.75 9.75H8.25C8.64782 9.75 9.02936 9.59196 9.31066 9.31066C9.59196 9.02936 9.75 8.64782 9.75 8.25V3.75C9.75 3.35218 9.59196 2.97064 9.31066 2.68934C9.02936 2.40804 8.64782 2.25 8.25 2.25ZM8.25 8.25H3.75V3.75H8.25V8.25Z",fill:"currentColor"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:"clip0_2077_2705",children:v.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}),type:w2,undo:({...t})=>v.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:v.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.60387 4.30711C9.99439 3.91659 9.99439 3.28342 9.60387 2.8929C9.21334 2.50238 8.58018 2.50237 8.18965 2.8929L2.8925 8.19004C2.70497 8.37758 2.59961 8.63193 2.59961 8.89715C2.59961 9.16237 2.70497 9.41672 2.8925 9.60426L8.18965 14.9014C8.58018 15.2919 9.21334 15.2919 9.60387 14.9014C9.99439 14.5109 9.99439 13.8777 9.60387 13.4872L5.86478 9.7481H15.1044C15.7383 9.7481 16.366 9.87295 16.9516 10.1155C17.5372 10.3581 18.0693 10.7136 18.5176 11.1619C18.9658 11.6101 19.3213 12.1422 19.5639 12.7278C19.8065 13.3134 19.9313 13.9411 19.9313 14.575C19.9313 15.2088 19.8065 15.8365 19.5639 16.4221C19.3213 17.0077 18.9658 17.5398 18.5176 17.9881C18.0693 18.4363 17.5372 18.7918 16.9516 19.0344C16.366 19.277 15.7383 19.4018 15.1044 19.4018H11.3964C10.8442 19.4018 10.3964 19.8495 10.3964 20.4018C10.3964 20.9541 10.8442 21.4018 11.3964 21.4018H15.1044C16.001 21.4018 16.8887 21.2252 17.717 20.8822C18.5452 20.5391 19.2978 20.0362 19.9318 19.4023C20.5657 18.7683 21.0686 18.0158 21.4116 17.1875C21.7547 16.3592 21.9313 15.4715 21.9313 14.575C21.9313 13.6784 21.7547 12.7907 21.4116 11.9624C21.0686 11.1342 20.5657 10.3816 19.9318 9.74764C19.2978 9.11371 18.5452 8.61085 17.717 8.26777C16.8887 7.92469 16.001 7.7481 15.1044 7.7481H6.16287L9.60387 4.30711Z",fill:"currentColor"})}),upload:({...t})=>v.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[v.jsxs("g",{clipPath:"url(#clip0_2077_2699)",children:[v.jsx("path",{d:"M8.25 13.5L9.3075 14.5575L11.25 12.6225V21.75H12.75V12.6225L14.6925 14.5575L15.75 13.5L12 9.75L8.25 13.5Z",fill:"currentColor"}),v.jsx("path",{d:"M17.6249 16.5004H17.2499V15.0004H17.6249C18.52 15.0362 19.3927 14.715 20.0509 14.1074C20.7092 13.4997 21.0991 12.6555 21.1349 11.7604C21.1707 10.8653 20.8495 9.99264 20.2418 9.33438C19.6342 8.67613 18.79 8.28621 17.8949 8.25041H17.2499L17.1749 7.63541C17.0085 6.37275 16.3888 5.21362 15.4312 4.37395C14.4736 3.53428 13.2435 3.07132 11.9699 3.07132C10.6963 3.07132 9.46616 3.53428 8.50857 4.37395C7.55099 5.21362 6.93129 6.37275 6.76489 7.63541L6.74989 8.25041H6.10489C5.20979 8.28621 4.36557 8.67613 3.75795 9.33438C3.15033 9.99264 2.82909 10.8653 2.86489 11.7604C2.9007 12.6555 3.29062 13.4997 3.94887 14.1074C4.60712 14.715 5.47979 15.0362 6.37489 15.0004H6.74989V16.5004H6.37489C5.1722 16.4928 4.01477 16.0409 3.12513 15.2315C2.2355 14.4221 1.67646 13.3124 1.55549 12.1158C1.43453 10.9192 1.76018 9.72009 2.46983 8.74905C3.17949 7.77801 4.22305 7.10357 5.39989 6.85541C5.72367 5.3453 6.55552 3.99189 7.75663 3.02101C8.95774 2.05013 10.4555 1.52051 11.9999 1.52051C13.5443 1.52051 15.042 2.05013 16.2432 3.02101C17.4443 3.99189 18.2761 5.3453 18.5999 6.85541C19.7767 7.10357 20.8203 7.77801 21.53 8.74905C22.2396 9.72009 22.5653 10.9192 22.4443 12.1158C22.3233 13.3124 21.7643 14.4221 20.8747 15.2315C19.985 16.0409 18.8276 16.4928 17.6249 16.5004Z",fill:"currentColor"})]}),v.jsx("defs",{children:v.jsx("clipPath",{id:"clip0_2077_2699",children:v.jsx("rect",{width:"24",height:"24",fill:"white"})})})]}),video:S2};function Fd(){const{setActiveMenuItem:t,setShowMenuItem:n,activeMenuItem:r,showMenuItem:s}=Ss();return v.jsxs("div",{style:{zIndex:201},className:"absolute left-2.5 top-1/2 mt-6 flex w-14 -translate-y-1/2 flex-col items-center rounded-lg bg-background/80 py-2 shadow-lg backdrop-blur-lg backdrop-filter",children:[v.jsx(Fe,{onClick:()=>{t("uploads"),n(!0)},className:ot(s&&r==="uploads"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:v.jsx(cn.upload,{width:20})}),v.jsx(Fe,{onClick:()=>{t("texts"),n(!0)},className:ot(s&&r==="texts"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:v.jsx(cn.type,{width:20})}),v.jsx(Fe,{onClick:()=>{t("videos"),n(!0)},className:ot(s&&r==="videos"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:v.jsx(cn.video,{width:20})}),v.jsx(Fe,{onClick:()=>{t("captions"),n(!0)},className:ot(s&&r==="captions"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:v.jsx(cn.captions,{width:20})}),v.jsx(Fe,{onClick:()=>{t("images"),n(!0)},className:ot(s&&r==="images"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:v.jsx(cn.image,{width:20})}),v.jsx(Fe,{onClick:()=>{t("shapes"),n(!0)},className:ot(s&&r==="shapes"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:v.jsx(cn.shapes,{width:20})}),v.jsx(Fe,{onClick:()=>{t("audios"),n(!0)},className:ot(s&&r==="audios"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:v.jsx(cn.audio,{width:20})}),v.jsx(Fe,{onClick:()=>{t("transitions"),n(!0)},className:ot(s&&r==="transitions"?"bg-secondary":"text-muted-foreground"),variant:"ghost",size:"icon",children:v.jsx("svg",{width:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M3 5.30359C3 3.93159 4.659 3.24359 5.629 4.21359L11.997 10.5826L10.583 11.9966L5 6.41359V17.5856L10.586 11.9996L10.583 11.9966L11.997 10.5826L12 10.5856L18.371 4.21459C19.341 3.24459 21 3.93159 21 5.30359V18.6956C21 20.0676 19.341 20.7556 18.371 19.7856L12 13.5L13.414 11.9996L19 17.5866V6.41359L13.414 11.9996L13.421 12.0056L12.006 13.4206L12 13.4136L5.629 19.7846C4.659 20.7546 3 20.0676 3 18.6956V5.30359Z",fill:"currentColor"})})})]})}function Ud(){const t=()=>{ve.dispatch(aa)},n=()=>{ve.dispatch(ca)};return v.jsx("div",{style:{display:"grid",gridTemplateColumns:"320px 1fr 320px"},className:"pointer-events-none absolute left-0 right-0 top-0 z-[205] flex h-[72px] items-center px-2",children:v.jsxs("div",{className:"pointer-events-auto flex h-14 items-center gap-2",children:[v.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-md bg-background"}),v.jsxs("div",{className:"flex h-12 items-center bg-background px-1.5",children:[v.jsx(Fe,{onClick:t,className:"text-muted-foreground",variant:"ghost",size:"icon",children:v.jsx(cn.undo,{width:20})}),v.jsx(Fe,{onClick:n,className:"text-muted-foreground",variant:"ghost",size:"icon",children:v.jsx(cn.redo,{width:20})})]})]})})}const Ts=(t,n)=>{const r=t.from/1e3*n,s=t.to/1e3*n-r;return{from:r,durationInFrames:s}},zd={text:(t,n)=>{const{fps:r,height:s,width:a}=n,{from:c,durationInFrames:u}=Ts(t.display,r);return v.jsx(Zt.Sequence,{from:c,durationInFrames:u,"data-track-item":"transition-element",style:{position:"absolute",width:t.details.width??300,height:t.details.height??400,transform:t.details.transform??"none",fontSize:t.details.fontSize||"16px",textAlign:t.details.textAlign||"left",top:t.details.top??300,left:t.details.left??600,color:t.details.color||"#000000",backgroundColor:t.details.backgroundColor||"transparent",border:t.details.border??"none",opacity:t.details.opacity??100/100,fontFamily:t.details.fontFamily||"Arial",textDecoration:t.details.textDecoration||"none",fontWeight:t.details.fontWeight||"normal",lineHeight:t.details.lineHeight||"normal",letterSpacing:t.details.letterSpacing||"normal",wordSpacing:t.details.wordSpacing||"normal",wordWrap:t.details.wordWrap||"normal",wordBreak:t.details.wordBreak||"normal",pointerEvents:"auto"},children:v.jsx("div",{children:t.details.text})},t.id)},image:(t,n)=>{const{fps:r}=n,{from:s,durationInFrames:a}=Ts(t.display,r);return v.jsx(Zt.Sequence,{from:s,durationInFrames:a,style:{width:t.details.width??"100%",height:t.details.height??"auto",transform:t.details.transform??"none",opacity:(t.details.opacity??100)/100||1,border:t.details.border??"none",borderRadius:t.details.borderRadius??"0",boxShadow:t.details.boxShadow??"none",filter:t.details.filter||"none",top:t.details.top??0,left:t.details.left??0},children:v.jsx(Zt.AbsoluteFill,{style:{pointerEvents:"none"},children:v.jsx(Zt.Img,{style:{pointerEvents:"none"},"data-id":t.id,src:t.details.src})})},t.id)},video:(t,n)=>{const{fps:r}=n,{from:s,durationInFrames:a}=Ts(t.display,r),c=t.trim,u=t.details.crop||{x:0,y:0,width:t.details.width,height:t.details.height};return c?v.jsx(Zt.Sequence,{premountFor:30*5,from:s,durationInFrames:a,style:{width:u.width||"100%",height:u.height||"auto",transform:t.details.transform??"none",opacity:(t.details.opacity??100)/100||1,border:t.details.border??"none",borderRadius:t.details.borderRadius??"0",boxShadow:t.details.boxShadow??"none",top:t.details.top??0,left:t.details.left??0,overflow:"hidden"},children:v.jsx(Zt.AbsoluteFill,{style:{pointerEvents:"none",width:t.details.width,height:t.details.height,top:-u.y,left:-u.x},children:v.jsx(Zt.OffthreadVideo,{startFrom:c.from/1e3*r,endAt:c.to/1e3*r,src:t.details.src,volume:(t.details.volume??100)/100,style:{pointerEvents:"none",width:t.details.width,height:t.details.height}})})},t.id):v.jsx(v.Fragment,{})},audio:(t,n)=>{const{fps:r}=n,{from:s,durationInFrames:a}=Ts(t.display,r),c=t.trim;return c?v.jsx(Zt.Sequence,{className:`moonshine-scene-item id-${t.id} moonshine-scene-item-type-${t.type}`,from:s,durationInFrames:a,style:{userSelect:"none",pointerEvents:"none"},children:v.jsx(Zt.AbsoluteFill,{children:v.jsx(Zt.Audio,{startFrom:c.from/1e3*r,endAt:c.to/1e3*r,src:t.details.src,volume:(t.details.volume??100)/100})})},t.id):v.jsx(v.Fragment,{})}};var Is={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Is.exports,function(t,n){(function(){var r,s="4.17.21",a=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",d="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",g=500,y="__lodash_placeholder__",w=1,T=2,x=4,A=1,M=2,R=1,D=2,P=4,F=8,z=16,Q=32,J=64,ee=128,q=256,Z=512,ie=30,oe="...",X=800,de=16,Te=1,Ne=2,xe=3,Oe=1/0,Me=9007199254740991,Ze=17976931348623157e292,pt=NaN,ce=4294967295,tr=ce-1,kr=ce>>>1,Ai=[["ary",ee],["bind",R],["bindKey",D],["curry",F],["curryRight",z],["flip",Z],["partial",Q],["partialRight",J],["rearg",q]],kn="[object Arguments]",An="[object Array]",Ri="[object AsyncFunction]",en="[object Boolean]",dn="[object Date]",Ar="[object DOMException]",Rr="[object Error]",nr="[object Function]",Fs="[object GeneratorFunction]",St="[object Map]",tn="[object Number]",rr="[object Null]",Pt="[object Object]",Mi="[object Promise]",Mr="[object Proxy]",ir="[object RegExp]",Tt="[object Set]",fn="[object String]",Or="[object Symbol]",ac="[object Undefined]",Rn="[object WeakMap]",Us="[object WeakSet]",Mn="[object ArrayBuffer]",On="[object DataView]",Pr="[object Float32Array]",Dr="[object Float64Array]",Oi="[object Int8Array]",Pi="[object Int16Array]",Di="[object Int32Array]",Li="[object Uint8Array]",Ni="[object Uint8ClampedArray]",ji="[object Uint16Array]",Fi="[object Uint32Array]",Ui=/\b__p \+= '';/g,zs=/\b(__p \+=) '' \+/g,Pn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Lr=/&(?:amp|lt|gt|quot|#39);/g,Nr=/[&<>"']/g,Hs=RegExp(Lr.source),cc=RegExp(Nr.source),Ws=/<%-([\s\S]+?)%>/g,lc=/<%([\s\S]+?)%>/g,zi=/<%=([\s\S]+?)%>/g,Bs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uc=/^\w*$/,dc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jr=/[\\^$.*+?()[\]{}|]/g,Vs=RegExp(jr.source),Hi=/^\s+/,fc=/\s/,hc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pc=/\{\n\/\* \[wrapped with (.+)\] \*/,S=/,? & /,H=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,G=/[()=,{}\[\]\/\s]/,ae=/\\(\\)?/g,Ie=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ke=/\w*$/,_e=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,rt=/^\[object .+?Constructor\]$/,ze=/^0o[0-7]+$/i,Ve=/^(?:0|[1-9]\d*)$/,gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Vt=/($^)/,hn=/['\n\r\u2028\u2029\\]/g,Je="\\ud800-\\udfff",Wi="\\u0300-\\u036f",gc="\\ufe20-\\ufe2f",mc="\\u20d0-\\u20ff",Lh=Wi+gc+mc,Nh="\\u2700-\\u27bf",jh="a-z\\xdf-\\xf6\\xf8-\\xff",U_="\\xac\\xb1\\xd7\\xf7",z_="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",H_="\\u2000-\\u206f",W_=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fh="A-Z\\xc0-\\xd6\\xd8-\\xde",Uh="\\ufe0e\\ufe0f",zh=U_+z_+H_+W_,vc="['’]",B_="["+Je+"]",Hh="["+zh+"]",$s="["+Lh+"]",Wh="\\d+",V_="["+Nh+"]",Bh="["+jh+"]",Vh="[^"+Je+zh+Wh+Nh+jh+Fh+"]",yc="\\ud83c[\\udffb-\\udfff]",$_="(?:"+$s+"|"+yc+")",$h="[^"+Je+"]",bc="(?:\\ud83c[\\udde6-\\uddff]){2}",_c="[\\ud800-\\udbff][\\udc00-\\udfff]",Fr="["+Fh+"]",Gh="\\u200d",Yh="(?:"+Bh+"|"+Vh+")",G_="(?:"+Fr+"|"+Vh+")",Xh="(?:"+vc+"(?:d|ll|m|re|s|t|ve))?",Zh="(?:"+vc+"(?:D|LL|M|RE|S|T|VE))?",Kh=$_+"?",qh="["+Uh+"]?",Y_="(?:"+Gh+"(?:"+[$h,bc,_c].join("|")+")"+qh+Kh+")*",X_="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Z_="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jh=qh+Kh+Y_,K_="(?:"+[V_,bc,_c].join("|")+")"+Jh,q_="(?:"+[$h+$s+"?",$s,bc,_c,B_].join("|")+")",J_=RegExp(vc,"g"),Q_=RegExp($s,"g"),wc=RegExp(yc+"(?="+yc+")|"+q_+Jh,"g"),e3=RegExp([Fr+"?"+Bh+"+"+Xh+"(?="+[Hh,Fr,"$"].join("|")+")",G_+"+"+Zh+"(?="+[Hh,Fr+Yh,"$"].join("|")+")",Fr+"?"+Yh+"+"+Xh,Fr+"+"+Zh,Z_,X_,Wh,K_].join("|"),"g"),t3=RegExp("["+Gh+Je+Lh+Uh+"]"),n3=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,r3=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],i3=-1,je={};je[Pr]=je[Dr]=je[Oi]=je[Pi]=je[Di]=je[Li]=je[Ni]=je[ji]=je[Fi]=!0,je[kn]=je[An]=je[Mn]=je[en]=je[On]=je[dn]=je[Rr]=je[nr]=je[St]=je[tn]=je[Pt]=je[ir]=je[Tt]=je[fn]=je[Rn]=!1;var De={};De[kn]=De[An]=De[Mn]=De[On]=De[en]=De[dn]=De[Pr]=De[Dr]=De[Oi]=De[Pi]=De[Di]=De[St]=De[tn]=De[Pt]=De[ir]=De[Tt]=De[fn]=De[Or]=De[Li]=De[Ni]=De[ji]=De[Fi]=!0,De[Rr]=De[nr]=De[Rn]=!1;var s3={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},o3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a3={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},c3={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},l3=parseFloat,u3=parseInt,Qh=typeof Jr=="object"&&Jr&&Jr.Object===Object&&Jr,d3=typeof self=="object"&&self&&self.Object===Object&&self,it=Qh||d3||Function("return this")(),Sc=n&&!n.nodeType&&n,sr=Sc&&!0&&t&&!t.nodeType&&t,ep=sr&&sr.exports===Sc,Tc=ep&&Qh.process,Dt=function(){try{var E=sr&&sr.require&&sr.require("util").types;return E||Tc&&Tc.binding&&Tc.binding("util")}catch{}}(),tp=Dt&&Dt.isArrayBuffer,np=Dt&&Dt.isDate,rp=Dt&&Dt.isMap,ip=Dt&&Dt.isRegExp,sp=Dt&&Dt.isSet,op=Dt&&Dt.isTypedArray;function It(E,L,O){switch(O.length){case 0:return E.call(L);case 1:return E.call(L,O[0]);case 2:return E.call(L,O[0],O[1]);case 3:return E.call(L,O[0],O[1],O[2])}return E.apply(L,O)}function f3(E,L,O,Y){for(var le=-1,Ce=E==null?0:E.length;++le<Ce;){var Qe=E[le];L(Y,Qe,O(Qe),E)}return Y}function Lt(E,L){for(var O=-1,Y=E==null?0:E.length;++O<Y&&L(E[O],O,E)!==!1;);return E}function h3(E,L){for(var O=E==null?0:E.length;O--&&L(E[O],O,E)!==!1;);return E}function ap(E,L){for(var O=-1,Y=E==null?0:E.length;++O<Y;)if(!L(E[O],O,E))return!1;return!0}function Dn(E,L){for(var O=-1,Y=E==null?0:E.length,le=0,Ce=[];++O<Y;){var Qe=E[O];L(Qe,O,E)&&(Ce[le++]=Qe)}return Ce}function Gs(E,L){var O=E==null?0:E.length;return!!O&&Ur(E,L,0)>-1}function Ic(E,L,O){for(var Y=-1,le=E==null?0:E.length;++Y<le;)if(O(L,E[Y]))return!0;return!1}function Ue(E,L){for(var O=-1,Y=E==null?0:E.length,le=Array(Y);++O<Y;)le[O]=L(E[O],O,E);return le}function Ln(E,L){for(var O=-1,Y=L.length,le=E.length;++O<Y;)E[le+O]=L[O];return E}function Ec(E,L,O,Y){var le=-1,Ce=E==null?0:E.length;for(Y&&Ce&&(O=E[++le]);++le<Ce;)O=L(O,E[le],le,E);return O}function p3(E,L,O,Y){var le=E==null?0:E.length;for(Y&&le&&(O=E[--le]);le--;)O=L(O,E[le],le,E);return O}function xc(E,L){for(var O=-1,Y=E==null?0:E.length;++O<Y;)if(L(E[O],O,E))return!0;return!1}var g3=Cc("length");function m3(E){return E.split("")}function v3(E){return E.match(H)||[]}function cp(E,L,O){var Y;return O(E,function(le,Ce,Qe){if(L(le,Ce,Qe))return Y=Ce,!1}),Y}function Ys(E,L,O,Y){for(var le=E.length,Ce=O+(Y?1:-1);Y?Ce--:++Ce<le;)if(L(E[Ce],Ce,E))return Ce;return-1}function Ur(E,L,O){return L===L?A3(E,L,O):Ys(E,lp,O)}function y3(E,L,O,Y){for(var le=O-1,Ce=E.length;++le<Ce;)if(Y(E[le],L))return le;return-1}function lp(E){return E!==E}function up(E,L){var O=E==null?0:E.length;return O?Ac(E,L)/O:pt}function Cc(E){return function(L){return L==null?r:L[E]}}function kc(E){return function(L){return E==null?r:E[L]}}function dp(E,L,O,Y,le){return le(E,function(Ce,Qe,Pe){O=Y?(Y=!1,Ce):L(O,Ce,Qe,Pe)}),O}function b3(E,L){var O=E.length;for(E.sort(L);O--;)E[O]=E[O].value;return E}function Ac(E,L){for(var O,Y=-1,le=E.length;++Y<le;){var Ce=L(E[Y]);Ce!==r&&(O=O===r?Ce:O+Ce)}return O}function Rc(E,L){for(var O=-1,Y=Array(E);++O<E;)Y[O]=L(O);return Y}function _3(E,L){return Ue(L,function(O){return[O,E[O]]})}function fp(E){return E&&E.slice(0,mp(E)+1).replace(Hi,"")}function Et(E){return function(L){return E(L)}}function Mc(E,L){return Ue(L,function(O){return E[O]})}function Bi(E,L){return E.has(L)}function hp(E,L){for(var O=-1,Y=E.length;++O<Y&&Ur(L,E[O],0)>-1;);return O}function pp(E,L){for(var O=E.length;O--&&Ur(L,E[O],0)>-1;);return O}function w3(E,L){for(var O=E.length,Y=0;O--;)E[O]===L&&++Y;return Y}var S3=kc(s3),T3=kc(o3);function I3(E){return"\\"+c3[E]}function E3(E,L){return E==null?r:E[L]}function zr(E){return t3.test(E)}function x3(E){return n3.test(E)}function C3(E){for(var L,O=[];!(L=E.next()).done;)O.push(L.value);return O}function Oc(E){var L=-1,O=Array(E.size);return E.forEach(function(Y,le){O[++L]=[le,Y]}),O}function gp(E,L){return function(O){return E(L(O))}}function Nn(E,L){for(var O=-1,Y=E.length,le=0,Ce=[];++O<Y;){var Qe=E[O];(Qe===L||Qe===y)&&(E[O]=y,Ce[le++]=O)}return Ce}function Xs(E){var L=-1,O=Array(E.size);return E.forEach(function(Y){O[++L]=Y}),O}function k3(E){var L=-1,O=Array(E.size);return E.forEach(function(Y){O[++L]=[Y,Y]}),O}function A3(E,L,O){for(var Y=O-1,le=E.length;++Y<le;)if(E[Y]===L)return Y;return-1}function R3(E,L,O){for(var Y=O+1;Y--;)if(E[Y]===L)return Y;return Y}function Hr(E){return zr(E)?O3(E):g3(E)}function $t(E){return zr(E)?P3(E):m3(E)}function mp(E){for(var L=E.length;L--&&fc.test(E.charAt(L)););return L}var M3=kc(a3);function O3(E){for(var L=wc.lastIndex=0;wc.test(E);)++L;return L}function P3(E){return E.match(wc)||[]}function D3(E){return E.match(e3)||[]}var L3=function E(L){L=L==null?it:Wr.defaults(it.Object(),L,Wr.pick(it,r3));var O=L.Array,Y=L.Date,le=L.Error,Ce=L.Function,Qe=L.Math,Pe=L.Object,Pc=L.RegExp,N3=L.String,Nt=L.TypeError,Zs=O.prototype,j3=Ce.prototype,Br=Pe.prototype,Ks=L["__core-js_shared__"],qs=j3.toString,Re=Br.hasOwnProperty,F3=0,vp=function(){var e=/[^.]+$/.exec(Ks&&Ks.keys&&Ks.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Js=Br.toString,U3=qs.call(Pe),z3=it._,H3=Pc("^"+qs.call(Re).replace(jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qs=ep?L.Buffer:r,jn=L.Symbol,eo=L.Uint8Array,yp=Qs?Qs.allocUnsafe:r,to=gp(Pe.getPrototypeOf,Pe),bp=Pe.create,_p=Br.propertyIsEnumerable,no=Zs.splice,wp=jn?jn.isConcatSpreadable:r,Vi=jn?jn.iterator:r,or=jn?jn.toStringTag:r,ro=function(){try{var e=dr(Pe,"defineProperty");return e({},"",{}),e}catch{}}(),W3=L.clearTimeout!==it.clearTimeout&&L.clearTimeout,B3=Y&&Y.now!==it.Date.now&&Y.now,V3=L.setTimeout!==it.setTimeout&&L.setTimeout,io=Qe.ceil,so=Qe.floor,Dc=Pe.getOwnPropertySymbols,$3=Qs?Qs.isBuffer:r,Sp=L.isFinite,G3=Zs.join,Y3=gp(Pe.keys,Pe),et=Qe.max,at=Qe.min,X3=Y.now,Z3=L.parseInt,Tp=Qe.random,K3=Zs.reverse,Lc=dr(L,"DataView"),$i=dr(L,"Map"),Nc=dr(L,"Promise"),Vr=dr(L,"Set"),Gi=dr(L,"WeakMap"),Yi=dr(Pe,"create"),oo=Gi&&new Gi,$r={},q3=fr(Lc),J3=fr($i),Q3=fr(Nc),ew=fr(Vr),tw=fr(Gi),ao=jn?jn.prototype:r,Xi=ao?ao.valueOf:r,Ip=ao?ao.toString:r;function p(e){if($e(e)&&!ue(e)&&!(e instanceof we)){if(e instanceof jt)return e;if(Re.call(e,"__wrapped__"))return E1(e)}return new jt(e)}var Gr=function(){function e(){}return function(i){if(!He(i))return{};if(bp)return bp(i);e.prototype=i;var o=new e;return e.prototype=r,o}}();function co(){}function jt(e,i){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=r}p.templateSettings={escape:Ws,evaluate:lc,interpolate:zi,variable:"",imports:{_:p}},p.prototype=co.prototype,p.prototype.constructor=p,jt.prototype=Gr(co.prototype),jt.prototype.constructor=jt;function we(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function nw(){var e=new we(this.__wrapped__);return e.__actions__=mt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=mt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=mt(this.__views__),e}function rw(){if(this.__filtered__){var e=new we(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function iw(){var e=this.__wrapped__.value(),i=this.__dir__,o=ue(e),l=i<0,f=o?e.length:0,m=m4(0,f,this.__views__),_=m.start,I=m.end,C=I-_,N=l?I:_-1,j=this.__iteratees__,U=j.length,B=0,K=at(C,this.__takeCount__);if(!o||!l&&f==C&&K==C)return Xp(e,this.__actions__);var ne=[];e:for(;C--&&B<K;){N+=i;for(var pe=-1,re=e[N];++pe<U;){var be=j[pe],Se=be.iteratee,kt=be.type,ht=Se(re);if(kt==Ne)re=ht;else if(!ht){if(kt==Te)continue e;break e}}ne[B++]=re}return ne}we.prototype=Gr(co.prototype),we.prototype.constructor=we;function ar(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var l=e[i];this.set(l[0],l[1])}}function sw(){this.__data__=Yi?Yi(null):{},this.size=0}function ow(e){var i=this.has(e)&&delete this.__data__[e];return this.size-=i?1:0,i}function aw(e){var i=this.__data__;if(Yi){var o=i[e];return o===h?r:o}return Re.call(i,e)?i[e]:r}function cw(e){var i=this.__data__;return Yi?i[e]!==r:Re.call(i,e)}function lw(e,i){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=Yi&&i===r?h:i,this}ar.prototype.clear=sw,ar.prototype.delete=ow,ar.prototype.get=aw,ar.prototype.has=cw,ar.prototype.set=lw;function pn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var l=e[i];this.set(l[0],l[1])}}function uw(){this.__data__=[],this.size=0}function dw(e){var i=this.__data__,o=lo(i,e);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():no.call(i,o,1),--this.size,!0}function fw(e){var i=this.__data__,o=lo(i,e);return o<0?r:i[o][1]}function hw(e){return lo(this.__data__,e)>-1}function pw(e,i){var o=this.__data__,l=lo(o,e);return l<0?(++this.size,o.push([e,i])):o[l][1]=i,this}pn.prototype.clear=uw,pn.prototype.delete=dw,pn.prototype.get=fw,pn.prototype.has=hw,pn.prototype.set=pw;function gn(e){var i=-1,o=e==null?0:e.length;for(this.clear();++i<o;){var l=e[i];this.set(l[0],l[1])}}function gw(){this.size=0,this.__data__={hash:new ar,map:new($i||pn),string:new ar}}function mw(e){var i=So(this,e).delete(e);return this.size-=i?1:0,i}function vw(e){return So(this,e).get(e)}function yw(e){return So(this,e).has(e)}function bw(e,i){var o=So(this,e),l=o.size;return o.set(e,i),this.size+=o.size==l?0:1,this}gn.prototype.clear=gw,gn.prototype.delete=mw,gn.prototype.get=vw,gn.prototype.has=yw,gn.prototype.set=bw;function cr(e){var i=-1,o=e==null?0:e.length;for(this.__data__=new gn;++i<o;)this.add(e[i])}function _w(e){return this.__data__.set(e,h),this}function ww(e){return this.__data__.has(e)}cr.prototype.add=cr.prototype.push=_w,cr.prototype.has=ww;function Gt(e){var i=this.__data__=new pn(e);this.size=i.size}function Sw(){this.__data__=new pn,this.size=0}function Tw(e){var i=this.__data__,o=i.delete(e);return this.size=i.size,o}function Iw(e){return this.__data__.get(e)}function Ew(e){return this.__data__.has(e)}function xw(e,i){var o=this.__data__;if(o instanceof pn){var l=o.__data__;if(!$i||l.length<a-1)return l.push([e,i]),this.size=++o.size,this;o=this.__data__=new gn(l)}return o.set(e,i),this.size=o.size,this}Gt.prototype.clear=Sw,Gt.prototype.delete=Tw,Gt.prototype.get=Iw,Gt.prototype.has=Ew,Gt.prototype.set=xw;function Ep(e,i){var o=ue(e),l=!o&&hr(e),f=!o&&!l&&Wn(e),m=!o&&!l&&!f&&Kr(e),_=o||l||f||m,I=_?Rc(e.length,N3):[],C=I.length;for(var N in e)(i||Re.call(e,N))&&!(_&&(N=="length"||f&&(N=="offset"||N=="parent")||m&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||bn(N,C)))&&I.push(N);return I}function xp(e){var i=e.length;return i?e[Yc(0,i-1)]:r}function Cw(e,i){return To(mt(e),lr(i,0,e.length))}function kw(e){return To(mt(e))}function jc(e,i,o){(o!==r&&!Yt(e[i],o)||o===r&&!(i in e))&&mn(e,i,o)}function Zi(e,i,o){var l=e[i];(!(Re.call(e,i)&&Yt(l,o))||o===r&&!(i in e))&&mn(e,i,o)}function lo(e,i){for(var o=e.length;o--;)if(Yt(e[o][0],i))return o;return-1}function Aw(e,i,o,l){return Fn(e,function(f,m,_){i(l,f,o(f),_)}),l}function Cp(e,i){return e&&rn(i,tt(i),e)}function Rw(e,i){return e&&rn(i,yt(i),e)}function mn(e,i,o){i=="__proto__"&&ro?ro(e,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[i]=o}function Fc(e,i){for(var o=-1,l=i.length,f=O(l),m=e==null;++o<l;)f[o]=m?r:yl(e,i[o]);return f}function lr(e,i,o){return e===e&&(o!==r&&(e=e<=o?e:o),i!==r&&(e=e>=i?e:i)),e}function Ft(e,i,o,l,f,m){var _,I=i&w,C=i&T,N=i&x;if(o&&(_=f?o(e,l,f,m):o(e)),_!==r)return _;if(!He(e))return e;var j=ue(e);if(j){if(_=y4(e),!I)return mt(e,_)}else{var U=ct(e),B=U==nr||U==Fs;if(Wn(e))return qp(e,I);if(U==Pt||U==kn||B&&!f){if(_=C||B?{}:m1(e),!I)return C?a4(e,Rw(_,e)):o4(e,Cp(_,e))}else{if(!De[U])return f?e:{};_=b4(e,U,I)}}m||(m=new Gt);var K=m.get(e);if(K)return K;m.set(e,_),$1(e)?e.forEach(function(re){_.add(Ft(re,i,o,re,e,m))}):B1(e)&&e.forEach(function(re,be){_.set(be,Ft(re,i,o,be,e,m))});var ne=N?C?il:rl:C?yt:tt,pe=j?r:ne(e);return Lt(pe||e,function(re,be){pe&&(be=re,re=e[be]),Zi(_,be,Ft(re,i,o,be,e,m))}),_}function Mw(e){var i=tt(e);return function(o){return kp(o,e,i)}}function kp(e,i,o){var l=o.length;if(e==null)return!l;for(e=Pe(e);l--;){var f=o[l],m=i[f],_=e[f];if(_===r&&!(f in e)||!m(_))return!1}return!0}function Ap(e,i,o){if(typeof e!="function")throw new Nt(u);return ns(function(){e.apply(r,o)},i)}function Ki(e,i,o,l){var f=-1,m=Gs,_=!0,I=e.length,C=[],N=i.length;if(!I)return C;o&&(i=Ue(i,Et(o))),l?(m=Ic,_=!1):i.length>=a&&(m=Bi,_=!1,i=new cr(i));e:for(;++f<I;){var j=e[f],U=o==null?j:o(j);if(j=l||j!==0?j:0,_&&U===U){for(var B=N;B--;)if(i[B]===U)continue e;C.push(j)}else m(i,U,l)||C.push(j)}return C}var Fn=n1(nn),Rp=n1(zc,!0);function Ow(e,i){var o=!0;return Fn(e,function(l,f,m){return o=!!i(l,f,m),o}),o}function uo(e,i,o){for(var l=-1,f=e.length;++l<f;){var m=e[l],_=i(m);if(_!=null&&(I===r?_===_&&!Ct(_):o(_,I)))var I=_,C=m}return C}function Pw(e,i,o,l){var f=e.length;for(o=he(o),o<0&&(o=-o>f?0:f+o),l=l===r||l>f?f:he(l),l<0&&(l+=f),l=o>l?0:Y1(l);o<l;)e[o++]=i;return e}function Mp(e,i){var o=[];return Fn(e,function(l,f,m){i(l,f,m)&&o.push(l)}),o}function st(e,i,o,l,f){var m=-1,_=e.length;for(o||(o=w4),f||(f=[]);++m<_;){var I=e[m];i>0&&o(I)?i>1?st(I,i-1,o,l,f):Ln(f,I):l||(f[f.length]=I)}return f}var Uc=r1(),Op=r1(!0);function nn(e,i){return e&&Uc(e,i,tt)}function zc(e,i){return e&&Op(e,i,tt)}function fo(e,i){return Dn(i,function(o){return _n(e[o])})}function ur(e,i){i=zn(i,e);for(var o=0,l=i.length;e!=null&&o<l;)e=e[sn(i[o++])];return o&&o==l?e:r}function Pp(e,i,o){var l=i(e);return ue(e)?l:Ln(l,o(e))}function dt(e){return e==null?e===r?ac:rr:or&&or in Pe(e)?g4(e):k4(e)}function Hc(e,i){return e>i}function Dw(e,i){return e!=null&&Re.call(e,i)}function Lw(e,i){return e!=null&&i in Pe(e)}function Nw(e,i,o){return e>=at(i,o)&&e<et(i,o)}function Wc(e,i,o){for(var l=o?Ic:Gs,f=e[0].length,m=e.length,_=m,I=O(m),C=1/0,N=[];_--;){var j=e[_];_&&i&&(j=Ue(j,Et(i))),C=at(j.length,C),I[_]=!o&&(i||f>=120&&j.length>=120)?new cr(_&&j):r}j=e[0];var U=-1,B=I[0];e:for(;++U<f&&N.length<C;){var K=j[U],ne=i?i(K):K;if(K=o||K!==0?K:0,!(B?Bi(B,ne):l(N,ne,o))){for(_=m;--_;){var pe=I[_];if(!(pe?Bi(pe,ne):l(e[_],ne,o)))continue e}B&&B.push(ne),N.push(K)}}return N}function jw(e,i,o,l){return nn(e,function(f,m,_){i(l,o(f),m,_)}),l}function qi(e,i,o){i=zn(i,e),e=_1(e,i);var l=e==null?e:e[sn(zt(i))];return l==null?r:It(l,e,o)}function Dp(e){return $e(e)&&dt(e)==kn}function Fw(e){return $e(e)&&dt(e)==Mn}function Uw(e){return $e(e)&&dt(e)==dn}function Ji(e,i,o,l,f){return e===i?!0:e==null||i==null||!$e(e)&&!$e(i)?e!==e&&i!==i:zw(e,i,o,l,Ji,f)}function zw(e,i,o,l,f,m){var _=ue(e),I=ue(i),C=_?An:ct(e),N=I?An:ct(i);C=C==kn?Pt:C,N=N==kn?Pt:N;var j=C==Pt,U=N==Pt,B=C==N;if(B&&Wn(e)){if(!Wn(i))return!1;_=!0,j=!1}if(B&&!j)return m||(m=new Gt),_||Kr(e)?h1(e,i,o,l,f,m):h4(e,i,C,o,l,f,m);if(!(o&A)){var K=j&&Re.call(e,"__wrapped__"),ne=U&&Re.call(i,"__wrapped__");if(K||ne){var pe=K?e.value():e,re=ne?i.value():i;return m||(m=new Gt),f(pe,re,o,l,m)}}return B?(m||(m=new Gt),p4(e,i,o,l,f,m)):!1}function Hw(e){return $e(e)&&ct(e)==St}function Bc(e,i,o,l){var f=o.length,m=f,_=!l;if(e==null)return!m;for(e=Pe(e);f--;){var I=o[f];if(_&&I[2]?I[1]!==e[I[0]]:!(I[0]in e))return!1}for(;++f<m;){I=o[f];var C=I[0],N=e[C],j=I[1];if(_&&I[2]){if(N===r&&!(C in e))return!1}else{var U=new Gt;if(l)var B=l(N,j,C,e,i,U);if(!(B===r?Ji(j,N,A|M,l,U):B))return!1}}return!0}function Lp(e){if(!He(e)||T4(e))return!1;var i=_n(e)?H3:rt;return i.test(fr(e))}function Ww(e){return $e(e)&&dt(e)==ir}function Bw(e){return $e(e)&&ct(e)==Tt}function Vw(e){return $e(e)&&Ao(e.length)&&!!je[dt(e)]}function Np(e){return typeof e=="function"?e:e==null?bt:typeof e=="object"?ue(e)?Up(e[0],e[1]):Fp(e):ig(e)}function Vc(e){if(!ts(e))return Y3(e);var i=[];for(var o in Pe(e))Re.call(e,o)&&o!="constructor"&&i.push(o);return i}function $w(e){if(!He(e))return C4(e);var i=ts(e),o=[];for(var l in e)l=="constructor"&&(i||!Re.call(e,l))||o.push(l);return o}function $c(e,i){return e<i}function jp(e,i){var o=-1,l=vt(e)?O(e.length):[];return Fn(e,function(f,m,_){l[++o]=i(f,m,_)}),l}function Fp(e){var i=ol(e);return i.length==1&&i[0][2]?y1(i[0][0],i[0][1]):function(o){return o===e||Bc(o,e,i)}}function Up(e,i){return cl(e)&&v1(i)?y1(sn(e),i):function(o){var l=yl(o,e);return l===r&&l===i?bl(o,e):Ji(i,l,A|M)}}function ho(e,i,o,l,f){e!==i&&Uc(i,function(m,_){if(f||(f=new Gt),He(m))Gw(e,i,_,o,ho,l,f);else{var I=l?l(ul(e,_),m,_+"",e,i,f):r;I===r&&(I=m),jc(e,_,I)}},yt)}function Gw(e,i,o,l,f,m,_){var I=ul(e,o),C=ul(i,o),N=_.get(C);if(N){jc(e,o,N);return}var j=m?m(I,C,o+"",e,i,_):r,U=j===r;if(U){var B=ue(C),K=!B&&Wn(C),ne=!B&&!K&&Kr(C);j=C,B||K||ne?ue(I)?j=I:Ye(I)?j=mt(I):K?(U=!1,j=qp(C,!0)):ne?(U=!1,j=Jp(C,!0)):j=[]:rs(C)||hr(C)?(j=I,hr(I)?j=X1(I):(!He(I)||_n(I))&&(j=m1(C))):U=!1}U&&(_.set(C,j),f(j,C,l,m,_),_.delete(C)),jc(e,o,j)}function zp(e,i){var o=e.length;if(o)return i+=i<0?o:0,bn(i,o)?e[i]:r}function Hp(e,i,o){i.length?i=Ue(i,function(m){return ue(m)?function(_){return ur(_,m.length===1?m[0]:m)}:m}):i=[bt];var l=-1;i=Ue(i,Et(te()));var f=jp(e,function(m,_,I){var C=Ue(i,function(N){return N(m)});return{criteria:C,index:++l,value:m}});return b3(f,function(m,_){return s4(m,_,o)})}function Yw(e,i){return Wp(e,i,function(o,l){return bl(e,l)})}function Wp(e,i,o){for(var l=-1,f=i.length,m={};++l<f;){var _=i[l],I=ur(e,_);o(I,_)&&Qi(m,zn(_,e),I)}return m}function Xw(e){return function(i){return ur(i,e)}}function Gc(e,i,o,l){var f=l?y3:Ur,m=-1,_=i.length,I=e;for(e===i&&(i=mt(i)),o&&(I=Ue(e,Et(o)));++m<_;)for(var C=0,N=i[m],j=o?o(N):N;(C=f(I,j,C,l))>-1;)I!==e&&no.call(I,C,1),no.call(e,C,1);return e}function Bp(e,i){for(var o=e?i.length:0,l=o-1;o--;){var f=i[o];if(o==l||f!==m){var m=f;bn(f)?no.call(e,f,1):Kc(e,f)}}return e}function Yc(e,i){return e+so(Tp()*(i-e+1))}function Zw(e,i,o,l){for(var f=-1,m=et(io((i-e)/(o||1)),0),_=O(m);m--;)_[l?m:++f]=e,e+=o;return _}function Xc(e,i){var o="";if(!e||i<1||i>Me)return o;do i%2&&(o+=e),i=so(i/2),i&&(e+=e);while(i);return o}function ge(e,i){return dl(b1(e,i,bt),e+"")}function Kw(e){return xp(qr(e))}function qw(e,i){var o=qr(e);return To(o,lr(i,0,o.length))}function Qi(e,i,o,l){if(!He(e))return e;i=zn(i,e);for(var f=-1,m=i.length,_=m-1,I=e;I!=null&&++f<m;){var C=sn(i[f]),N=o;if(C==="__proto__"||C==="constructor"||C==="prototype")return e;if(f!=_){var j=I[C];N=l?l(j,C,I):r,N===r&&(N=He(j)?j:bn(i[f+1])?[]:{})}Zi(I,C,N),I=I[C]}return e}var Vp=oo?function(e,i){return oo.set(e,i),e}:bt,Jw=ro?function(e,i){return ro(e,"toString",{configurable:!0,enumerable:!1,value:wl(i),writable:!0})}:bt;function Qw(e){return To(qr(e))}function Ut(e,i,o){var l=-1,f=e.length;i<0&&(i=-i>f?0:f+i),o=o>f?f:o,o<0&&(o+=f),f=i>o?0:o-i>>>0,i>>>=0;for(var m=O(f);++l<f;)m[l]=e[l+i];return m}function e4(e,i){var o;return Fn(e,function(l,f,m){return o=i(l,f,m),!o}),!!o}function po(e,i,o){var l=0,f=e==null?l:e.length;if(typeof i=="number"&&i===i&&f<=kr){for(;l<f;){var m=l+f>>>1,_=e[m];_!==null&&!Ct(_)&&(o?_<=i:_<i)?l=m+1:f=m}return f}return Zc(e,i,bt,o)}function Zc(e,i,o,l){var f=0,m=e==null?0:e.length;if(m===0)return 0;i=o(i);for(var _=i!==i,I=i===null,C=Ct(i),N=i===r;f<m;){var j=so((f+m)/2),U=o(e[j]),B=U!==r,K=U===null,ne=U===U,pe=Ct(U);if(_)var re=l||ne;else N?re=ne&&(l||B):I?re=ne&&B&&(l||!K):C?re=ne&&B&&!K&&(l||!pe):K||pe?re=!1:re=l?U<=i:U<i;re?f=j+1:m=j}return at(m,tr)}function $p(e,i){for(var o=-1,l=e.length,f=0,m=[];++o<l;){var _=e[o],I=i?i(_):_;if(!o||!Yt(I,C)){var C=I;m[f++]=_===0?0:_}}return m}function Gp(e){return typeof e=="number"?e:Ct(e)?pt:+e}function xt(e){if(typeof e=="string")return e;if(ue(e))return Ue(e,xt)+"";if(Ct(e))return Ip?Ip.call(e):"";var i=e+"";return i=="0"&&1/e==-1/0?"-0":i}function Un(e,i,o){var l=-1,f=Gs,m=e.length,_=!0,I=[],C=I;if(o)_=!1,f=Ic;else if(m>=a){var N=i?null:d4(e);if(N)return Xs(N);_=!1,f=Bi,C=new cr}else C=i?[]:I;e:for(;++l<m;){var j=e[l],U=i?i(j):j;if(j=o||j!==0?j:0,_&&U===U){for(var B=C.length;B--;)if(C[B]===U)continue e;i&&C.push(U),I.push(j)}else f(C,U,o)||(C!==I&&C.push(U),I.push(j))}return I}function Kc(e,i){return i=zn(i,e),e=_1(e,i),e==null||delete e[sn(zt(i))]}function Yp(e,i,o,l){return Qi(e,i,o(ur(e,i)),l)}function go(e,i,o,l){for(var f=e.length,m=l?f:-1;(l?m--:++m<f)&&i(e[m],m,e););return o?Ut(e,l?0:m,l?m+1:f):Ut(e,l?m+1:0,l?f:m)}function Xp(e,i){var o=e;return o instanceof we&&(o=o.value()),Ec(i,function(l,f){return f.func.apply(f.thisArg,Ln([l],f.args))},o)}function qc(e,i,o){var l=e.length;if(l<2)return l?Un(e[0]):[];for(var f=-1,m=O(l);++f<l;)for(var _=e[f],I=-1;++I<l;)I!=f&&(m[f]=Ki(m[f]||_,e[I],i,o));return Un(st(m,1),i,o)}function Zp(e,i,o){for(var l=-1,f=e.length,m=i.length,_={};++l<f;){var I=l<m?i[l]:r;o(_,e[l],I)}return _}function Jc(e){return Ye(e)?e:[]}function Qc(e){return typeof e=="function"?e:bt}function zn(e,i){return ue(e)?e:cl(e,i)?[e]:I1(Ae(e))}var t4=ge;function Hn(e,i,o){var l=e.length;return o=o===r?l:o,!i&&o>=l?e:Ut(e,i,o)}var Kp=W3||function(e){return it.clearTimeout(e)};function qp(e,i){if(i)return e.slice();var o=e.length,l=yp?yp(o):new e.constructor(o);return e.copy(l),l}function el(e){var i=new e.constructor(e.byteLength);return new eo(i).set(new eo(e)),i}function n4(e,i){var o=i?el(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function r4(e){var i=new e.constructor(e.source,ke.exec(e));return i.lastIndex=e.lastIndex,i}function i4(e){return Xi?Pe(Xi.call(e)):{}}function Jp(e,i){var o=i?el(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function Qp(e,i){if(e!==i){var o=e!==r,l=e===null,f=e===e,m=Ct(e),_=i!==r,I=i===null,C=i===i,N=Ct(i);if(!I&&!N&&!m&&e>i||m&&_&&C&&!I&&!N||l&&_&&C||!o&&C||!f)return 1;if(!l&&!m&&!N&&e<i||N&&o&&f&&!l&&!m||I&&o&&f||!_&&f||!C)return-1}return 0}function s4(e,i,o){for(var l=-1,f=e.criteria,m=i.criteria,_=f.length,I=o.length;++l<_;){var C=Qp(f[l],m[l]);if(C){if(l>=I)return C;var N=o[l];return C*(N=="desc"?-1:1)}}return e.index-i.index}function e1(e,i,o,l){for(var f=-1,m=e.length,_=o.length,I=-1,C=i.length,N=et(m-_,0),j=O(C+N),U=!l;++I<C;)j[I]=i[I];for(;++f<_;)(U||f<m)&&(j[o[f]]=e[f]);for(;N--;)j[I++]=e[f++];return j}function t1(e,i,o,l){for(var f=-1,m=e.length,_=-1,I=o.length,C=-1,N=i.length,j=et(m-I,0),U=O(j+N),B=!l;++f<j;)U[f]=e[f];for(var K=f;++C<N;)U[K+C]=i[C];for(;++_<I;)(B||f<m)&&(U[K+o[_]]=e[f++]);return U}function mt(e,i){var o=-1,l=e.length;for(i||(i=O(l));++o<l;)i[o]=e[o];return i}function rn(e,i,o,l){var f=!o;o||(o={});for(var m=-1,_=i.length;++m<_;){var I=i[m],C=l?l(o[I],e[I],I,o,e):r;C===r&&(C=e[I]),f?mn(o,I,C):Zi(o,I,C)}return o}function o4(e,i){return rn(e,al(e),i)}function a4(e,i){return rn(e,p1(e),i)}function mo(e,i){return function(o,l){var f=ue(o)?f3:Aw,m=i?i():{};return f(o,e,te(l,2),m)}}function Yr(e){return ge(function(i,o){var l=-1,f=o.length,m=f>1?o[f-1]:r,_=f>2?o[2]:r;for(m=e.length>3&&typeof m=="function"?(f--,m):r,_&&ft(o[0],o[1],_)&&(m=f<3?r:m,f=1),i=Pe(i);++l<f;){var I=o[l];I&&e(i,I,l,m)}return i})}function n1(e,i){return function(o,l){if(o==null)return o;if(!vt(o))return e(o,l);for(var f=o.length,m=i?f:-1,_=Pe(o);(i?m--:++m<f)&&l(_[m],m,_)!==!1;);return o}}function r1(e){return function(i,o,l){for(var f=-1,m=Pe(i),_=l(i),I=_.length;I--;){var C=_[e?I:++f];if(o(m[C],C,m)===!1)break}return i}}function c4(e,i,o){var l=i&R,f=es(e);function m(){var _=this&&this!==it&&this instanceof m?f:e;return _.apply(l?o:this,arguments)}return m}function i1(e){return function(i){i=Ae(i);var o=zr(i)?$t(i):r,l=o?o[0]:i.charAt(0),f=o?Hn(o,1).join(""):i.slice(1);return l[e]()+f}}function Xr(e){return function(i){return Ec(ng(tg(i).replace(J_,"")),e,"")}}function es(e){return function(){var i=arguments;switch(i.length){case 0:return new e;case 1:return new e(i[0]);case 2:return new e(i[0],i[1]);case 3:return new e(i[0],i[1],i[2]);case 4:return new e(i[0],i[1],i[2],i[3]);case 5:return new e(i[0],i[1],i[2],i[3],i[4]);case 6:return new e(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new e(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var o=Gr(e.prototype),l=e.apply(o,i);return He(l)?l:o}}function l4(e,i,o){var l=es(e);function f(){for(var m=arguments.length,_=O(m),I=m,C=Zr(f);I--;)_[I]=arguments[I];var N=m<3&&_[0]!==C&&_[m-1]!==C?[]:Nn(_,C);if(m-=N.length,m<o)return l1(e,i,vo,f.placeholder,r,_,N,r,r,o-m);var j=this&&this!==it&&this instanceof f?l:e;return It(j,this,_)}return f}function s1(e){return function(i,o,l){var f=Pe(i);if(!vt(i)){var m=te(o,3);i=tt(i),o=function(I){return m(f[I],I,f)}}var _=e(i,o,l);return _>-1?f[m?i[_]:_]:r}}function o1(e){return yn(function(i){var o=i.length,l=o,f=jt.prototype.thru;for(e&&i.reverse();l--;){var m=i[l];if(typeof m!="function")throw new Nt(u);if(f&&!_&&wo(m)=="wrapper")var _=new jt([],!0)}for(l=_?l:o;++l<o;){m=i[l];var I=wo(m),C=I=="wrapper"?sl(m):r;C&&ll(C[0])&&C[1]==(ee|F|Q|q)&&!C[4].length&&C[9]==1?_=_[wo(C[0])].apply(_,C[3]):_=m.length==1&&ll(m)?_[I]():_.thru(m)}return function(){var N=arguments,j=N[0];if(_&&N.length==1&&ue(j))return _.plant(j).value();for(var U=0,B=o?i[U].apply(this,N):j;++U<o;)B=i[U].call(this,B);return B}})}function vo(e,i,o,l,f,m,_,I,C,N){var j=i&ee,U=i&R,B=i&D,K=i&(F|z),ne=i&Z,pe=B?r:es(e);function re(){for(var be=arguments.length,Se=O(be),kt=be;kt--;)Se[kt]=arguments[kt];if(K)var ht=Zr(re),At=w3(Se,ht);if(l&&(Se=e1(Se,l,f,K)),m&&(Se=t1(Se,m,_,K)),be-=At,K&&be<N){var Xe=Nn(Se,ht);return l1(e,i,vo,re.placeholder,o,Se,Xe,I,C,N-be)}var Xt=U?o:this,Sn=B?Xt[e]:e;return be=Se.length,I?Se=A4(Se,I):ne&&be>1&&Se.reverse(),j&&C<be&&(Se.length=C),this&&this!==it&&this instanceof re&&(Sn=pe||es(Sn)),Sn.apply(Xt,Se)}return re}function a1(e,i){return function(o,l){return jw(o,e,i(l),{})}}function yo(e,i){return function(o,l){var f;if(o===r&&l===r)return i;if(o!==r&&(f=o),l!==r){if(f===r)return l;typeof o=="string"||typeof l=="string"?(o=xt(o),l=xt(l)):(o=Gp(o),l=Gp(l)),f=e(o,l)}return f}}function tl(e){return yn(function(i){return i=Ue(i,Et(te())),ge(function(o){var l=this;return e(i,function(f){return It(f,l,o)})})})}function bo(e,i){i=i===r?" ":xt(i);var o=i.length;if(o<2)return o?Xc(i,e):i;var l=Xc(i,io(e/Hr(i)));return zr(i)?Hn($t(l),0,e).join(""):l.slice(0,e)}function u4(e,i,o,l){var f=i&R,m=es(e);function _(){for(var I=-1,C=arguments.length,N=-1,j=l.length,U=O(j+C),B=this&&this!==it&&this instanceof _?m:e;++N<j;)U[N]=l[N];for(;C--;)U[N++]=arguments[++I];return It(B,f?o:this,U)}return _}function c1(e){return function(i,o,l){return l&&typeof l!="number"&&ft(i,o,l)&&(o=l=r),i=wn(i),o===r?(o=i,i=0):o=wn(o),l=l===r?i<o?1:-1:wn(l),Zw(i,o,l,e)}}function _o(e){return function(i,o){return typeof i=="string"&&typeof o=="string"||(i=Ht(i),o=Ht(o)),e(i,o)}}function l1(e,i,o,l,f,m,_,I,C,N){var j=i&F,U=j?_:r,B=j?r:_,K=j?m:r,ne=j?r:m;i|=j?Q:J,i&=~(j?J:Q),i&P||(i&=-4);var pe=[e,i,f,K,U,ne,B,I,C,N],re=o.apply(r,pe);return ll(e)&&w1(re,pe),re.placeholder=l,S1(re,e,i)}function nl(e){var i=Qe[e];return function(o,l){if(o=Ht(o),l=l==null?0:at(he(l),292),l&&Sp(o)){var f=(Ae(o)+"e").split("e"),m=i(f[0]+"e"+(+f[1]+l));return f=(Ae(m)+"e").split("e"),+(f[0]+"e"+(+f[1]-l))}return i(o)}}var d4=Vr&&1/Xs(new Vr([,-0]))[1]==Oe?function(e){return new Vr(e)}:Il;function u1(e){return function(i){var o=ct(i);return o==St?Oc(i):o==Tt?k3(i):_3(i,e(i))}}function vn(e,i,o,l,f,m,_,I){var C=i&D;if(!C&&typeof e!="function")throw new Nt(u);var N=l?l.length:0;if(N||(i&=-97,l=f=r),_=_===r?_:et(he(_),0),I=I===r?I:he(I),N-=f?f.length:0,i&J){var j=l,U=f;l=f=r}var B=C?r:sl(e),K=[e,i,o,l,f,j,U,m,_,I];if(B&&x4(K,B),e=K[0],i=K[1],o=K[2],l=K[3],f=K[4],I=K[9]=K[9]===r?C?0:e.length:et(K[9]-N,0),!I&&i&(F|z)&&(i&=-25),!i||i==R)var ne=c4(e,i,o);else i==F||i==z?ne=l4(e,i,I):(i==Q||i==(R|Q))&&!f.length?ne=u4(e,i,o,l):ne=vo.apply(r,K);var pe=B?Vp:w1;return S1(pe(ne,K),e,i)}function d1(e,i,o,l){return e===r||Yt(e,Br[o])&&!Re.call(l,o)?i:e}function f1(e,i,o,l,f,m){return He(e)&&He(i)&&(m.set(i,e),ho(e,i,r,f1,m),m.delete(i)),e}function f4(e){return rs(e)?r:e}function h1(e,i,o,l,f,m){var _=o&A,I=e.length,C=i.length;if(I!=C&&!(_&&C>I))return!1;var N=m.get(e),j=m.get(i);if(N&&j)return N==i&&j==e;var U=-1,B=!0,K=o&M?new cr:r;for(m.set(e,i),m.set(i,e);++U<I;){var ne=e[U],pe=i[U];if(l)var re=_?l(pe,ne,U,i,e,m):l(ne,pe,U,e,i,m);if(re!==r){if(re)continue;B=!1;break}if(K){if(!xc(i,function(be,Se){if(!Bi(K,Se)&&(ne===be||f(ne,be,o,l,m)))return K.push(Se)})){B=!1;break}}else if(!(ne===pe||f(ne,pe,o,l,m))){B=!1;break}}return m.delete(e),m.delete(i),B}function h4(e,i,o,l,f,m,_){switch(o){case On:if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case Mn:return!(e.byteLength!=i.byteLength||!m(new eo(e),new eo(i)));case en:case dn:case tn:return Yt(+e,+i);case Rr:return e.name==i.name&&e.message==i.message;case ir:case fn:return e==i+"";case St:var I=Oc;case Tt:var C=l&A;if(I||(I=Xs),e.size!=i.size&&!C)return!1;var N=_.get(e);if(N)return N==i;l|=M,_.set(e,i);var j=h1(I(e),I(i),l,f,m,_);return _.delete(e),j;case Or:if(Xi)return Xi.call(e)==Xi.call(i)}return!1}function p4(e,i,o,l,f,m){var _=o&A,I=rl(e),C=I.length,N=rl(i),j=N.length;if(C!=j&&!_)return!1;for(var U=C;U--;){var B=I[U];if(!(_?B in i:Re.call(i,B)))return!1}var K=m.get(e),ne=m.get(i);if(K&&ne)return K==i&&ne==e;var pe=!0;m.set(e,i),m.set(i,e);for(var re=_;++U<C;){B=I[U];var be=e[B],Se=i[B];if(l)var kt=_?l(Se,be,B,i,e,m):l(be,Se,B,e,i,m);if(!(kt===r?be===Se||f(be,Se,o,l,m):kt)){pe=!1;break}re||(re=B=="constructor")}if(pe&&!re){var ht=e.constructor,At=i.constructor;ht!=At&&"constructor"in e&&"constructor"in i&&!(typeof ht=="function"&&ht instanceof ht&&typeof At=="function"&&At instanceof At)&&(pe=!1)}return m.delete(e),m.delete(i),pe}function yn(e){return dl(b1(e,r,k1),e+"")}function rl(e){return Pp(e,tt,al)}function il(e){return Pp(e,yt,p1)}var sl=oo?function(e){return oo.get(e)}:Il;function wo(e){for(var i=e.name+"",o=$r[i],l=Re.call($r,i)?o.length:0;l--;){var f=o[l],m=f.func;if(m==null||m==e)return f.name}return i}function Zr(e){var i=Re.call(p,"placeholder")?p:e;return i.placeholder}function te(){var e=p.iteratee||Sl;return e=e===Sl?Np:e,arguments.length?e(arguments[0],arguments[1]):e}function So(e,i){var o=e.__data__;return S4(i)?o[typeof i=="string"?"string":"hash"]:o.map}function ol(e){for(var i=tt(e),o=i.length;o--;){var l=i[o],f=e[l];i[o]=[l,f,v1(f)]}return i}function dr(e,i){var o=E3(e,i);return Lp(o)?o:r}function g4(e){var i=Re.call(e,or),o=e[or];try{e[or]=r;var l=!0}catch{}var f=Js.call(e);return l&&(i?e[or]=o:delete e[or]),f}var al=Dc?function(e){return e==null?[]:(e=Pe(e),Dn(Dc(e),function(i){return _p.call(e,i)}))}:El,p1=Dc?function(e){for(var i=[];e;)Ln(i,al(e)),e=to(e);return i}:El,ct=dt;(Lc&&ct(new Lc(new ArrayBuffer(1)))!=On||$i&&ct(new $i)!=St||Nc&&ct(Nc.resolve())!=Mi||Vr&&ct(new Vr)!=Tt||Gi&&ct(new Gi)!=Rn)&&(ct=function(e){var i=dt(e),o=i==Pt?e.constructor:r,l=o?fr(o):"";if(l)switch(l){case q3:return On;case J3:return St;case Q3:return Mi;case ew:return Tt;case tw:return Rn}return i});function m4(e,i,o){for(var l=-1,f=o.length;++l<f;){var m=o[l],_=m.size;switch(m.type){case"drop":e+=_;break;case"dropRight":i-=_;break;case"take":i=at(i,e+_);break;case"takeRight":e=et(e,i-_);break}}return{start:e,end:i}}function v4(e){var i=e.match(pc);return i?i[1].split(S):[]}function g1(e,i,o){i=zn(i,e);for(var l=-1,f=i.length,m=!1;++l<f;){var _=sn(i[l]);if(!(m=e!=null&&o(e,_)))break;e=e[_]}return m||++l!=f?m:(f=e==null?0:e.length,!!f&&Ao(f)&&bn(_,f)&&(ue(e)||hr(e)))}function y4(e){var i=e.length,o=new e.constructor(i);return i&&typeof e[0]=="string"&&Re.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function m1(e){return typeof e.constructor=="function"&&!ts(e)?Gr(to(e)):{}}function b4(e,i,o){var l=e.constructor;switch(i){case Mn:return el(e);case en:case dn:return new l(+e);case On:return n4(e,o);case Pr:case Dr:case Oi:case Pi:case Di:case Li:case Ni:case ji:case Fi:return Jp(e,o);case St:return new l;case tn:case fn:return new l(e);case ir:return r4(e);case Tt:return new l;case Or:return i4(e)}}function _4(e,i){var o=i.length;if(!o)return e;var l=o-1;return i[l]=(o>1?"& ":"")+i[l],i=i.join(o>2?", ":" "),e.replace(hc,`{
/* [wrapped with `+i+`] */
`)}function w4(e){return ue(e)||hr(e)||!!(wp&&e&&e[wp])}function bn(e,i){var o=typeof e;return i=i??Me,!!i&&(o=="number"||o!="symbol"&&Ve.test(e))&&e>-1&&e%1==0&&e<i}function ft(e,i,o){if(!He(o))return!1;var l=typeof i;return(l=="number"?vt(o)&&bn(i,o.length):l=="string"&&i in o)?Yt(o[i],e):!1}function cl(e,i){if(ue(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||Ct(e)?!0:uc.test(e)||!Bs.test(e)||i!=null&&e in Pe(i)}function S4(e){var i=typeof e;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?e!=="__proto__":e===null}function ll(e){var i=wo(e),o=p[i];if(typeof o!="function"||!(i in we.prototype))return!1;if(e===o)return!0;var l=sl(o);return!!l&&e===l[0]}function T4(e){return!!vp&&vp in e}var I4=Ks?_n:xl;function ts(e){var i=e&&e.constructor,o=typeof i=="function"&&i.prototype||Br;return e===o}function v1(e){return e===e&&!He(e)}function y1(e,i){return function(o){return o==null?!1:o[e]===i&&(i!==r||e in Pe(o))}}function E4(e){var i=Co(e,function(l){return o.size===g&&o.clear(),l}),o=i.cache;return i}function x4(e,i){var o=e[1],l=i[1],f=o|l,m=f<(R|D|ee),_=l==ee&&o==F||l==ee&&o==q&&e[7].length<=i[8]||l==(ee|q)&&i[7].length<=i[8]&&o==F;if(!(m||_))return e;l&R&&(e[2]=i[2],f|=o&R?0:P);var I=i[3];if(I){var C=e[3];e[3]=C?e1(C,I,i[4]):I,e[4]=C?Nn(e[3],y):i[4]}return I=i[5],I&&(C=e[5],e[5]=C?t1(C,I,i[6]):I,e[6]=C?Nn(e[5],y):i[6]),I=i[7],I&&(e[7]=I),l&ee&&(e[8]=e[8]==null?i[8]:at(e[8],i[8])),e[9]==null&&(e[9]=i[9]),e[0]=i[0],e[1]=f,e}function C4(e){var i=[];if(e!=null)for(var o in Pe(e))i.push(o);return i}function k4(e){return Js.call(e)}function b1(e,i,o){return i=et(i===r?e.length-1:i,0),function(){for(var l=arguments,f=-1,m=et(l.length-i,0),_=O(m);++f<m;)_[f]=l[i+f];f=-1;for(var I=O(i+1);++f<i;)I[f]=l[f];return I[i]=o(_),It(e,this,I)}}function _1(e,i){return i.length<2?e:ur(e,Ut(i,0,-1))}function A4(e,i){for(var o=e.length,l=at(i.length,o),f=mt(e);l--;){var m=i[l];e[l]=bn(m,o)?f[m]:r}return e}function ul(e,i){if(!(i==="constructor"&&typeof e[i]=="function")&&i!="__proto__")return e[i]}var w1=T1(Vp),ns=V3||function(e,i){return it.setTimeout(e,i)},dl=T1(Jw);function S1(e,i,o){var l=i+"";return dl(e,_4(l,R4(v4(l),o)))}function T1(e){var i=0,o=0;return function(){var l=X3(),f=de-(l-o);if(o=l,f>0){if(++i>=X)return arguments[0]}else i=0;return e.apply(r,arguments)}}function To(e,i){var o=-1,l=e.length,f=l-1;for(i=i===r?l:i;++o<i;){var m=Yc(o,f),_=e[m];e[m]=e[o],e[o]=_}return e.length=i,e}var I1=E4(function(e){var i=[];return e.charCodeAt(0)===46&&i.push(""),e.replace(dc,function(o,l,f,m){i.push(f?m.replace(ae,"$1"):l||o)}),i});function sn(e){if(typeof e=="string"||Ct(e))return e;var i=e+"";return i=="0"&&1/e==-1/0?"-0":i}function fr(e){if(e!=null){try{return qs.call(e)}catch{}try{return e+""}catch{}}return""}function R4(e,i){return Lt(Ai,function(o){var l="_."+o[0];i&o[1]&&!Gs(e,l)&&e.push(l)}),e.sort()}function E1(e){if(e instanceof we)return e.clone();var i=new jt(e.__wrapped__,e.__chain__);return i.__actions__=mt(e.__actions__),i.__index__=e.__index__,i.__values__=e.__values__,i}function M4(e,i,o){(o?ft(e,i,o):i===r)?i=1:i=et(he(i),0);var l=e==null?0:e.length;if(!l||i<1)return[];for(var f=0,m=0,_=O(io(l/i));f<l;)_[m++]=Ut(e,f,f+=i);return _}function O4(e){for(var i=-1,o=e==null?0:e.length,l=0,f=[];++i<o;){var m=e[i];m&&(f[l++]=m)}return f}function P4(){var e=arguments.length;if(!e)return[];for(var i=O(e-1),o=arguments[0],l=e;l--;)i[l-1]=arguments[l];return Ln(ue(o)?mt(o):[o],st(i,1))}var D4=ge(function(e,i){return Ye(e)?Ki(e,st(i,1,Ye,!0)):[]}),L4=ge(function(e,i){var o=zt(i);return Ye(o)&&(o=r),Ye(e)?Ki(e,st(i,1,Ye,!0),te(o,2)):[]}),N4=ge(function(e,i){var o=zt(i);return Ye(o)&&(o=r),Ye(e)?Ki(e,st(i,1,Ye,!0),r,o):[]});function j4(e,i,o){var l=e==null?0:e.length;return l?(i=o||i===r?1:he(i),Ut(e,i<0?0:i,l)):[]}function F4(e,i,o){var l=e==null?0:e.length;return l?(i=o||i===r?1:he(i),i=l-i,Ut(e,0,i<0?0:i)):[]}function U4(e,i){return e&&e.length?go(e,te(i,3),!0,!0):[]}function z4(e,i){return e&&e.length?go(e,te(i,3),!0):[]}function H4(e,i,o,l){var f=e==null?0:e.length;return f?(o&&typeof o!="number"&&ft(e,i,o)&&(o=0,l=f),Pw(e,i,o,l)):[]}function x1(e,i,o){var l=e==null?0:e.length;if(!l)return-1;var f=o==null?0:he(o);return f<0&&(f=et(l+f,0)),Ys(e,te(i,3),f)}function C1(e,i,o){var l=e==null?0:e.length;if(!l)return-1;var f=l-1;return o!==r&&(f=he(o),f=o<0?et(l+f,0):at(f,l-1)),Ys(e,te(i,3),f,!0)}function k1(e){var i=e==null?0:e.length;return i?st(e,1):[]}function W4(e){var i=e==null?0:e.length;return i?st(e,Oe):[]}function B4(e,i){var o=e==null?0:e.length;return o?(i=i===r?1:he(i),st(e,i)):[]}function V4(e){for(var i=-1,o=e==null?0:e.length,l={};++i<o;){var f=e[i];l[f[0]]=f[1]}return l}function A1(e){return e&&e.length?e[0]:r}function $4(e,i,o){var l=e==null?0:e.length;if(!l)return-1;var f=o==null?0:he(o);return f<0&&(f=et(l+f,0)),Ur(e,i,f)}function G4(e){var i=e==null?0:e.length;return i?Ut(e,0,-1):[]}var Y4=ge(function(e){var i=Ue(e,Jc);return i.length&&i[0]===e[0]?Wc(i):[]}),X4=ge(function(e){var i=zt(e),o=Ue(e,Jc);return i===zt(o)?i=r:o.pop(),o.length&&o[0]===e[0]?Wc(o,te(i,2)):[]}),Z4=ge(function(e){var i=zt(e),o=Ue(e,Jc);return i=typeof i=="function"?i:r,i&&o.pop(),o.length&&o[0]===e[0]?Wc(o,r,i):[]});function K4(e,i){return e==null?"":G3.call(e,i)}function zt(e){var i=e==null?0:e.length;return i?e[i-1]:r}function q4(e,i,o){var l=e==null?0:e.length;if(!l)return-1;var f=l;return o!==r&&(f=he(o),f=f<0?et(l+f,0):at(f,l-1)),i===i?R3(e,i,f):Ys(e,lp,f,!0)}function J4(e,i){return e&&e.length?zp(e,he(i)):r}var Q4=ge(R1);function R1(e,i){return e&&e.length&&i&&i.length?Gc(e,i):e}function eS(e,i,o){return e&&e.length&&i&&i.length?Gc(e,i,te(o,2)):e}function tS(e,i,o){return e&&e.length&&i&&i.length?Gc(e,i,r,o):e}var nS=yn(function(e,i){var o=e==null?0:e.length,l=Fc(e,i);return Bp(e,Ue(i,function(f){return bn(f,o)?+f:f}).sort(Qp)),l});function rS(e,i){var o=[];if(!(e&&e.length))return o;var l=-1,f=[],m=e.length;for(i=te(i,3);++l<m;){var _=e[l];i(_,l,e)&&(o.push(_),f.push(l))}return Bp(e,f),o}function fl(e){return e==null?e:K3.call(e)}function iS(e,i,o){var l=e==null?0:e.length;return l?(o&&typeof o!="number"&&ft(e,i,o)?(i=0,o=l):(i=i==null?0:he(i),o=o===r?l:he(o)),Ut(e,i,o)):[]}function sS(e,i){return po(e,i)}function oS(e,i,o){return Zc(e,i,te(o,2))}function aS(e,i){var o=e==null?0:e.length;if(o){var l=po(e,i);if(l<o&&Yt(e[l],i))return l}return-1}function cS(e,i){return po(e,i,!0)}function lS(e,i,o){return Zc(e,i,te(o,2),!0)}function uS(e,i){var o=e==null?0:e.length;if(o){var l=po(e,i,!0)-1;if(Yt(e[l],i))return l}return-1}function dS(e){return e&&e.length?$p(e):[]}function fS(e,i){return e&&e.length?$p(e,te(i,2)):[]}function hS(e){var i=e==null?0:e.length;return i?Ut(e,1,i):[]}function pS(e,i,o){return e&&e.length?(i=o||i===r?1:he(i),Ut(e,0,i<0?0:i)):[]}function gS(e,i,o){var l=e==null?0:e.length;return l?(i=o||i===r?1:he(i),i=l-i,Ut(e,i<0?0:i,l)):[]}function mS(e,i){return e&&e.length?go(e,te(i,3),!1,!0):[]}function vS(e,i){return e&&e.length?go(e,te(i,3)):[]}var yS=ge(function(e){return Un(st(e,1,Ye,!0))}),bS=ge(function(e){var i=zt(e);return Ye(i)&&(i=r),Un(st(e,1,Ye,!0),te(i,2))}),_S=ge(function(e){var i=zt(e);return i=typeof i=="function"?i:r,Un(st(e,1,Ye,!0),r,i)});function wS(e){return e&&e.length?Un(e):[]}function SS(e,i){return e&&e.length?Un(e,te(i,2)):[]}function TS(e,i){return i=typeof i=="function"?i:r,e&&e.length?Un(e,r,i):[]}function hl(e){if(!(e&&e.length))return[];var i=0;return e=Dn(e,function(o){if(Ye(o))return i=et(o.length,i),!0}),Rc(i,function(o){return Ue(e,Cc(o))})}function M1(e,i){if(!(e&&e.length))return[];var o=hl(e);return i==null?o:Ue(o,function(l){return It(i,r,l)})}var IS=ge(function(e,i){return Ye(e)?Ki(e,i):[]}),ES=ge(function(e){return qc(Dn(e,Ye))}),xS=ge(function(e){var i=zt(e);return Ye(i)&&(i=r),qc(Dn(e,Ye),te(i,2))}),CS=ge(function(e){var i=zt(e);return i=typeof i=="function"?i:r,qc(Dn(e,Ye),r,i)}),kS=ge(hl);function AS(e,i){return Zp(e||[],i||[],Zi)}function RS(e,i){return Zp(e||[],i||[],Qi)}var MS=ge(function(e){var i=e.length,o=i>1?e[i-1]:r;return o=typeof o=="function"?(e.pop(),o):r,M1(e,o)});function O1(e){var i=p(e);return i.__chain__=!0,i}function OS(e,i){return i(e),e}function Io(e,i){return i(e)}var PS=yn(function(e){var i=e.length,o=i?e[0]:0,l=this.__wrapped__,f=function(m){return Fc(m,e)};return i>1||this.__actions__.length||!(l instanceof we)||!bn(o)?this.thru(f):(l=l.slice(o,+o+(i?1:0)),l.__actions__.push({func:Io,args:[f],thisArg:r}),new jt(l,this.__chain__).thru(function(m){return i&&!m.length&&m.push(r),m}))});function DS(){return O1(this)}function LS(){return new jt(this.value(),this.__chain__)}function NS(){this.__values__===r&&(this.__values__=G1(this.value()));var e=this.__index__>=this.__values__.length,i=e?r:this.__values__[this.__index__++];return{done:e,value:i}}function jS(){return this}function FS(e){for(var i,o=this;o instanceof co;){var l=E1(o);l.__index__=0,l.__values__=r,i?f.__wrapped__=l:i=l;var f=l;o=o.__wrapped__}return f.__wrapped__=e,i}function US(){var e=this.__wrapped__;if(e instanceof we){var i=e;return this.__actions__.length&&(i=new we(this)),i=i.reverse(),i.__actions__.push({func:Io,args:[fl],thisArg:r}),new jt(i,this.__chain__)}return this.thru(fl)}function zS(){return Xp(this.__wrapped__,this.__actions__)}var HS=mo(function(e,i,o){Re.call(e,o)?++e[o]:mn(e,o,1)});function WS(e,i,o){var l=ue(e)?ap:Ow;return o&&ft(e,i,o)&&(i=r),l(e,te(i,3))}function BS(e,i){var o=ue(e)?Dn:Mp;return o(e,te(i,3))}var VS=s1(x1),$S=s1(C1);function GS(e,i){return st(Eo(e,i),1)}function YS(e,i){return st(Eo(e,i),Oe)}function XS(e,i,o){return o=o===r?1:he(o),st(Eo(e,i),o)}function P1(e,i){var o=ue(e)?Lt:Fn;return o(e,te(i,3))}function D1(e,i){var o=ue(e)?h3:Rp;return o(e,te(i,3))}var ZS=mo(function(e,i,o){Re.call(e,o)?e[o].push(i):mn(e,o,[i])});function KS(e,i,o,l){e=vt(e)?e:qr(e),o=o&&!l?he(o):0;var f=e.length;return o<0&&(o=et(f+o,0)),Ro(e)?o<=f&&e.indexOf(i,o)>-1:!!f&&Ur(e,i,o)>-1}var qS=ge(function(e,i,o){var l=-1,f=typeof i=="function",m=vt(e)?O(e.length):[];return Fn(e,function(_){m[++l]=f?It(i,_,o):qi(_,i,o)}),m}),JS=mo(function(e,i,o){mn(e,o,i)});function Eo(e,i){var o=ue(e)?Ue:jp;return o(e,te(i,3))}function QS(e,i,o,l){return e==null?[]:(ue(i)||(i=i==null?[]:[i]),o=l?r:o,ue(o)||(o=o==null?[]:[o]),Hp(e,i,o))}var e6=mo(function(e,i,o){e[o?0:1].push(i)},function(){return[[],[]]});function t6(e,i,o){var l=ue(e)?Ec:dp,f=arguments.length<3;return l(e,te(i,4),o,f,Fn)}function n6(e,i,o){var l=ue(e)?p3:dp,f=arguments.length<3;return l(e,te(i,4),o,f,Rp)}function r6(e,i){var o=ue(e)?Dn:Mp;return o(e,ko(te(i,3)))}function i6(e){var i=ue(e)?xp:Kw;return i(e)}function s6(e,i,o){(o?ft(e,i,o):i===r)?i=1:i=he(i);var l=ue(e)?Cw:qw;return l(e,i)}function o6(e){var i=ue(e)?kw:Qw;return i(e)}function a6(e){if(e==null)return 0;if(vt(e))return Ro(e)?Hr(e):e.length;var i=ct(e);return i==St||i==Tt?e.size:Vc(e).length}function c6(e,i,o){var l=ue(e)?xc:e4;return o&&ft(e,i,o)&&(i=r),l(e,te(i,3))}var l6=ge(function(e,i){if(e==null)return[];var o=i.length;return o>1&&ft(e,i[0],i[1])?i=[]:o>2&&ft(i[0],i[1],i[2])&&(i=[i[0]]),Hp(e,st(i,1),[])}),xo=B3||function(){return it.Date.now()};function u6(e,i){if(typeof i!="function")throw new Nt(u);return e=he(e),function(){if(--e<1)return i.apply(this,arguments)}}function L1(e,i,o){return i=o?r:i,i=e&&i==null?e.length:i,vn(e,ee,r,r,r,r,i)}function N1(e,i){var o;if(typeof i!="function")throw new Nt(u);return e=he(e),function(){return--e>0&&(o=i.apply(this,arguments)),e<=1&&(i=r),o}}var pl=ge(function(e,i,o){var l=R;if(o.length){var f=Nn(o,Zr(pl));l|=Q}return vn(e,l,i,o,f)}),j1=ge(function(e,i,o){var l=R|D;if(o.length){var f=Nn(o,Zr(j1));l|=Q}return vn(i,l,e,o,f)});function F1(e,i,o){i=o?r:i;var l=vn(e,F,r,r,r,r,r,i);return l.placeholder=F1.placeholder,l}function U1(e,i,o){i=o?r:i;var l=vn(e,z,r,r,r,r,r,i);return l.placeholder=U1.placeholder,l}function z1(e,i,o){var l,f,m,_,I,C,N=0,j=!1,U=!1,B=!0;if(typeof e!="function")throw new Nt(u);i=Ht(i)||0,He(o)&&(j=!!o.leading,U="maxWait"in o,m=U?et(Ht(o.maxWait)||0,i):m,B="trailing"in o?!!o.trailing:B);function K(Xe){var Xt=l,Sn=f;return l=f=r,N=Xe,_=e.apply(Sn,Xt),_}function ne(Xe){return N=Xe,I=ns(be,i),j?K(Xe):_}function pe(Xe){var Xt=Xe-C,Sn=Xe-N,sg=i-Xt;return U?at(sg,m-Sn):sg}function re(Xe){var Xt=Xe-C,Sn=Xe-N;return C===r||Xt>=i||Xt<0||U&&Sn>=m}function be(){var Xe=xo();if(re(Xe))return Se(Xe);I=ns(be,pe(Xe))}function Se(Xe){return I=r,B&&l?K(Xe):(l=f=r,_)}function kt(){I!==r&&Kp(I),N=0,l=C=f=I=r}function ht(){return I===r?_:Se(xo())}function At(){var Xe=xo(),Xt=re(Xe);if(l=arguments,f=this,C=Xe,Xt){if(I===r)return ne(C);if(U)return Kp(I),I=ns(be,i),K(C)}return I===r&&(I=ns(be,i)),_}return At.cancel=kt,At.flush=ht,At}var d6=ge(function(e,i){return Ap(e,1,i)}),f6=ge(function(e,i,o){return Ap(e,Ht(i)||0,o)});function h6(e){return vn(e,Z)}function Co(e,i){if(typeof e!="function"||i!=null&&typeof i!="function")throw new Nt(u);var o=function(){var l=arguments,f=i?i.apply(this,l):l[0],m=o.cache;if(m.has(f))return m.get(f);var _=e.apply(this,l);return o.cache=m.set(f,_)||m,_};return o.cache=new(Co.Cache||gn),o}Co.Cache=gn;function ko(e){if(typeof e!="function")throw new Nt(u);return function(){var i=arguments;switch(i.length){case 0:return!e.call(this);case 1:return!e.call(this,i[0]);case 2:return!e.call(this,i[0],i[1]);case 3:return!e.call(this,i[0],i[1],i[2])}return!e.apply(this,i)}}function p6(e){return N1(2,e)}var g6=t4(function(e,i){i=i.length==1&&ue(i[0])?Ue(i[0],Et(te())):Ue(st(i,1),Et(te()));var o=i.length;return ge(function(l){for(var f=-1,m=at(l.length,o);++f<m;)l[f]=i[f].call(this,l[f]);return It(e,this,l)})}),gl=ge(function(e,i){var o=Nn(i,Zr(gl));return vn(e,Q,r,i,o)}),H1=ge(function(e,i){var o=Nn(i,Zr(H1));return vn(e,J,r,i,o)}),m6=yn(function(e,i){return vn(e,q,r,r,r,i)});function v6(e,i){if(typeof e!="function")throw new Nt(u);return i=i===r?i:he(i),ge(e,i)}function y6(e,i){if(typeof e!="function")throw new Nt(u);return i=i==null?0:et(he(i),0),ge(function(o){var l=o[i],f=Hn(o,0,i);return l&&Ln(f,l),It(e,this,f)})}function b6(e,i,o){var l=!0,f=!0;if(typeof e!="function")throw new Nt(u);return He(o)&&(l="leading"in o?!!o.leading:l,f="trailing"in o?!!o.trailing:f),z1(e,i,{leading:l,maxWait:i,trailing:f})}function _6(e){return L1(e,1)}function w6(e,i){return gl(Qc(i),e)}function S6(){if(!arguments.length)return[];var e=arguments[0];return ue(e)?e:[e]}function T6(e){return Ft(e,x)}function I6(e,i){return i=typeof i=="function"?i:r,Ft(e,x,i)}function E6(e){return Ft(e,w|x)}function x6(e,i){return i=typeof i=="function"?i:r,Ft(e,w|x,i)}function C6(e,i){return i==null||kp(e,i,tt(i))}function Yt(e,i){return e===i||e!==e&&i!==i}var k6=_o(Hc),A6=_o(function(e,i){return e>=i}),hr=Dp(function(){return arguments}())?Dp:function(e){return $e(e)&&Re.call(e,"callee")&&!_p.call(e,"callee")},ue=O.isArray,R6=tp?Et(tp):Fw;function vt(e){return e!=null&&Ao(e.length)&&!_n(e)}function Ye(e){return $e(e)&&vt(e)}function M6(e){return e===!0||e===!1||$e(e)&&dt(e)==en}var Wn=$3||xl,O6=np?Et(np):Uw;function P6(e){return $e(e)&&e.nodeType===1&&!rs(e)}function D6(e){if(e==null)return!0;if(vt(e)&&(ue(e)||typeof e=="string"||typeof e.splice=="function"||Wn(e)||Kr(e)||hr(e)))return!e.length;var i=ct(e);if(i==St||i==Tt)return!e.size;if(ts(e))return!Vc(e).length;for(var o in e)if(Re.call(e,o))return!1;return!0}function L6(e,i){return Ji(e,i)}function N6(e,i,o){o=typeof o=="function"?o:r;var l=o?o(e,i):r;return l===r?Ji(e,i,r,o):!!l}function ml(e){if(!$e(e))return!1;var i=dt(e);return i==Rr||i==Ar||typeof e.message=="string"&&typeof e.name=="string"&&!rs(e)}function j6(e){return typeof e=="number"&&Sp(e)}function _n(e){if(!He(e))return!1;var i=dt(e);return i==nr||i==Fs||i==Ri||i==Mr}function W1(e){return typeof e=="number"&&e==he(e)}function Ao(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Me}function He(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}function $e(e){return e!=null&&typeof e=="object"}var B1=rp?Et(rp):Hw;function F6(e,i){return e===i||Bc(e,i,ol(i))}function U6(e,i,o){return o=typeof o=="function"?o:r,Bc(e,i,ol(i),o)}function z6(e){return V1(e)&&e!=+e}function H6(e){if(I4(e))throw new le(c);return Lp(e)}function W6(e){return e===null}function B6(e){return e==null}function V1(e){return typeof e=="number"||$e(e)&&dt(e)==tn}function rs(e){if(!$e(e)||dt(e)!=Pt)return!1;var i=to(e);if(i===null)return!0;var o=Re.call(i,"constructor")&&i.constructor;return typeof o=="function"&&o instanceof o&&qs.call(o)==U3}var vl=ip?Et(ip):Ww;function V6(e){return W1(e)&&e>=-9007199254740991&&e<=Me}var $1=sp?Et(sp):Bw;function Ro(e){return typeof e=="string"||!ue(e)&&$e(e)&&dt(e)==fn}function Ct(e){return typeof e=="symbol"||$e(e)&&dt(e)==Or}var Kr=op?Et(op):Vw;function $6(e){return e===r}function G6(e){return $e(e)&&ct(e)==Rn}function Y6(e){return $e(e)&&dt(e)==Us}var X6=_o($c),Z6=_o(function(e,i){return e<=i});function G1(e){if(!e)return[];if(vt(e))return Ro(e)?$t(e):mt(e);if(Vi&&e[Vi])return C3(e[Vi]());var i=ct(e),o=i==St?Oc:i==Tt?Xs:qr;return o(e)}function wn(e){if(!e)return e===0?e:0;if(e=Ht(e),e===Oe||e===-1/0){var i=e<0?-1:1;return i*Ze}return e===e?e:0}function he(e){var i=wn(e),o=i%1;return i===i?o?i-o:i:0}function Y1(e){return e?lr(he(e),0,ce):0}function Ht(e){if(typeof e=="number")return e;if(Ct(e))return pt;if(He(e)){var i=typeof e.valueOf=="function"?e.valueOf():e;e=He(i)?i+"":i}if(typeof e!="string")return e===0?e:+e;e=fp(e);var o=me.test(e);return o||ze.test(e)?u3(e.slice(2),o?2:8):_e.test(e)?pt:+e}function X1(e){return rn(e,yt(e))}function K6(e){return e?lr(he(e),-9007199254740991,Me):e===0?e:0}function Ae(e){return e==null?"":xt(e)}var q6=Yr(function(e,i){if(ts(i)||vt(i)){rn(i,tt(i),e);return}for(var o in i)Re.call(i,o)&&Zi(e,o,i[o])}),Z1=Yr(function(e,i){rn(i,yt(i),e)}),Mo=Yr(function(e,i,o,l){rn(i,yt(i),e,l)}),J6=Yr(function(e,i,o,l){rn(i,tt(i),e,l)}),Q6=yn(Fc);function eT(e,i){var o=Gr(e);return i==null?o:Cp(o,i)}var tT=ge(function(e,i){e=Pe(e);var o=-1,l=i.length,f=l>2?i[2]:r;for(f&&ft(i[0],i[1],f)&&(l=1);++o<l;)for(var m=i[o],_=yt(m),I=-1,C=_.length;++I<C;){var N=_[I],j=e[N];(j===r||Yt(j,Br[N])&&!Re.call(e,N))&&(e[N]=m[N])}return e}),nT=ge(function(e){return e.push(r,f1),It(K1,r,e)});function rT(e,i){return cp(e,te(i,3),nn)}function iT(e,i){return cp(e,te(i,3),zc)}function sT(e,i){return e==null?e:Uc(e,te(i,3),yt)}function oT(e,i){return e==null?e:Op(e,te(i,3),yt)}function aT(e,i){return e&&nn(e,te(i,3))}function cT(e,i){return e&&zc(e,te(i,3))}function lT(e){return e==null?[]:fo(e,tt(e))}function uT(e){return e==null?[]:fo(e,yt(e))}function yl(e,i,o){var l=e==null?r:ur(e,i);return l===r?o:l}function dT(e,i){return e!=null&&g1(e,i,Dw)}function bl(e,i){return e!=null&&g1(e,i,Lw)}var fT=a1(function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=Js.call(i)),e[i]=o},wl(bt)),hT=a1(function(e,i,o){i!=null&&typeof i.toString!="function"&&(i=Js.call(i)),Re.call(e,i)?e[i].push(o):e[i]=[o]},te),pT=ge(qi);function tt(e){return vt(e)?Ep(e):Vc(e)}function yt(e){return vt(e)?Ep(e,!0):$w(e)}function gT(e,i){var o={};return i=te(i,3),nn(e,function(l,f,m){mn(o,i(l,f,m),l)}),o}function mT(e,i){var o={};return i=te(i,3),nn(e,function(l,f,m){mn(o,f,i(l,f,m))}),o}var vT=Yr(function(e,i,o){ho(e,i,o)}),K1=Yr(function(e,i,o,l){ho(e,i,o,l)}),yT=yn(function(e,i){var o={};if(e==null)return o;var l=!1;i=Ue(i,function(m){return m=zn(m,e),l||(l=m.length>1),m}),rn(e,il(e),o),l&&(o=Ft(o,w|T|x,f4));for(var f=i.length;f--;)Kc(o,i[f]);return o});function bT(e,i){return q1(e,ko(te(i)))}var _T=yn(function(e,i){return e==null?{}:Yw(e,i)});function q1(e,i){if(e==null)return{};var o=Ue(il(e),function(l){return[l]});return i=te(i),Wp(e,o,function(l,f){return i(l,f[0])})}function wT(e,i,o){i=zn(i,e);var l=-1,f=i.length;for(f||(f=1,e=r);++l<f;){var m=e==null?r:e[sn(i[l])];m===r&&(l=f,m=o),e=_n(m)?m.call(e):m}return e}function ST(e,i,o){return e==null?e:Qi(e,i,o)}function TT(e,i,o,l){return l=typeof l=="function"?l:r,e==null?e:Qi(e,i,o,l)}var J1=u1(tt),Q1=u1(yt);function IT(e,i,o){var l=ue(e),f=l||Wn(e)||Kr(e);if(i=te(i,4),o==null){var m=e&&e.constructor;f?o=l?new m:[]:He(e)?o=_n(m)?Gr(to(e)):{}:o={}}return(f?Lt:nn)(e,function(_,I,C){return i(o,_,I,C)}),o}function ET(e,i){return e==null?!0:Kc(e,i)}function xT(e,i,o){return e==null?e:Yp(e,i,Qc(o))}function CT(e,i,o,l){return l=typeof l=="function"?l:r,e==null?e:Yp(e,i,Qc(o),l)}function qr(e){return e==null?[]:Mc(e,tt(e))}function kT(e){return e==null?[]:Mc(e,yt(e))}function AT(e,i,o){return o===r&&(o=i,i=r),o!==r&&(o=Ht(o),o=o===o?o:0),i!==r&&(i=Ht(i),i=i===i?i:0),lr(Ht(e),i,o)}function RT(e,i,o){return i=wn(i),o===r?(o=i,i=0):o=wn(o),e=Ht(e),Nw(e,i,o)}function MT(e,i,o){if(o&&typeof o!="boolean"&&ft(e,i,o)&&(i=o=r),o===r&&(typeof i=="boolean"?(o=i,i=r):typeof e=="boolean"&&(o=e,e=r)),e===r&&i===r?(e=0,i=1):(e=wn(e),i===r?(i=e,e=0):i=wn(i)),e>i){var l=e;e=i,i=l}if(o||e%1||i%1){var f=Tp();return at(e+f*(i-e+l3("1e-"+((f+"").length-1))),i)}return Yc(e,i)}var OT=Xr(function(e,i,o){return i=i.toLowerCase(),e+(o?eg(i):i)});function eg(e){return _l(Ae(e).toLowerCase())}function tg(e){return e=Ae(e),e&&e.replace(gt,S3).replace(Q_,"")}function PT(e,i,o){e=Ae(e),i=xt(i);var l=e.length;o=o===r?l:lr(he(o),0,l);var f=o;return o-=i.length,o>=0&&e.slice(o,f)==i}function DT(e){return e=Ae(e),e&&cc.test(e)?e.replace(Nr,T3):e}function LT(e){return e=Ae(e),e&&Vs.test(e)?e.replace(jr,"\\$&"):e}var NT=Xr(function(e,i,o){return e+(o?"-":"")+i.toLowerCase()}),jT=Xr(function(e,i,o){return e+(o?" ":"")+i.toLowerCase()}),FT=i1("toLowerCase");function UT(e,i,o){e=Ae(e),i=he(i);var l=i?Hr(e):0;if(!i||l>=i)return e;var f=(i-l)/2;return bo(so(f),o)+e+bo(io(f),o)}function zT(e,i,o){e=Ae(e),i=he(i);var l=i?Hr(e):0;return i&&l<i?e+bo(i-l,o):e}function HT(e,i,o){e=Ae(e),i=he(i);var l=i?Hr(e):0;return i&&l<i?bo(i-l,o)+e:e}function WT(e,i,o){return o||i==null?i=0:i&&(i=+i),Z3(Ae(e).replace(Hi,""),i||0)}function BT(e,i,o){return(o?ft(e,i,o):i===r)?i=1:i=he(i),Xc(Ae(e),i)}function VT(){var e=arguments,i=Ae(e[0]);return e.length<3?i:i.replace(e[1],e[2])}var $T=Xr(function(e,i,o){return e+(o?"_":"")+i.toLowerCase()});function GT(e,i,o){return o&&typeof o!="number"&&ft(e,i,o)&&(i=o=r),o=o===r?ce:o>>>0,o?(e=Ae(e),e&&(typeof i=="string"||i!=null&&!vl(i))&&(i=xt(i),!i&&zr(e))?Hn($t(e),0,o):e.split(i,o)):[]}var YT=Xr(function(e,i,o){return e+(o?" ":"")+_l(i)});function XT(e,i,o){return e=Ae(e),o=o==null?0:lr(he(o),0,e.length),i=xt(i),e.slice(o,o+i.length)==i}function ZT(e,i,o){var l=p.templateSettings;o&&ft(e,i,o)&&(i=r),e=Ae(e),i=Mo({},i,l,d1);var f=Mo({},i.imports,l.imports,d1),m=tt(f),_=Mc(f,m),I,C,N=0,j=i.interpolate||Vt,U="__p += '",B=Pc((i.escape||Vt).source+"|"+j.source+"|"+(j===zi?Ie:Vt).source+"|"+(i.evaluate||Vt).source+"|$","g"),K="//# sourceURL="+(Re.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++i3+"]")+`
`;e.replace(B,function(re,be,Se,kt,ht,At){return Se||(Se=kt),U+=e.slice(N,At).replace(hn,I3),be&&(I=!0,U+=`' +
__e(`+be+`) +
'`),ht&&(C=!0,U+=`';
`+ht+`;
__p += '`),Se&&(U+=`' +
((__t = (`+Se+`)) == null ? '' : __t) +
'`),N=At+re.length,re}),U+=`';
`;var ne=Re.call(i,"variable")&&i.variable;if(!ne)U=`with (obj) {
`+U+`
}
`;else if(G.test(ne))throw new le(d);U=(C?U.replace(Ui,""):U).replace(zs,"$1").replace(Pn,"$1;"),U="function("+(ne||"obj")+`) {
`+(ne?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(C?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+U+`return __p
}`;var pe=rg(function(){return Ce(m,K+"return "+U).apply(r,_)});if(pe.source=U,ml(pe))throw pe;return pe}function KT(e){return Ae(e).toLowerCase()}function qT(e){return Ae(e).toUpperCase()}function JT(e,i,o){if(e=Ae(e),e&&(o||i===r))return fp(e);if(!e||!(i=xt(i)))return e;var l=$t(e),f=$t(i),m=hp(l,f),_=pp(l,f)+1;return Hn(l,m,_).join("")}function QT(e,i,o){if(e=Ae(e),e&&(o||i===r))return e.slice(0,mp(e)+1);if(!e||!(i=xt(i)))return e;var l=$t(e),f=pp(l,$t(i))+1;return Hn(l,0,f).join("")}function e7(e,i,o){if(e=Ae(e),e&&(o||i===r))return e.replace(Hi,"");if(!e||!(i=xt(i)))return e;var l=$t(e),f=hp(l,$t(i));return Hn(l,f).join("")}function t7(e,i){var o=ie,l=oe;if(He(i)){var f="separator"in i?i.separator:f;o="length"in i?he(i.length):o,l="omission"in i?xt(i.omission):l}e=Ae(e);var m=e.length;if(zr(e)){var _=$t(e);m=_.length}if(o>=m)return e;var I=o-Hr(l);if(I<1)return l;var C=_?Hn(_,0,I).join(""):e.slice(0,I);if(f===r)return C+l;if(_&&(I+=C.length-I),vl(f)){if(e.slice(I).search(f)){var N,j=C;for(f.global||(f=Pc(f.source,Ae(ke.exec(f))+"g")),f.lastIndex=0;N=f.exec(j);)var U=N.index;C=C.slice(0,U===r?I:U)}}else if(e.indexOf(xt(f),I)!=I){var B=C.lastIndexOf(f);B>-1&&(C=C.slice(0,B))}return C+l}function n7(e){return e=Ae(e),e&&Hs.test(e)?e.replace(Lr,M3):e}var r7=Xr(function(e,i,o){return e+(o?" ":"")+i.toUpperCase()}),_l=i1("toUpperCase");function ng(e,i,o){return e=Ae(e),i=o?r:i,i===r?x3(e)?D3(e):v3(e):e.match(i)||[]}var rg=ge(function(e,i){try{return It(e,r,i)}catch(o){return ml(o)?o:new le(o)}}),i7=yn(function(e,i){return Lt(i,function(o){o=sn(o),mn(e,o,pl(e[o],e))}),e});function s7(e){var i=e==null?0:e.length,o=te();return e=i?Ue(e,function(l){if(typeof l[1]!="function")throw new Nt(u);return[o(l[0]),l[1]]}):[],ge(function(l){for(var f=-1;++f<i;){var m=e[f];if(It(m[0],this,l))return It(m[1],this,l)}})}function o7(e){return Mw(Ft(e,w))}function wl(e){return function(){return e}}function a7(e,i){return e==null||e!==e?i:e}var c7=o1(),l7=o1(!0);function bt(e){return e}function Sl(e){return Np(typeof e=="function"?e:Ft(e,w))}function u7(e){return Fp(Ft(e,w))}function d7(e,i){return Up(e,Ft(i,w))}var f7=ge(function(e,i){return function(o){return qi(o,e,i)}}),h7=ge(function(e,i){return function(o){return qi(e,o,i)}});function Tl(e,i,o){var l=tt(i),f=fo(i,l);o==null&&!(He(i)&&(f.length||!l.length))&&(o=i,i=e,e=this,f=fo(i,tt(i)));var m=!(He(o)&&"chain"in o)||!!o.chain,_=_n(e);return Lt(f,function(I){var C=i[I];e[I]=C,_&&(e.prototype[I]=function(){var N=this.__chain__;if(m||N){var j=e(this.__wrapped__),U=j.__actions__=mt(this.__actions__);return U.push({func:C,args:arguments,thisArg:e}),j.__chain__=N,j}return C.apply(e,Ln([this.value()],arguments))})}),e}function p7(){return it._===this&&(it._=z3),this}function Il(){}function g7(e){return e=he(e),ge(function(i){return zp(i,e)})}var m7=tl(Ue),v7=tl(ap),y7=tl(xc);function ig(e){return cl(e)?Cc(sn(e)):Xw(e)}function b7(e){return function(i){return e==null?r:ur(e,i)}}var _7=c1(),w7=c1(!0);function El(){return[]}function xl(){return!1}function S7(){return{}}function T7(){return""}function I7(){return!0}function E7(e,i){if(e=he(e),e<1||e>Me)return[];var o=ce,l=at(e,ce);i=te(i),e-=ce;for(var f=Rc(l,i);++o<e;)i(o);return f}function x7(e){return ue(e)?Ue(e,sn):Ct(e)?[e]:mt(I1(Ae(e)))}function C7(e){var i=++F3;return Ae(e)+i}var k7=yo(function(e,i){return e+i},0),A7=nl("ceil"),R7=yo(function(e,i){return e/i},1),M7=nl("floor");function O7(e){return e&&e.length?uo(e,bt,Hc):r}function P7(e,i){return e&&e.length?uo(e,te(i,2),Hc):r}function D7(e){return up(e,bt)}function L7(e,i){return up(e,te(i,2))}function N7(e){return e&&e.length?uo(e,bt,$c):r}function j7(e,i){return e&&e.length?uo(e,te(i,2),$c):r}var F7=yo(function(e,i){return e*i},1),U7=nl("round"),z7=yo(function(e,i){return e-i},0);function H7(e){return e&&e.length?Ac(e,bt):0}function W7(e,i){return e&&e.length?Ac(e,te(i,2)):0}return p.after=u6,p.ary=L1,p.assign=q6,p.assignIn=Z1,p.assignInWith=Mo,p.assignWith=J6,p.at=Q6,p.before=N1,p.bind=pl,p.bindAll=i7,p.bindKey=j1,p.castArray=S6,p.chain=O1,p.chunk=M4,p.compact=O4,p.concat=P4,p.cond=s7,p.conforms=o7,p.constant=wl,p.countBy=HS,p.create=eT,p.curry=F1,p.curryRight=U1,p.debounce=z1,p.defaults=tT,p.defaultsDeep=nT,p.defer=d6,p.delay=f6,p.difference=D4,p.differenceBy=L4,p.differenceWith=N4,p.drop=j4,p.dropRight=F4,p.dropRightWhile=U4,p.dropWhile=z4,p.fill=H4,p.filter=BS,p.flatMap=GS,p.flatMapDeep=YS,p.flatMapDepth=XS,p.flatten=k1,p.flattenDeep=W4,p.flattenDepth=B4,p.flip=h6,p.flow=c7,p.flowRight=l7,p.fromPairs=V4,p.functions=lT,p.functionsIn=uT,p.groupBy=ZS,p.initial=G4,p.intersection=Y4,p.intersectionBy=X4,p.intersectionWith=Z4,p.invert=fT,p.invertBy=hT,p.invokeMap=qS,p.iteratee=Sl,p.keyBy=JS,p.keys=tt,p.keysIn=yt,p.map=Eo,p.mapKeys=gT,p.mapValues=mT,p.matches=u7,p.matchesProperty=d7,p.memoize=Co,p.merge=vT,p.mergeWith=K1,p.method=f7,p.methodOf=h7,p.mixin=Tl,p.negate=ko,p.nthArg=g7,p.omit=yT,p.omitBy=bT,p.once=p6,p.orderBy=QS,p.over=m7,p.overArgs=g6,p.overEvery=v7,p.overSome=y7,p.partial=gl,p.partialRight=H1,p.partition=e6,p.pick=_T,p.pickBy=q1,p.property=ig,p.propertyOf=b7,p.pull=Q4,p.pullAll=R1,p.pullAllBy=eS,p.pullAllWith=tS,p.pullAt=nS,p.range=_7,p.rangeRight=w7,p.rearg=m6,p.reject=r6,p.remove=rS,p.rest=v6,p.reverse=fl,p.sampleSize=s6,p.set=ST,p.setWith=TT,p.shuffle=o6,p.slice=iS,p.sortBy=l6,p.sortedUniq=dS,p.sortedUniqBy=fS,p.split=GT,p.spread=y6,p.tail=hS,p.take=pS,p.takeRight=gS,p.takeRightWhile=mS,p.takeWhile=vS,p.tap=OS,p.throttle=b6,p.thru=Io,p.toArray=G1,p.toPairs=J1,p.toPairsIn=Q1,p.toPath=x7,p.toPlainObject=X1,p.transform=IT,p.unary=_6,p.union=yS,p.unionBy=bS,p.unionWith=_S,p.uniq=wS,p.uniqBy=SS,p.uniqWith=TS,p.unset=ET,p.unzip=hl,p.unzipWith=M1,p.update=xT,p.updateWith=CT,p.values=qr,p.valuesIn=kT,p.without=IS,p.words=ng,p.wrap=w6,p.xor=ES,p.xorBy=xS,p.xorWith=CS,p.zip=kS,p.zipObject=AS,p.zipObjectDeep=RS,p.zipWith=MS,p.entries=J1,p.entriesIn=Q1,p.extend=Z1,p.extendWith=Mo,Tl(p,p),p.add=k7,p.attempt=rg,p.camelCase=OT,p.capitalize=eg,p.ceil=A7,p.clamp=AT,p.clone=T6,p.cloneDeep=E6,p.cloneDeepWith=x6,p.cloneWith=I6,p.conformsTo=C6,p.deburr=tg,p.defaultTo=a7,p.divide=R7,p.endsWith=PT,p.eq=Yt,p.escape=DT,p.escapeRegExp=LT,p.every=WS,p.find=VS,p.findIndex=x1,p.findKey=rT,p.findLast=$S,p.findLastIndex=C1,p.findLastKey=iT,p.floor=M7,p.forEach=P1,p.forEachRight=D1,p.forIn=sT,p.forInRight=oT,p.forOwn=aT,p.forOwnRight=cT,p.get=yl,p.gt=k6,p.gte=A6,p.has=dT,p.hasIn=bl,p.head=A1,p.identity=bt,p.includes=KS,p.indexOf=$4,p.inRange=RT,p.invoke=pT,p.isArguments=hr,p.isArray=ue,p.isArrayBuffer=R6,p.isArrayLike=vt,p.isArrayLikeObject=Ye,p.isBoolean=M6,p.isBuffer=Wn,p.isDate=O6,p.isElement=P6,p.isEmpty=D6,p.isEqual=L6,p.isEqualWith=N6,p.isError=ml,p.isFinite=j6,p.isFunction=_n,p.isInteger=W1,p.isLength=Ao,p.isMap=B1,p.isMatch=F6,p.isMatchWith=U6,p.isNaN=z6,p.isNative=H6,p.isNil=B6,p.isNull=W6,p.isNumber=V1,p.isObject=He,p.isObjectLike=$e,p.isPlainObject=rs,p.isRegExp=vl,p.isSafeInteger=V6,p.isSet=$1,p.isString=Ro,p.isSymbol=Ct,p.isTypedArray=Kr,p.isUndefined=$6,p.isWeakMap=G6,p.isWeakSet=Y6,p.join=K4,p.kebabCase=NT,p.last=zt,p.lastIndexOf=q4,p.lowerCase=jT,p.lowerFirst=FT,p.lt=X6,p.lte=Z6,p.max=O7,p.maxBy=P7,p.mean=D7,p.meanBy=L7,p.min=N7,p.minBy=j7,p.stubArray=El,p.stubFalse=xl,p.stubObject=S7,p.stubString=T7,p.stubTrue=I7,p.multiply=F7,p.nth=J4,p.noConflict=p7,p.noop=Il,p.now=xo,p.pad=UT,p.padEnd=zT,p.padStart=HT,p.parseInt=WT,p.random=MT,p.reduce=t6,p.reduceRight=n6,p.repeat=BT,p.replace=VT,p.result=wT,p.round=U7,p.runInContext=E,p.sample=i6,p.size=a6,p.snakeCase=$T,p.some=c6,p.sortedIndex=sS,p.sortedIndexBy=oS,p.sortedIndexOf=aS,p.sortedLastIndex=cS,p.sortedLastIndexBy=lS,p.sortedLastIndexOf=uS,p.startCase=YT,p.startsWith=XT,p.subtract=z7,p.sum=H7,p.sumBy=W7,p.template=ZT,p.times=E7,p.toFinite=wn,p.toInteger=he,p.toLength=Y1,p.toLower=KT,p.toNumber=Ht,p.toSafeInteger=K6,p.toString=Ae,p.toUpper=qT,p.trim=JT,p.trimEnd=QT,p.trimStart=e7,p.truncate=t7,p.unescape=n7,p.uniqueId=C7,p.upperCase=r7,p.upperFirst=_l,p.each=P1,p.eachRight=D1,p.first=A1,Tl(p,function(){var e={};return nn(p,function(i,o){Re.call(p.prototype,o)||(e[o]=i)}),e}(),{chain:!1}),p.VERSION=s,Lt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){p[e].placeholder=p}),Lt(["drop","take"],function(e,i){we.prototype[e]=function(o){o=o===r?1:et(he(o),0);var l=this.__filtered__&&!i?new we(this):this.clone();return l.__filtered__?l.__takeCount__=at(o,l.__takeCount__):l.__views__.push({size:at(o,ce),type:e+(l.__dir__<0?"Right":"")}),l},we.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),Lt(["filter","map","takeWhile"],function(e,i){var o=i+1,l=o==Te||o==xe;we.prototype[e]=function(f){var m=this.clone();return m.__iteratees__.push({iteratee:te(f,3),type:o}),m.__filtered__=m.__filtered__||l,m}}),Lt(["head","last"],function(e,i){var o="take"+(i?"Right":"");we.prototype[e]=function(){return this[o](1).value()[0]}}),Lt(["initial","tail"],function(e,i){var o="drop"+(i?"":"Right");we.prototype[e]=function(){return this.__filtered__?new we(this):this[o](1)}}),we.prototype.compact=function(){return this.filter(bt)},we.prototype.find=function(e){return this.filter(e).head()},we.prototype.findLast=function(e){return this.reverse().find(e)},we.prototype.invokeMap=ge(function(e,i){return typeof e=="function"?new we(this):this.map(function(o){return qi(o,e,i)})}),we.prototype.reject=function(e){return this.filter(ko(te(e)))},we.prototype.slice=function(e,i){e=he(e);var o=this;return o.__filtered__&&(e>0||i<0)?new we(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),i!==r&&(i=he(i),o=i<0?o.dropRight(-i):o.take(i-e)),o)},we.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},we.prototype.toArray=function(){return this.take(ce)},nn(we.prototype,function(e,i){var o=/^(?:filter|find|map|reject)|While$/.test(i),l=/^(?:head|last)$/.test(i),f=p[l?"take"+(i=="last"?"Right":""):i],m=l||/^find/.test(i);f&&(p.prototype[i]=function(){var _=this.__wrapped__,I=l?[1]:arguments,C=_ instanceof we,N=I[0],j=C||ue(_),U=function(be){var Se=f.apply(p,Ln([be],I));return l&&B?Se[0]:Se};j&&o&&typeof N=="function"&&N.length!=1&&(C=j=!1);var B=this.__chain__,K=!!this.__actions__.length,ne=m&&!B,pe=C&&!K;if(!m&&j){_=pe?_:new we(this);var re=e.apply(_,I);return re.__actions__.push({func:Io,args:[U],thisArg:r}),new jt(re,B)}return ne&&pe?e.apply(this,I):(re=this.thru(U),ne?l?re.value()[0]:re.value():re)})}),Lt(["pop","push","shift","sort","splice","unshift"],function(e){var i=Zs[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);p.prototype[e]=function(){var f=arguments;if(l&&!this.__chain__){var m=this.value();return i.apply(ue(m)?m:[],f)}return this[o](function(_){return i.apply(ue(_)?_:[],f)})}}),nn(we.prototype,function(e,i){var o=p[i];if(o){var l=o.name+"";Re.call($r,l)||($r[l]=[]),$r[l].push({name:i,func:o})}}),$r[vo(r,D).name]=[{name:"wrapper",func:r}],we.prototype.clone=nw,we.prototype.reverse=rw,we.prototype.value=iw,p.prototype.at=PS,p.prototype.chain=DS,p.prototype.commit=LS,p.prototype.next=NS,p.prototype.plant=FS,p.prototype.reverse=US,p.prototype.toJSON=p.prototype.valueOf=p.prototype.value=zS,p.prototype.first=p.prototype.head,Vi&&(p.prototype[Vi]=jS),p},Wr=L3();sr?((sr.exports=Wr)._=Wr,Sc._=Wr):it._=Wr}).call(Jr)}(Is,Is.exports);var Ee=Is.exports;const z2=()=>{const{trackItemIds:t,trackItemsMap:n,fps:r,trackItemDetailsMap:s}=Qt(),a=Ee.merge(n,s);return v.jsx(v.Fragment,{children:t.map(c=>{const u=a[c];return zd[u.type](u,{fps:r})})})};var Hd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var n={}.hasOwnProperty;function r(){for(var c="",u=0;u<arguments.length;u++){var d=arguments[u];d&&(c=a(c,s(d)))}return c}function s(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return r.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var u="";for(var d in c)n.call(c,d)&&c[d]&&(u=a(u,d));return u}function a(c,u){return u?c?c+" "+u:c+u:c}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(Hd);var H2=Hd.exports;const ui=lg(H2),W2={asChild:{type:"boolean"}},B2={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},V2={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},ka=["initial","xs","sm","md","lg","xl"];function Wd(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function di(t){return typeof t=="object"&&Object.keys(t).some(n=>ka.includes(n))}function $2({className:t,customProperties:n,...r}){const s=Bd({allowArbitraryValues:!0,className:t,...r}),a=G2({customProperties:n,...r});return[s,a]}function Bd({allowArbitraryValues:t,value:n,className:r,propValues:s,parseValue:a=c=>c}){const c=[];if(n){if(typeof n=="string"&&s.includes(n))return Vd(r,n,a);if(di(n)){const u=n;for(const d in u){if(!Wd(u,d)||!ka.includes(d))continue;const h=u[d];if(h!==void 0){if(s.includes(h)){const g=Vd(r,h,a),y=d==="initial"?g:`${d}:${g}`;c.push(y)}else if(t){const g=d==="initial"?r:`${d}:${r}`;c.push(g)}}}return c.join(" ")}if(t)return r}}function Vd(t,n,r){const s=t?"-":"",a=r(n),c=a?.startsWith("-"),u=c?"-":"",d=c?a?.substring(1):a;return`${u}${t}${s}${d}`}function G2({customProperties:t,value:n,propValues:r,parseValue:s=a=>a}){let a={};if(!(!n||typeof n=="string"&&r.includes(n))){if(typeof n=="string"&&(a=Object.fromEntries(t.map(c=>[c,n]))),di(n)){const c=n;for(const u in c){if(!Wd(c,u)||!ka.includes(u))continue;const d=c[u];if(!r.includes(d))for(const h of t)a={[u==="initial"?h:`${h}-${u}`]:d,...a}}}for(const c in a){const u=a[c];u!==void 0&&(a[c]=s(u))}return a}}function $d(...t){let n={};for(const r of t)r&&(n={...n,...r});return Object.keys(n).length?n:void 0}function Y2(...t){return Object.assign({},...t)}function X2(t,...n){let r,s;const a={...t},c=Y2(...n);for(const u in c){let d=a[u];const h=c[u];if(h.default!==void 0&&d===void 0&&(d=h.default),h.type==="enum"&&![h.default,...h.values].includes(d)&&!di(d)&&(d=h.default),a[u]=d,"className"in h&&h.className){delete a[u];const g="responsive"in h;if(!d||di(d)&&!g)continue;if(di(d)&&(h.default!==void 0&&d.initial===void 0&&(d.initial=h.default),h.type==="enum"&&([h.default,...h.values].includes(d.initial)||(d.initial=h.default))),h.type==="enum"){const y=Bd({allowArbitraryValues:!1,value:d,className:h.className,propValues:h.values,parseValue:h.parseValue});r=ui(r,y);continue}if(h.type==="string"||h.type==="enum | string"){const y=h.type==="string"?[]:h.values,[w,T]=$2({className:h.className,customProperties:h.customProperties,propValues:y,parseValue:h.parseValue,value:d});s=$d(s,T),r=ui(r,w);continue}if(h.type==="boolean"&&d){r=ui(r,h.className);continue}}}return a.className=ui(r,t.className),a.style=$d(s,t.style),a}const Vn=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],Z2={m:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:Vn,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},K2=mg,$n=["0","1","2","3","4","5","6","7","8","9"],q2={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:$n,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:$n,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:$n,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:$n,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:$n,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:$n,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:$n,responsive:!0}},Aa=["visible","hidden","clip","scroll","auto"],J2=["static","relative","absolute","fixed","sticky"],fi=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],Q2=["0","1"],ey=["0","1"],ty={...q2,...B2,...V2,position:{type:"enum",className:"rt-r-position",values:J2,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:fi,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:fi,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:fi,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:fi,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:fi,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:Aa,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:Aa,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:Aa,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:Q2,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:ey,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0}},Ra=["0","1","2","3","4","5","6","7","8","9"],ny={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:Ra,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:Ra,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:Ra,responsive:!0}},ry=["div","span"],iy=["none","inline-flex","flex"],sy=["row","column","row-reverse","column-reverse"],oy=["start","center","end","baseline","stretch"],ay=["start","center","end","between"],cy=["nowrap","wrap","wrap-reverse"],ly={as:{type:"enum",values:ry,default:"div"},...W2,display:{type:"enum",className:"rt-r-display",values:iy,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:sy,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:oy,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:ay,parseValue:uy,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:cy,responsive:!0},...ny};function uy(t){return t==="between"?"space-between":t}const Ma=k.forwardRef((t,n)=>{const{className:r,asChild:s,as:a="div",...c}=X2(t,ly,ty,Z2);return k.createElement(s?K2:a,{...c,ref:n,className:ui("rt-Flex",r)})});Ma.displayName="Flex";const Gd=()=>{const t=$.useRef(null),{setPlayerRef:n,duration:r,fps:s,size:a}=Qt();return $.useEffect(()=>{n(t)},[]),v.jsx(Ma,{className:"size-full",children:v.jsx(ag.Player,{ref:t,component:z2,durationInFrames:Math.round(r/1e3*s)||5*30,compositionWidth:1920,compositionHeight:1080,style:{width:"100%",height:"100%"},inputProps:{},fps:s,controls:!0,numberOfSharedAudioTags:10})})},Yd=({scrollLeft:t})=>{const n=$.useRef(null),{playerRef:r,fps:s,scale:a}=Qt(),c=ws(r??void 0),u=Ge(c/s*1e3,a.zoom)-t,[d,h]=$.useState(!1),[g,y]=$.useState(0),[w,T]=$.useState(u),x=()=>{h(!1)},A=R=>{h(!0);const D="touches"in R?R.touches[0].clientX:R.clientX;y(D),T(u)},M=R=>{if(d){const P=("touches"in R?R.touches[0].clientX:R.clientX)-g,F=w+P,z=Mt(F,a.zoom);r?.current?.seekTo(z*s/1e3)}};return $.useEffect(()=>{const R=D=>{D.preventDefault()};return d?(document.addEventListener("mousemove",M),document.addEventListener("mouseup",x),document.addEventListener("touchmove",M),document.addEventListener("touchend",x),document.addEventListener("dragstart",R)):(document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",x)),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",M),document.removeEventListener("touchend",x),document.removeEventListener("dragstart",R)}},[d,M,x]),v.jsx("div",{ref:n,role:"button",tabIndex:0,onMouseDown:R=>{A(R)},onTouchStart:R=>{A(R)},onKeyDown:R=>{(R.key==="Enter"||R.key===" ")&&A(R)},style:{position:"absolute",left:40+_s+u,top:80,width:1,height:"calc(100% - 80px)",background:"#d4d4d8",zIndex:10,cursor:"pointer"},children:v.jsxs("div",{className:"relative h-full",children:[v.jsx("div",{className:"absolute top-0  h-full w-3 -translate-x-1/2"}),v.jsx("div",{className:"absolute top-0  h-full w-0.5 -translate-x-1/2 bg-white/50"}),v.jsx("div",{style:{borderRadius:"0 0 20px 20px"},className:"absolute h-3 -translate-x-1/2 px-1.5",children:v.jsx("svg",{height:"12",viewBox:"0 0 12 12",fill:"none",children:v.jsx("path",{fill:"currentColor",d:"M11.6585 7.04881L6.6585 11.4238C6.28148 11.7537 5.71852 11.7537 5.3415 11.4238L0.341495 7.04881C0.12448 6.85892 0 6.58459 0 6.29623V1C0 0.447715 0.447715 0 1 0H11C11.5523 0 12 0.447715 12 1V6.29623C12 6.58459 11.8755 6.85892 11.6585 7.04881Z"})})})]})})},Xd=t=>{const{height:n=40,longLineSize:r=8,shortLineSize:s=6,offsetX:a=bs+_s,textOffsetY:c=12,textFormat:u=vd,scrollLeft:d=0,onClick:h}=t,{scale:g}=Qt(),y=$.useRef(null),[w,T]=$.useState(null),[x,A]=$.useState({width:0,height:n});$.useEffect(()=>{const P=y.current;if(P){const F=P.getContext("2d");T(F),M(P,F,d)}},[]),$.useEffect(()=>{w&&M(y.current,w,d)},[w,d,g]);const M=(P,F,z)=>{if(!P||!F)return;const J=P.offsetParent.offsetWidth??P.offsetWidth,ee=x.height;P.width=J,P.height=ee,R(F,z,J,ee),A({width:J,height:ee})},R=(P,F,z,Q)=>{const J=g.zoom,ee=g.unit,q=g.segments;P.clearRect(0,0,z,Q),P.save(),P.strokeStyle="#71717a",P.fillStyle="#71717a",P.lineWidth=1,P.font=`${dd}px ${fd}`,P.textBaseline="top",P.translate(.5,0),P.beginPath();const Z=ee*J*ai,ie=Math.floor(F/Z),X=Math.ceil((F+z)/Z)-ie;for(let de=0;de<=X;++de){const Te=de+ie;if(Te<0)continue;const Ne=Te*Z/J,xe=(Ne-F/J)*J;if(xe<-Z||xe>=z+Z)continue;const Oe=u(Ne),Ze=-P.measureText(Oe).width/2;P.fillText(Oe,xe+Ze+a,c)}for(let de=0;de<=X;++de){const Te=de+ie;if(Te<0)continue;const xe=Te*Z-F+a;for(let Oe=0;Oe<q;++Oe){const Me=xe+Oe/q*Z;if(Me<0||Me>=z)continue;const Ze=Oe%q?s:r;Ze===s?P.strokeStyle="#a1a1aa":P.strokeStyle="#d4d4d8";const pt=32,[ce,tr]=[Me,pt],[kr,Ai]=[ce,tr+Ze];P.beginPath(),P.moveTo(ce,tr),P.lineTo(kr,Ai),P.stroke()}}P.restore()},D=P=>{const F=y.current;if(!F)return;const z=F.getBoundingClientRect(),J=P.clientX-z.left+d-bs;h?.(J)};return v.jsx("div",{className:"border-border border-t",style:{position:"relative",width:"100%",height:`${x.height}px`,backgroundColor:"transparent"},children:v.jsx("canvas",{onClick:D,ref:y,height:x.height})})},Zd=()=>v.jsx(Ma,{flexGrow:"1",justify:"center",width:"100%",height:"100%",className:"bg-scene py-3",children:v.jsx("div",{className:"max-w-3xl flex-1  w-full h-full flex relative",children:v.jsx(Gd,{})})});class Kd{___eventListeners;___activeObjects;constructor(){this.___activeObjects=[],this.___eventListeners={}}pauseEventListeners(){this.___eventListeners=this.__eventListeners,this.__eventListeners={};const n=this.getActiveObjects();this.discardActiveObject(),this.___activeObjects=n}resumeEventListeners(){this.__eventListeners=this.___eventListeners,this.___eventListeners={};const n=this.___activeObjects;if(!n.length)return this.requestRenderAll(),!1;if(n.length===1)this.setActiveObject(n[0]);else{const r=new V.ActiveSelection(n);this.setActiveObject(r)}this.requestRenderAll()}}class Gn extends V.Rect{isSelected=!1;text;tScale;display;id;backgroundColor;static ownDefaults={rx:6,ry:6,objectCaching:!1,borderColor:"transparent",stroke:"transparent",strokeWidth:0,fill:"#27272a",borderOpacityWhenMoving:1,hoverCursor:"default",fontSize:16,fontFamily:"Arial",fontColor:"#ffffff",textAlign:"center"};static type="Text";constructor(n){super(n),Object.assign(this,Gn.ownDefaults),this.id=n.id,this.tScale=n.tScale,this.display=n.display,this.text=n.text||"",this.backgroundColor=n.backgroundColor||"transparent"}static createControls(){return{controls:Oa()}}static getDefaults(){return{...super.getDefaults(),...Gn.ownDefaults}}setSelected(n){this.isSelected=n,this.set({dirty:!0})}_render(n){super._render(n),this.updateSelected(n)}updateSelected(n){this.isSelected&&(n.save(),n.beginPath(),n.roundRect(-this.width/2,-this.height/2,this.width,this.height,6),n.lineWidth=2,n.strokeStyle="rgba(0, 216, 214,1.0)",n.stroke(),n.restore())}}function ln(t,n,r,s,a){t.save(),t.translate(n,r),t.rotate(V.util.degreesToRadians(90+a.angle)),t.beginPath(),t.lineWidth=4,t.lineCap="round",t.strokeStyle="#dfe2e8",t.moveTo(-6,0),t.lineTo(6,0),t.stroke(),t.restore()}function Oa(){return{mr:new V.Control({x:.5,y:0,actionHandler:hi,cursorStyleHandler:V.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing",render:ln}),ml:new V.Control({x:-.5,y:0,actionHandler:hi,cursorStyleHandler:V.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing",render:ln})}}const hi=V.controlsUtils.wrapWithFireEvent("resizing",V.controlsUtils.wrapWithFixedAnchor((t,n,r,s)=>{const a=V.controlsUtils.getLocalPoint(n,n.originX,n.originY,r,s);if(dy(n.originX)||hy(n.originX)&&a.x<0||fy(n.originX)&&a.x>0){const c=n.target,u=c.strokeWidth/(c.strokeUniform?c.scaleX:1),d=py(n)?2:1,h=c.width,g=Math.ceil(Math.abs(a.x*d/c.scaleX)-u);if(n.corner==="ml"){const w=h-g;if(c.left+w<0)return c.set("width",c.width+c.left),!0}return c.set("width",Math.max(g,0)),h!==c.width}return!1})),qd={left:-.5,top:-.5,center:0,bottom:.5,right:.5},ye=t=>typeof t=="string"?qd[t]:t-.5,dy=t=>ye(t)===ye("center"),fy=t=>ye(t)===ye("left"),hy=t=>ye(t)===ye("right");function py(t){return ye(t.originX)===ye("center")&&ye(t.originY)===ye("center")}V.classRegistry.setClass(Gn,"Text");class Ot extends V.Rect{static type="Transition";id;duration;fromId;toId;static ownDefaults={objectCaching:!1,borderColor:"transparent",stroke:"transparent",strokeWidth:1.5,fill:"rgba(0, 0, 0, 0.5)",borderOpacityWhenMoving:1,hoverCursor:"default",lockMovementX:!0,lockMovementY:!0,duration:1500,rx:8,ry:8};isSelected=!1;constructor(n){super(n),this.id=n.id,this.fromId=n.fromId,this.toId=n.toId,Object.assign(this,{duration:n.duration,fromId:n.fromId,toId:n.toId,kind:n.kind,tScale:n.tScale,strokeDashArray:n.strokeDashArray||[],isSelected:!1,centeredScaling:!0,strokeWidth:0}),Object.assign(this,Ot.ownDefaults)}static createControls(){return{controls:gy()}}static getDefaults(){return{...super.getDefaults(),...Ot.ownDefaults}}updateCoords(){}_render(n){super._render(n),this.updateSelected(n)}setSelected(n){this.isSelected=n,this.set({dirty:!0})}updateSelected(n){n.save(),n.beginPath(),n.roundRect(-this.width/2,-this.height/2,this.width,this.height,this.rx),n.lineWidth=2,this.strokeDashArray&&n.setLineDash(this.strokeDashArray),n.strokeStyle=this.isSelected?"rgba(255, 255, 255,1.0)":"rgba(255, 255, 255,0.15)",n.stroke(),n.restore()}}V.classRegistry.setClass(Ot,"Transition");const gy=()=>({mr:new V.Control({x:.5,y:0,actionHandler:Jd,cursorStyleHandler:V.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing",render:ln}),ml:new V.Control({x:-.5,y:0,actionHandler:Jd,cursorStyleHandler:V.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing",render:ln})});V.classRegistry.setClass(Ot,"Transition");const{wrapWithFireEvent:my,getLocalPoint:vy}=V.controlsUtils,Pa="center",yy="left",by="right";function _y(t){return(n,r,s,a)=>{const{target:c,originX:u,originY:d}=r,h=c.getRelativeCenterPoint(),g=c.translateToOriginPoint(h,u,d),y=t(n,r,s,a);return c.setPositionByOrigin(g,u,d),y}}const wy=(t,n,r,s)=>{const a=vy(n,n.originX,n.originY,r,s);if(ye(n.originX)===ye(Pa)||ye(n.originX)===ye(by)&&a.x<0||ye(n.originX)===ye(yy)&&a.x>0){const{target:c}=n,u=c.strokeWidth/(c.strokeUniform?c.scaleX:1),d=Sy(n)?2:1,h=c.width,g=Math.ceil(Math.abs(a.x*d/c.scaleX)-u),y=Mt(g,c.tScale);return y>=1500||y<500?!1:(c.set("width",Math.max(g,0)),c.set("duration",y),c.setCoords(),c.canvas&&c.canvas.renderAll(),h!==c.width)}return!1};function Sy(t){return ye(t.originX)===ye(Pa)&&ye(t.originY)===ye(Pa)}const Jd=my("resizing",_y(wy));class Ir extends V.Rect{static type="Placeholder";guideItemId;distXToActCenter;trackItemType;defaultPos;draggedObject=null;for;id;static ownDefaults={rx:6,ry:6,objectCaching:!1,borderColor:"transparent",strokeWidth:0,fill:"rgba(255, 211, 42, 0.1)",stroke:"rgba(255, 211, 42, 1.0)",selectable:!1,borderOpacityWhenMoving:1,hoverCursor:"default",strokeDashArray:[5,1],evented:!1};constructor(n){super(n),this.id=n.id,this.for=n.for,Object.assign(this,Ir.ownDefaults)}static getDefaults(){return{...super.getDefaults(),...Ir.ownDefaults}}_render(n){super._render(n),this.updateSelected(n)}updateSelected(n){n.save(),n.beginPath(),n.roundRect(-this.width/2,-this.height/2,this.width,this.height,this.rx),n.lineWidth=2,this.strokeDashArray&&n.setLineDash(this.strokeDashArray),n.strokeStyle="rgba(0, 216, 214,1.0)",n.stroke(),n.restore()}}V.classRegistry.setClass(Ir,"Placeholder");const Ty={top:{top:35,guideHeight:2,bottom:3},center:{top:3,guideHeight:2,bottom:3},bottom:{top:3,guideHeight:2,bottom:35}},pi="rgba(0, 216, 214, 1.0)",Da=(t,n,r)=>new V.Rect({top:t,left:0,strokeWidth:0,fill:"transparent",selectable:!0,height:r,width:n});class gi extends V.Group{static type="Helper";static defaultSettings={selectable:!1,evented:!1};static ownDefaults={...gi.defaultSettings};guide;topGuide;bottomGuide;id;metadata={};tScale;kind;constructor(n){const r=Ty[n.kind],s=Da(0,n.width,r.top),a=Da(r.top,n.width,r.guideHeight),c=Da(r.top+r.guideHeight,n.width,r.bottom);super([s,a,c],{...gi.defaultSettings,...n}),this.topGuide=s,this.guide=a,this.bottomGuide=c,this.id=n.id,this.metadata=n.metadata??{},this.tScale=n.tScale,this.kind=n.kind}static getDefaults(){return{...super.getDefaults(),...gi.defaultSettings}}updateCoords(n){this.scaleToWidth(n),this.set("scaleY",1)}setSelected(n){this.guide.set("fill",n?pi:"transparent")}}const Er=gi;V.classRegistry.setClass(Er,"Helper");class En extends V.Rect{static ownDefaults={selectable:!1,evented:!1,strokeWidth:0,stroke:"transparent"};static type="Track";id;accepts;metadata;items;borderColor="transparent";stroke="transparent";strokeWidth=0;constructor(n){super(n),Object.assign(this,En.ownDefaults),this.id=n.id,this.accepts=n.accepts||["audio","video","image","text"],this.items=n.items||[],this.metadata=n.metadata}static getDefaults(){return{...super.getDefaults(),...En.ownDefaults}}updateCoords(n){this.width=n}}V.classRegistry.setClass(En,"Track");class Es extends V.Rect{isSelected;tScale;display;id;src;itemType;static ownDefaults={rx:8,ry:8,objectCaching:!1,borderColor:"transparent",stroke:"transparent",strokeWidth:0,borderOpacityWhenMoving:1,hoverCursor:"default",fill:"#27272a"};static type="Image";constructor(n){super(n),this.itemType="image",this.isSelected=!1,Object.assign(this,Es.ownDefaults),this.id=n.id,this.src=n.src,this.display=n.display,this.tScale=n.tScale}static createControls(){return{controls:Oa()}}static getDefaults(){return{...super.getDefaults(),...Es.ownDefaults}}_render(n){super._render(n),this.updateSelected(n)}setSelected(n){this.isSelected=n,this.set({dirty:!0})}updateSelected(n){this.isSelected&&(n.save(),n.beginPath(),n.roundRect(-this.width/2,-this.height/2,this.width,this.height,this.rx),n.lineWidth=2,n.strokeStyle=pi,n.stroke(),n.restore())}}const xs=Es;V.classRegistry.setClass(xs,"Image");class un extends V.Rect{id;itemType="audio";isSelected=!1;trim;src;tScale;display;static ownDefaults={rx:6,ry:6,objectCaching:!1,borderColor:"transparent",stroke:"transparent",strokeWidth:0,fill:"#27272a",borderOpacityWhenMoving:1,hoverCursor:"default"};static type="Audio";constructor(n){super({...un.getDefaults(),...n}),this.id=n.id,this.tScale=n.tScale,this.display=n.display,this.trim=n.trim,this.src=n.src}static getDefaults(){return{...super.getDefaults(),...un.ownDefaults}}static createControls(){return{controls:Qd()}}setSelected(n){this.isSelected=n,this.set({dirty:!0})}_render(n){super._render(n),this.updateSelected(n)}updateSelected(n){this.isSelected&&(n.save(),n.beginPath(),n.roundRect(-this.width/2,-this.height/2,this.width,this.height,un.ownDefaults.rx),n.lineWidth=2,n.strokeStyle=pi,n.stroke(),n.restore())}}V.classRegistry.setClass(un,"Audio");const Qd=()=>({mr:new V.Control({x:.5,y:0,render:ln,actionHandler:ef,cursorStyleHandler:V.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing"}),ml:new V.Control({x:-.5,y:0,render:ln,actionHandler:ef,cursorStyleHandler:V.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing"})}),{wrapWithFireEvent:Iy,getLocalPoint:Ey}=V.controlsUtils,xy=(t,n,r,s)=>{const a=Ey(n,n.originX,n.originY,r,s);if(ye(n.originX)===ye("center")||ye(n.originX)===ye("right")&&a.x<0||ye(n.originX)===ye("left")&&a.x>0){const{target:c}=n,u=c.strokeWidth/(c.strokeUniform?c.scaleX:1),d=La(n)?2:1,h=c.width,g=Math.ceil(Math.abs(a.x*d/c.scaleX)-u);if(n.corner==="ml"){const y=g-h,w=Mt(y,c.tScale);if(c.trim.from-w<0)return!1;const A=n.width-g;if(n.left+A<0)return n.set("width",n.width+n.left),!0}if(n.corner==="mr"){const y=c.trim.to,w=g-h,T=Mt(w,c.tScale),x=y+T;if(x>c.duration)return!1;c.set("width",Math.max(g,0)),c.trim.to=x}else{if(c.left<0)return!1;const y=h-g;if(c.left+y<0)return c.set("width",c.width+c.left),!0;const w=g-h,T=c.trim.from,x=Mt(w,c.tScale),A=T-x;if(A<0)return!1;c.set("width",Math.max(g,0)),c.trim.from=A}return h!==c.width}return!1};function La(t){return ye(t.originX)===ye("center")&&ye(t.originY)===ye("center")}const ef=Iy("resizing",Na(xy));class Yn extends V.Rect{id;tScale;isSelected=!1;display;trim;static type="Video";static defaultProps={objectCaching:!1,rx:8,ry:8,fill:"#27272a"};constructor(n){super(Object.assign({},Yn.defaultProps,n)),this.id=n.id,this.tScale=n.tScale,this.display=n.display,this.trim=n.trim}static createControls(){return{controls:tf()}}_render(n){super._render(n),this.updateSelected(n)}setSelected(n){this.isSelected=n,this.set({dirty:!0})}updateSelected(n){this.isSelected&&(n.save(),n.beginPath(),n.roundRect(-this.width/2,-this.height/2,this.width,this.height,this.rx),n.lineWidth=2,n.strokeStyle=pi,n.stroke(),n.restore())}}V.classRegistry.setClass(Yn,"Video");const tf=()=>({mr:new V.Control({x:.5,y:0,render:ln,actionHandler:nf,cursorStyleHandler:V.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing"}),ml:new V.Control({x:-.5,y:0,render:ln,actionHandler:nf,cursorStyleHandler:V.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing"})}),{wrapWithFireEvent:Cy,getLocalPoint:ky}=V.controlsUtils,Ay=(t,n,r,s)=>{const a=ky(n,n.originX,n.originY,r,s);if(ye(n.originX)===ye("center")||ye(n.originX)===ye("right")&&a.x<0||ye(n.originX)===ye("left")&&a.x>0){const{target:c}=n,u=c.strokeWidth/(c.strokeUniform?c.scaleX:1),d=La(n)?2:1,h=c.width,g=Math.ceil(Math.abs(a.x*d/c.scaleX)-u);if(n.corner==="ml"){const y=g-h,w=Mt(y,c.tScale);if(c.trim.from-w<0)return!1;const A=n.width-g;if(n.left+A<0)return n.set("width",n.width+n.left),!0}if(n.corner==="mr"){const y=c.trim.to,w=g-h,T=Mt(w,c.tScale),x=y+T;if(x>c.duration)return!1;c.set("width",Math.max(g,0)),c.trim.to=x}else{if(c.left<0)return!1;const y=h-g;if(c.left+y<0)return c.set("width",c.width+c.left),!0;const w=g-h,T=c.trim.from,x=Mt(w,c.tScale),A=T-x;if(A<0)return!1;c.set("width",Math.max(g,0)),c.trim.from=A}return h!==c.width}return!1};function Na(t){return(n,r,s,a)=>{const{target:c,originX:u,originY:d}=r,h=c.getRelativeCenterPoint(),g=c.translateToOriginPoint(h,u,d),y=t(n,r,s,a);return c.setPositionByOrigin(g,u,d),y}}const nf=Cy("resizing",Na(Ay));class mi extends V.Rect{static type="TransitionGuide";static ownDefaults={objectCaching:!1,borderColor:"transparent",stroke:"transparent",strokeWidth:1.5,fill:"rgba(0,0,0,0.85)",borderOpacityWhenMoving:1,hoverCursor:"default",lockMovementX:!0,lockMovementY:!0,duration:1500,rx:8,ry:8};tScale;duration=0;fromId;toId;itemType="none";isSelected=!1;id;constructor(n){super(n),Object.assign(this,mi.ownDefaults),this.id=n.id}static createControls(){return{controls:rf()}}static getDefaults(){return{...super.getDefaults(),...mi.ownDefaults}}updateCoords(){const n=this.canvas;if(!n)return;const r=n.getObjects().find(c=>c.id===this.fromId);if(!r)return;const s=Ge(this.duration,this.tScale),a=r.left+r.width-s/2;this.set({width:s,left:a})}_render(n){super._render(n),this.drawTextIdentity(n),this.updateSelected(n)}drawTextIdentity(n){const r=new Path2D("M3 5.30359C3 3.93159 4.659 3.24359 5.629 4.21359L11.997 10.5826L10.583 11.9966L5 6.41359V17.5856L10.586 11.9996L10.583 11.9966L11.997 10.5826L12 10.5856L18.371 4.21459C19.341 3.24459 21 3.93159 21 5.30359V18.6956C21 20.0676 19.341 20.7556 18.371 19.7856L12 13.5L13.414 11.9996L19 17.5866V6.41359L13.414 11.9996L13.421 12.0056L12.006 13.4206L12 13.4136L5.629 19.7846C4.659 20.7546 3 20.0676 3 18.6956V5.30359Z");n.save(),n.translate(-12,-12),n.fillStyle="#ffffff",n.fill(r),n.restore()}setSelected(n){this.isSelected=n,this.set({dirty:!0})}updateSelected(n){this.isSelected&&(n.save(),n.beginPath(),n.roundRect(-this.width/2,-this.height/2,this.width,this.height,this.rx),n.lineWidth=1,n.strokeStyle="rgba(255, 255, 255,1.0)",n.stroke(),n.restore())}}function rf(){return{mr:new V.Control({x:.5,y:0,actionHandler:hi,cursorStyleHandler:V.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing",render:sf}),ml:new V.Control({x:-.5,y:0,actionHandler:hi,cursorStyleHandler:V.controlsUtils.scaleSkewCursorStyleHandler,actionName:"resizing",render:sf})}}function sf(t,n,r,s,a){t.save(),t.translate(n,r),t.rotate(V.util.degreesToRadians(90+a.angle)),t.lineWidth=6,t.lineCap="round",t.strokeStyle="white",t.beginPath(),t.moveTo(-6,0),t.lineTo(6,0),t.stroke(),t.lineWidth=4,t.strokeStyle="black",t.beginPath(),t.moveTo(-6,0),t.lineTo(6,0),t.stroke(),t.restore()}class vi extends V.Rect{static type="PreviewTrackItem";static ownDefaults={objectCaching:!1,borderColor:"transparent",stroke:"transparent",strokeWidth:0,borderOpacityWhenMoving:1,hoverCursor:"default",rx:4,ry:4};duration=0;fromId="";toId="";isSelected=!1;name;durationString;id;constructor(n){super(n),Object.assign(this,vi.ownDefaults),this.id=n.id,this.name=n.name||"item",this.durationString="00:05",this.fill="#27272a"}static getDefaults(){return{...super.getDefaults(),...vi.ownDefaults}}_render(n){n.save(),super._render(n),n.beginPath(),n.rect(-this.width/2,-this.height/2,this.width,this.height),n.clip(),this.drawTextIdentity(n),n.restore()}drawTextIdentity(n){n.font="600 12px 'Geist variable'",n.textAlign="left";const h=n.measureText(this.name).width,g=n.measureText(this.durationString).width,y=-this.height/2+4,w=-this.width/2,T=w+h+8*2+4,x=h+8*2;this.drawRoundedRect(n,w,y,x,20,4),n.fillStyle="#f4f4f5",n.fillText(this.name,w+8,y+12+2);const A=g+8*2;this.drawRoundedRect(n,T,y,A,20,4),n.fillStyle="#f4f4f5",n.fillText(this.durationString,T+8,y+12+2)}drawRoundedRect(n,r,s,a,c,u){n.fillStyle="rgba(0, 0, 0, 0.5)",n.roundRect?(n.beginPath(),n.roundRect(r,s,a,c,u),n.fill()):n.fillRect(r,s,a,c)}}function of(t,n){n.forEach(r=>{Object.getOwnPropertyNames(r.prototype).forEach(s=>{if(s!=="constructor"){const a=Object.getOwnPropertyDescriptor(r.prototype,s);a&&Object.defineProperty(t.prototype,s,a)}})})}const Cs=(t,n)=>{const r={x:t.size.width/2,y:t.size.height/2},s={x:n.width/2,y:n.height/2},a=r.x-s.x,c=r.y-s.y,u=Math.min(t.size.width/n.width,t.size.height/n.height);return{top:`${c}px`,left:`${a}px`,transform:`scale(${u})`}},af=t=>new Promise((n,r)=>{const s=new Audio;s.preload="auto",s.addEventListener("loadedmetadata",()=>{const a=s.duration*1e3;n({duration:a})}),s.addEventListener("error",a=>{r(a)}),s.src=t,s.crossOrigin="anonymous",s.load()}),cf=t=>new Promise((n,r)=>{const s=new Image;console.warn("Consider updating CDN config for CORS issues?"),s.onload=()=>{const a=s.width,c=s.height;n({width:a,height:c})},s.onerror=a=>{r(a)},s.crossOrigin="anonymous",s.src=t}),lf=t=>new Promise((n,r)=>{const s=document.createElement("video");s.preload="auto",s.addEventListener("loadedmetadata",()=>{const a=s.duration*1e3,c=s.videoWidth,u=s.videoHeight;n({duration:a,width:c,height:u})}),s.addEventListener("error",a=>{r(a)}),s.src=t,s.load()}),yi=(t,n)=>{const r=document.createElement("div");Object.keys(n).forEach(a=>{a!=="height"&&(r.style[a]=n[a])}),document.body.appendChild(r),r.textContent=t,r.style.width=`${n.width}px`,r.style.fontSize=`${n.fontSize}px`;const s=getComputedStyle(r).height;return document.body.removeChild(r),parseFloat(s)},Bt=t=>Object.keys(t).reduce((n,r)=>{const{display:{to:s}}=t[r];return Math.max(n,s)},0),uf=(t,n)=>{if(!t)return{from:0,to:n.duration};const{from:r,to:s}=t;return{from:r??0,to:s??n.duration}},df=(t,n)=>{const{duration:r,trim:s}=n,a=s?s.to-s.from:r||5e3,c={from:0,to:a};if(!t)return c;if(t.from!==void 0&&t.from<0)return console.error("'from' must be a non-negative number. Returning default display."),c;if(t.from!==void 0&&t.to===void 0)return{from:t.from,to:t.from+a};if(t.to!==void 0){if(t.to<0)return console.error("'to' must be a non-negative number. Returning default display."),c;if(t.to<t.from)return console.error("'to' must be greater than or equal to 'from'. Returning default display."),c}return t};function ff(t,n){return t.map(r=>{const s=r.items.filter(a=>!n.includes(a));return{...r,items:s}}).filter(r=>r.items.length>0)}const hf=async(t,n)=>{const r=t.details,s=await cf(r.src),a=Cs(n,s);return{id:t.id,type:"image",name:"",display:{from:n.origin||0,to:(n.origin||5e3)+5e3},details:{src:r.src||"",width:r.width||s.width||100,height:r.height||s.height||100,opacity:r.opacity??100,transform:a.transform,border:r.border||"none",borderRadius:r.borderRadius||"0",boxShadow:r.boxShadow||"none",top:a.top||"0px",left:a.left||"0px"},metadata:t.metadata||{}}},pf=async(t,n)=>{const r=t.details.src,s=await lf(r),a=Cs(n,{...s}),c=uf(t.trim,{duration:s.duration}),u={width:s.width,height:s.height,duration:s.duration,src:r,volume:t.details.volume??100,top:t.details.top||a.top||"0px",left:t.details.left||a.left||"0px",text:t.details.text};return{...t,trim:c,type:"video",details:u,display:df(t?.display,{duration:s.duration,trim:c})}},gf=async t=>{const n=t.details,r=(await af(n.src)).duration,s=t?.display?.from??0;return{id:t.id,name:"",type:"audio",display:{from:s,to:s+r},trim:{from:0,to:r},details:{src:n.src,duration:r,volume:n.volume??100,text:n.text},metadata:{...t.metadata}}},Ry=5e3,ja=async(t,n)=>{const r=t.id;await Cd([{fontFamily:t.details.fontFamily??"",fontUrl:t.details.fontUrl??""}]);const s={fontFamily:t.details.fontFamily??"Arial",fontSize:t.details.fontSize??"16px",fontWeight:t.details.fontWeight??"normal",fontStyle:t.details.fontStyle??"normal",textDecoration:t.details.textDecoration??"none",textAlign:t.details.textAlign??"left",lineHeight:t.details.lineHeight??"normal",letterSpacing:t.details.letterSpacing??"normal",wordSpacing:t.details.wordSpacing??"normal",color:t.details.color??"#ffffff",backgroundColor:t.details.backgroundColor??"transparent",border:t.details.border??"none",textShadow:t.details.textShadow??"none",text:t.details.text??"",opacity:t.details.opacity??100,width:t.details.width??300,wordWrap:t.details.wordWrap??"normal",wordBreak:t.details.wordBreak??"normal",WebkitTextStrokeColor:t.details.WebkitTextStrokeColor??"#ffffff",WebkitTextStrokeWidth:t.details.WebkitTextStrokeWidth??"0px",top:t.details.top??"0px",left:t.details.left??"0px"},a=yi(t.details.text??"",s),c=Cs(n,{width:s.width??0,height:a});return{id:r,name:"",type:"text",display:{from:t.display.from??0,to:t.display.to??Ry},details:{...s,height:a,top:c.top,left:c.left,fontUrl:t.details.fontUrl,text:t.details.text??""},metadata:{}}},mf=(t,n)=>{const r=t.display,s=Ge(r.from,n.tScale),a=Ge(r.to-r.from,n.tScale),c=V.classRegistry.getClass("Audio")||un;return new c({width:a,height:42,top:10,left:s,id:t.id,display:r,text:t.details.text,trim:t.trim||{from:0,to:t.details.duration},duration:t.details.duration,src:t.details.src,tScale:n.tScale})},vf=(t,n)=>{const r=Ge(t.display.from,n.tScale),s=Ge(t.details.duration||5e3,n.tScale),a=V.classRegistry.getClass("Image")||xs;return new a({width:s,height:42,id:t.id,src:t.details.src,tScale:n.tScale,top:10,left:r,display:t.display})},yf=(t,n)=>{const r=Ge(t.trim.from,n.tScale),s=Ge(t.trim.to-t.trim.from,n.tScale),a=V.classRegistry.getClass("Video")||Yn;return new a({width:s,height:42,id:t.id,tScale:n.tScale,fill:"#333333",top:10,left:r,display:t.trim,trim:t.trim,text:t.details.text,duration:t.details.duration})},bf=(t,n)=>{const r=t.display,s=Ge(r.from,n.tScale),a=Ge(r.to-r.from,n.tScale),c=V.classRegistry.getClass("Text")||Gn;return new c({width:a,height:42,id:t.id,display:r,top:10,left:s,text:t.details.text,tScale:n.tScale})},_f={video:42,image:42,audio:42,text:42,caption:42,template:42},wf=(t={})=>{const n={..._f,...t};return Object.fromEntries(Object.entries(n).filter(([,r])=>typeof r=="number"))};let Sf=class extends un{static type="Audio";text;constructor(n){super(n),this.text=n.text??"Audio"}_render(n){super._render(n),this.drawTextIdentity(n),this.updateSelected(n)}drawTextIdentity(n){const r=new Path2D("M8.24092 0C8.24092 2.51565 10.2795 4.55419 12.7951 4.55419C12.9677 4.55419 13.1331 4.62274 13.2552 4.74475C13.3772 4.86676 13.4457 5.03224 13.4457 5.20479C13.4457 5.37734 13.3772 5.54282 13.2552 5.66483C13.1331 5.78685 12.9677 5.85539 12.7951 5.85539C11.9218 5.85605 11.0594 5.66105 10.2713 5.28471C9.48319 4.90838 8.78942 4.36027 8.24092 3.68066V13.8794C8.24094 14.8271 7.91431 15.7458 7.31606 16.4808C6.71781 17.2157 5.88451 17.722 4.95657 17.9143C4.02863 18.1066 3.06276 17.9731 2.22172 17.5364C1.38067 17.0997 0.715856 16.3865 0.339286 15.5169C-0.0372842 14.6473 -0.10259 13.6744 0.154372 12.7622C0.411334 11.8501 0.974857 11.0544 1.74999 10.5092C2.52512 9.96403 3.46449 9.7027 4.40981 9.76924C5.35512 9.83579 6.24861 10.2261 6.93972 10.8745V0H8.24092ZM6.93972 13.8794C6.93972 13.1317 6.6427 12.4146 6.11398 11.8859C5.58527 11.3572 4.86818 11.0602 4.12046 11.0602C3.37275 11.0602 2.65566 11.3572 2.12694 11.8859C1.59823 12.4146 1.3012 13.1317 1.3012 13.8794C1.3012 14.6272 1.59823 15.3443 2.12694 15.873C2.65566 16.4017 3.37275 16.6987 4.12046 16.6987C4.86818 16.6987 5.58527 16.4017 6.11398 15.873C6.6427 15.3443 6.93972 14.6272 6.93972 13.8794Z");n.save(),n.translate(-this.width/2,-this.height/2),n.translate(0,10),n.font="600 12px 'Geist variable'",n.fillStyle="#f4f4f5",n.textAlign="left",n.clip(),n.fillText(this.text,36,14),n.translate(10,1),n.fillStyle="#f4f4f5",n.fill(r),n.restore()}};class Tf extends Yn{static type="Video";text;constructor(n){super(n),this.text=n.text??"Video"}_render(n){super._render(n),this.drawTextIdentity(n),this.updateSelected(n)}drawTextIdentity(n){const r=new Path2D("M16.5625 0.925L12.5 3.275V0.625L11.875 0H0.625L0 0.625V9.375L0.625 10H11.875L12.5 9.375V6.875L16.5625 9.2125L17.5 8.625V1.475L16.5625 0.925ZM11.25 8.75H1.25V1.25H11.25V8.75ZM16.25 7.5L12.5 5.375V4.725L16.25 2.5V7.5Z");n.save(),n.translate(-this.width/2,-this.height/2),n.translate(0,14),n.font="600 12px 'Geist variable'",n.fillStyle="#f4f4f5",n.textAlign="left",n.clip(),n.fillText(this.text,36,10),n.translate(8,1),n.fillStyle="#f4f4f5",n.fill(r),n.restore()}}class Fa extends Gn{static type="Text";constructor(n){super(n),this.fill="#303030"}_render(n){super._render(n),this.drawTextIdentity(n),this.updateSelected(n)}drawTextIdentity(n){const r=new Path2D("M6.23982 0.361968C6.18894 0.253743 6.10832 0.162234 6.00736 0.0981357C5.9064 0.034038 5.78929 0 5.6697 0C5.55012 0 5.433 0.034038 5.33204 0.0981357C5.23109 0.162234 5.15046 0.253743 5.09959 0.361968L0.0599035 11.0713C0.0246926 11.1462 0.00457285 11.2272 0.000693114 11.3099C-0.00318662 11.3925 0.00924959 11.4751 0.0372917 11.553C0.0939253 11.7102 0.210687 11.8384 0.361891 11.9095C0.513095 11.9806 0.686354 11.9888 0.843555 11.9322C1.00076 11.8755 1.12902 11.7588 1.20013 11.6075L2.51202 8.81998H8.82738L10.1393 11.6075C10.1745 11.6824 10.2241 11.7496 10.2853 11.8053C10.3465 11.861 10.418 11.9041 10.4958 11.9322C10.5737 11.9602 10.6563 11.9726 10.7389 11.9687C10.8216 11.9649 10.9026 11.9447 10.9775 11.9095C11.0524 11.8743 11.1196 11.8247 11.1753 11.7635C11.231 11.7023 11.2741 11.6308 11.3021 11.553C11.3302 11.4751 11.3426 11.3925 11.3387 11.3099C11.3348 11.2272 11.3147 11.1462 11.2795 11.0713L6.23982 0.361968ZM3.10498 7.56005L5.6697 2.11011L8.23443 7.56005H3.10498ZM15.1191 3.78029C14.1143 3.78029 13.3292 4.05354 12.7859 4.59294C12.6721 4.71153 12.6092 4.86987 12.6106 5.03419C12.6119 5.19851 12.6774 5.3558 12.7931 5.4725C12.9088 5.58921 13.0655 5.6561 13.2298 5.6589C13.3941 5.6617 13.553 5.60018 13.6726 5.48748C13.9718 5.19062 14.46 5.04021 15.1191 5.04021C16.1609 5.04021 17.009 5.74892 17.009 6.61511V6.86867C16.45 6.49465 15.7917 6.29663 15.1191 6.30013C13.382 6.30013 11.9693 7.57187 11.9693 9.13495C11.9693 10.698 13.382 11.9698 15.1191 11.9698C15.792 11.9727 16.4503 11.7739 17.009 11.3989C17.0168 11.566 17.0907 11.7231 17.2144 11.8357C17.3381 11.9483 17.5014 12.0071 17.6685 11.9993C17.8356 11.9915 17.9927 11.9176 18.1053 11.7939C18.2179 11.6702 18.2767 11.5069 18.2689 11.3398V6.61511C18.2689 5.05202 16.8562 3.78029 15.1191 3.78029ZM15.1191 10.7099C14.0773 10.7099 13.2292 10.0012 13.2292 9.13495C13.2292 8.26876 14.0773 7.56005 15.1191 7.56005C16.1609 7.56005 17.009 8.26876 17.009 9.13495C17.009 10.0012 16.1609 10.7099 15.1191 10.7099Z");n.save(),n.translate(-this.width/2,-this.height/2),n.translate(0,12),n.font="600 12px 'Geist variable'",n.fillStyle="#f4f4f5",n.textAlign="left",n.clip(),n.fillText(this.text,36,12),n.translate(8,1),n.fillStyle="#f4f4f5",n.fill(r),n.restore()}}let If=class extends xs{static type="Image";text;constructor(n){super(n),this.text=n.text??"Image"}_render(n){super._render(n),this.drawTextIdentity(n),this.updateSelected(n)}drawTextIdentity(n){const r=new Path2D("M1.55556 0H14.4444C15.3031 0 16 0.696889 16 1.55556V14.4444C16 14.857 15.8361 15.2527 15.5444 15.5444C15.2527 15.8361 14.857 16 14.4444 16H1.55556C1.143 16 0.747335 15.8361 0.455612 15.5444C0.163889 15.2527 0 14.857 0 14.4444V1.55556C0 0.696889 0.696889 0 1.55556 0ZM14.4444 1.33333H1.55556C1.49662 1.33333 1.4401 1.35675 1.39842 1.39842C1.35675 1.4401 1.33333 1.49662 1.33333 1.55556V14.4444C1.33333 14.5671 1.43289 14.6667 1.55556 14.6667H1.72444L10.456 5.93511C10.6004 5.79065 10.7719 5.67605 10.9607 5.59787C11.1494 5.51968 11.3517 5.47944 11.556 5.47944C11.7603 5.47944 11.9626 5.51968 12.1513 5.59787C12.3401 5.67605 12.5116 5.79065 12.656 5.93511L14.6667 7.94578V1.55556C14.6667 1.49662 14.6433 1.4401 14.6016 1.39842C14.5599 1.35675 14.5034 1.33333 14.4444 1.33333ZM14.6667 9.83111L11.7129 6.87733C11.6922 6.85664 11.6677 6.84022 11.6407 6.82902C11.6137 6.81781 11.5848 6.81205 11.5556 6.81205C11.5263 6.81205 11.4974 6.81781 11.4704 6.82902C11.4434 6.84022 11.4189 6.85664 11.3982 6.87733L3.60978 14.6667H14.4444C14.5034 14.6667 14.5599 14.6433 14.6016 14.6016C14.6433 14.5599 14.6667 14.5034 14.6667 14.4444V9.83111ZM4.88889 7.11111C4.29952 7.11111 3.73429 6.87699 3.31754 6.46024C2.90079 6.04349 2.66667 5.47826 2.66667 4.88889C2.66667 4.29952 2.90079 3.73429 3.31754 3.31754C3.73429 2.90079 4.29952 2.66667 4.88889 2.66667C5.47826 2.66667 6.04349 2.90079 6.46024 3.31754C6.87699 3.73429 7.11111 4.29952 7.11111 4.88889C7.11111 5.47826 6.87699 6.04349 6.46024 6.46024C6.04349 6.87699 5.47826 7.11111 4.88889 7.11111ZM4.88889 5.77778C5.12464 5.77778 5.35073 5.68413 5.51743 5.51743C5.68413 5.35073 5.77778 5.12464 5.77778 4.88889C5.77778 4.65314 5.68413 4.42705 5.51743 4.26035C5.35073 4.09365 5.12464 4 4.88889 4C4.65314 4 4.42705 4.09365 4.26035 4.26035C4.09365 4.42705 4 4.65314 4 4.88889C4 5.12464 4.09365 5.35073 4.26035 5.51743C4.42705 5.68413 4.65314 5.77778 4.88889 5.77778Z");n.save(),n.translate(-this.width/2,-this.height/2),n.translate(0,12),n.font="600 12px 'Geist variable'",n.fillStyle="#f4f4f5",n.textAlign="left",n.clip(),n.fillText(this.text,36,12),n.translate(8,1),n.fillStyle="#f4f4f5",n.fill(r),n.restore()}};class Ef extends En{static type="Track";constructor(n){super(n),this.fill="#18181b"}_render(n){super._render(n);const r=new Path2D("M14.4444 13.3263H11.0667C12.5384 12.3991 13.6259 10.9716 14.1289 9.30644C14.632 7.64131 14.5169 5.85051 13.8048 4.26348C13.0927 2.67645 11.8314 1.39993 10.2531 0.668736C8.67478 -0.0624548 6.8855 -0.199136 5.21442 0.283835C3.54334 0.766806 2.10285 1.83695 1.15794 3.2974C0.213035 4.75785 -0.172743 6.51038 0.0715766 8.23261C0.315896 9.95484 1.17388 11.5309 2.4877 12.671C3.80151 13.811 5.4828 14.4383 7.22227 14.4374H14.4444C14.5918 14.4374 14.7331 14.3789 14.8373 14.2747C14.9415 14.1705 15 14.0292 15 13.8819C15 13.7345 14.9415 13.5932 14.8373 13.489C14.7331 13.3848 14.5918 13.3263 14.4444 13.3263ZM1.1112 7.21523C1.1112 6.00658 1.46961 4.82506 2.14111 3.8201C2.8126 2.81514 3.76702 2.03187 4.88367 1.56934C6.00032 1.10681 7.22905 0.985789 8.41449 1.22159C9.59992 1.45738 10.6888 2.03941 11.5435 2.89405C12.3981 3.7487 12.9801 4.83759 13.2159 6.02302C13.4517 7.20845 13.3307 8.43719 12.8682 9.55384C12.4056 10.6705 11.6224 11.6249 10.6174 12.2964C9.61244 12.9679 8.43093 13.3263 7.22227 13.3263C5.60208 13.3245 4.04878 12.68 2.90313 11.5344C1.75748 10.3887 1.11304 8.83542 1.1112 7.21523ZM7.22227 5.54858C7.55191 5.54858 7.87414 5.45083 8.14822 5.2677C8.4223 5.08456 8.63592 4.82426 8.76206 4.51972C8.88821 4.21518 8.92121 3.88007 8.85691 3.55677C8.7926 3.23347 8.63386 2.9365 8.40078 2.70342C8.16769 2.47033 7.87072 2.3116 7.54742 2.24729C7.22412 2.18298 6.88901 2.21599 6.58447 2.34213C6.27993 2.46828 6.01964 2.6819 5.8365 2.95598C5.65337 3.23006 5.55562 3.55229 5.55562 3.88192C5.55562 4.32395 5.73121 4.74787 6.04377 5.06043C6.35633 5.37298 6.78025 5.54858 7.22227 5.54858ZM7.22227 3.32637C7.33215 3.32637 7.43956 3.35895 7.53092 3.42C7.62228 3.48104 7.69349 3.56781 7.73554 3.66932C7.77759 3.77084 7.78859 3.88254 7.76715 3.9903C7.74572 4.09807 7.6928 4.19706 7.61511 4.27476C7.53741 4.35245 7.43842 4.40536 7.33066 4.4268C7.22289 4.44824 7.11119 4.43723 7.00967 4.39519C6.90816 4.35314 6.82139 4.28193 6.76035 4.19057C6.69931 4.09921 6.66672 3.9918 6.66672 3.88192C6.66672 3.73458 6.72525 3.59327 6.82944 3.48909C6.93363 3.3849 7.07493 3.32637 7.22227 3.32637ZM8.88893 10.5485C8.88893 10.2189 8.79118 9.89668 8.60805 9.6226C8.42491 9.34852 8.16462 9.1349 7.86008 9.00875C7.55553 8.88261 7.22043 8.8496 6.89713 8.91391C6.57383 8.97822 6.27686 9.13695 6.04377 9.37004C5.81069 9.60313 5.65195 9.9001 5.58764 10.2234C5.52334 10.5467 5.55634 10.8818 5.68249 11.1863C5.80863 11.4909 6.02225 11.7512 6.29633 11.9343C6.57041 12.1175 6.89264 12.2152 7.22227 12.2152C7.6643 12.2152 8.08822 12.0396 8.40078 11.727C8.71334 11.4145 8.88893 10.9906 8.88893 10.5485ZM6.66672 10.5485C6.66672 10.4387 6.69931 10.3313 6.76035 10.2399C6.82139 10.1485 6.90816 10.0773 7.00967 10.0353C7.11119 9.99323 7.22289 9.98223 7.33066 10.0037C7.43842 10.0251 7.53741 10.078 7.61511 10.1557C7.6928 10.2334 7.74572 10.3324 7.76715 10.4402C7.78859 10.5479 7.77759 10.6596 7.73554 10.7611C7.69349 10.8627 7.62228 10.9494 7.53092 11.0105C7.43956 11.0715 7.33215 11.1041 7.22227 11.1041C7.07493 11.1041 6.93363 11.0456 6.82944 10.9414C6.72525 10.8372 6.66672 10.6959 6.66672 10.5485ZM10.5556 8.88189C10.8852 8.88189 11.2074 8.78414 11.4815 8.60101C11.7556 8.41787 11.9692 8.15758 12.0954 7.85303C12.2215 7.54849 12.2545 7.21338 12.1902 6.89008C12.1259 6.56678 11.9672 6.26982 11.7341 6.03673C11.501 5.80364 11.204 5.64491 10.8807 5.5806C10.5574 5.51629 10.2223 5.5493 9.91778 5.67544C9.61324 5.80159 9.35295 6.01521 9.16981 6.28929C8.98668 6.56337 8.88893 6.8856 8.88893 7.21523C8.88893 7.65726 9.06452 8.08118 9.37708 8.39374C9.68964 8.70629 10.1136 8.88189 10.5556 8.88189ZM10.5556 6.65968C10.6655 6.65968 10.7729 6.69226 10.8642 6.75331C10.9556 6.81435 11.0268 6.90112 11.0688 7.00263C11.1109 7.10415 11.1219 7.21585 11.1005 7.32362C11.079 7.43138 11.0261 7.53037 10.9484 7.60807C10.8707 7.68576 10.7717 7.73867 10.664 7.76011C10.5562 7.78155 10.4445 7.77054 10.343 7.7285C10.2415 7.68645 10.1547 7.61524 10.0937 7.52388C10.0326 7.43252 10 7.32511 10 7.21523C10 7.06789 10.0586 6.92658 10.1628 6.8224C10.2669 6.71821 10.4082 6.65968 10.5556 6.65968ZM3.88896 5.54858C3.55933 5.54858 3.2371 5.64633 2.96302 5.82946C2.68894 6.01259 2.47532 6.27289 2.34918 6.57743C2.22303 6.88197 2.19002 7.21708 2.25433 7.54038C2.31864 7.86368 2.47737 8.16065 2.71046 8.39374C2.94355 8.62682 3.24052 8.78556 3.56382 8.84986C3.88711 8.91417 4.22222 8.88117 4.52677 8.75502C4.83131 8.62888 5.0916 8.41526 5.27474 8.14118C5.45787 7.8671 5.55562 7.54487 5.55562 7.21523C5.55562 6.77321 5.38003 6.34929 5.06747 6.03673C4.75491 5.72417 4.33099 5.54858 3.88896 5.54858ZM3.88896 7.77078C3.77909 7.77078 3.67168 7.7382 3.58032 7.67716C3.48896 7.61611 3.41775 7.52935 3.3757 7.42783C3.33365 7.32632 3.32265 7.21462 3.34409 7.10685C3.36552 6.99908 3.41843 6.90009 3.49613 6.8224C3.57382 6.7447 3.67281 6.69179 3.78058 6.67036C3.88835 6.64892 4.00005 6.65992 4.10156 6.70197C4.20308 6.74402 4.28984 6.81522 4.35089 6.90658C4.41193 6.99794 4.44452 7.10535 4.44452 7.21523C4.44452 7.36257 4.38598 7.50388 4.2818 7.60807C4.17761 7.71225 4.03631 7.77078 3.88896 7.77078Z");this.items.length||(n.save(),n.translate(-this.width/2,-this.height/2),n.translate(0,12),n.font="600 12px 'Geist variable'",n.fillStyle="#A0A4A2",n.textAlign="left",n.clip(),n.fillText("Drag and drop media here",32,12),n.translate(8,1),n.fillStyle="#A0A4A2",n.fill(r),n.restore())}}class xf extends Er{static type="Helper";constructor(n){n.activeGuideFill="#ffffff",super(n)}}class Cf{addTrackItem(n){const r=n.id,s=Ua(n,{tScale:this.tScale,sizesMap:this.sizesMap});this.add(s),this.trackItemIds.push(r),this.renderTracks(),this.alignItemsToTrack(),this.calcBounding(),this.duration=Bt(this.trackItemsMap)}alignItemsToTrack(){this.pauseEventListeners();const n=new Map(this.getObjects("Track").map(s=>[s.id,s])),r=this.getObjects("Image","Video","Text","Audio");this.trackItemIds.forEach(s=>{const a=this.tracks.find(d=>d.items.includes(s));if(!a)return;const c=n.get(a.id);this.duration;const u=this.getObjects().find(d=>d.id===s);u&&c&&(u.isMain=!1,this.trackItemsMap[s].isMain=!1,u.set({top:c.top}),u.setCoords())}),n.forEach(s=>{s.items=r.filter(a=>a.top===s.top).map(a=>a.id)}),this.resumeEventListeners()}updateTrackItemsPosition(){const n=this.getObjects("Image","Text","Video","Audio");n.sort((r,s)=>r.top-s.top),this.trackItemIds=n.map(r=>r.id).reverse()}restoreTrackItemPositions(){}updateTrackItemsState(){this.pauseEventListeners();const n=this.getObjects("Image","Video","Text","Audio"),r={};n.forEach(s=>{const{id:a,left:c,width:u}=s,d=this.trackItemsMap[a],h=Mt(c,this.tScale),g=h+Mt(u,this.tScale),y={from:h,to:g},w={...d,display:y,trim:s instanceof Yn||s instanceof un?s.trim:void 0};s.display=y,r[a]=w}),this.trackItemsMap=r,this.resumeEventListeners()}deleteActiveTrackItem(){const n=this.getActiveObjects();if(!n.length)return!1;const r=n.map(a=>a.id),s=ci(this.tracks,r);this.trackItemsMap=Object.keys(this.trackItemsMap).reduce((a,c)=>(r.includes(c)||(a[c]=this.trackItemsMap[c]),a),{}),this.trackItemIds=this.trackItemIds.filter(a=>!r.includes(a)),this.tracks=s,this.discardActiveObject(),this.remove(...n),this.setActiveIds([]),this.renderTracks(),this.alignItemsToTrack(),this.updateState({updateHistory:!0,kind:"remove"})}updateTrackItemsToHistory(){this.pauseEventListeners();const n=this.getObjects();this.trackItemIds.forEach(r=>{const s=this.tracks.find(g=>g.items.includes(r)),a=n.find(g=>g.id===s?.id)?.top;if(!a){console.warn(`Track top not found for trackItemId: ${r}`);return}const c=this.trackItemsMap[r],u=n.find(g=>g.id===r);if(!u){console.warn(`Object not found for trackItemId: ${r}`);return}const d=Ge(c.display.from,this.tScale),h=Ge(c.display.to-c.display.from,this.tScale);u.set({left:d,width:h,top:a}),u.setCoords()}),this.requestRenderAll(),this.resumeEventListeners()}cloneActiveTrackItem(n){const r=n?.trackItemId||this.activeIds[0];if(!r)return!1;const a={...this.trackItemsMap[r],id:Ke()},c=this.tracks.find(y=>y.items.includes(r)),u=this.tracks.findIndex(y=>y.id===c?.id)+1;this.findOrCreateTrack(a,{trackIndex:u});const d=Ua(a,{tScale:this.tScale});d&&this.add(d);const{audioData:h,...g}=a.metadata||{};a.metadata=g,this.trackItemsMap[a.id]=a,this.trackItemIds.push(a.id),this.alignItemsToTrack(),this.updateTransitions(),this.updateState()}splitActiveTrackItem(n){const r=n.trackItemId??this.activeIds[0];if(!r||this.activeIds.length>1)return!1;const s=this.trackItemsMap[r],a=n.time;if(s.display.from>=a||s.display.to<=a)return!1;const c={...s,display:{from:s.display.from,to:a}},u={...s,display:{from:a,to:s.display.to},id:Ke()};if(s.type==="video"||s.type==="audio"){const y=a-c.display.from;c.trim={from:s.trim.from,to:s.trim.from+y},u.trim={from:c.trim.to,to:s.trim.to}}const d=this.getObjects().find(y=>y.id===r);d.display=c.display,this.tracks.find(y=>y.items.includes(r))?.items.push(u.id);const g=Ua(u,{tScale:this.tScale});g&&this.add(g),this.trackItemsMap[u.id]=u,this.trackItemsMap[r]=c,this.trackItemIds.push(u.id),this.updateTrackItemCoords(c.id),this.alignItemsToTrack(),this.updateTransitions(),this.updateState()}updateTrackItemCoords(n){const r=this.getObjects().find(u=>u.id===n),s=this.trackItemsMap[n],a=Ge(s.display.from,this.tScale),c=Ge(s.display.to-s.display.from,this.tScale);r?.set({left:a,width:c}),r?.setCoords()}updateTrackItemDetails(n,r){const s=r?.trackItemId;if(!s)return!1;const a=this.trackItemsMap[s],c={...a.details,...n.details};("fontSize"in c||"lineHeight"in c)&&(c.height=yi(c.text,c)),this.trackItemsMap[s]={...a,...n,details:c},this.updateState()}updateTrackItem(n,r){const s=r.trackItemId;if(!s)return!1;const a=this.trackItemsMap[s],c={...a.details,...n.details};if(a.type==="text"&&n.details.text){const u=this.getObjects("Text").find(d=>d.id===s);u instanceof Fa&&(u.text=n.details.text,this.requestRenderAll())}("fontSize"in c||"lineHeight"in c)&&(c.height=yi(c.text,c)),this.trackItemsMap[s]={...a,...n,details:c},this.updateState()}updateTrackItemsDetails(n,r){r?.trackItemIds?.forEach((s,a)=>{const c=this.trackItemsMap[s],u={...c.details,...n[a].details};("fontSize"in u||"lineHeight"in u)&&(u.height=yi(u.text,u)),this.trackItemsMap[s]={...c,...n[a],details:u}}),this.updateState()}getTrackItems(){return this.getObjects(...My)}setActiveTrackItemCoords(){this.getActiveObjects().forEach(n=>n.setCoords())}deleteTrackItemById(n){const r=this.getObjects().filter(s=>n.includes(s.id));this.tracks=ci(this.tracks,n),this.trackItemsMap=Object.keys(this.trackItemsMap).filter(s=>!n.includes(s)).reduce((s,a)=>(s[a]=this.trackItemsMap[a],s),{}),this.trackItemIds=this.trackItemIds.filter(s=>!n.includes(s)),this.discardActiveObject(),this.remove(...r),this.renderTracks(),this.alignItemsToTrack(),this.calcBounding(),this.duration=Bt(this.trackItemsMap)}selectTrackItemByIds(n){const r=this.getActiveObjects().map(a=>a.id);if(Ee.isEqual(r,n))return;const s=this.getTrackItems().filter(a=>n.includes(a.id));if(s.length===0)this.discardActiveObject();else if(s.length===1)this.setActiveObject(s[0]);else{const a=new V.ActiveSelection(s);this.setActiveObject(a)}this.requestRenderAll()}}const My=["Image","Text","Video","Audio","Caption","Template"],Ua=(t,n)=>{const s={text:bf,video:yf,image:vf,audio:mf}[t.type];return s(t,n)},xr={text:32,image:40,video:40,audio:32,main:40},kf=t=>{switch(t){case"text":return xr.text;case"image":return xr.image;case"video":return xr.video;case"audio":return xr.audio;case"helperTop":return 40;case"helperBottom":return 40;case"helperCenter":return 8;case"main":return xr.main;default:return xr.text}};class Af{findOrCreateTrack(n,{trackId:r,trackIndex:s}){const a=r;if(a){const u=this.tracks.find(d=>d.id===a);if(u)return u.items.push(n.id),a}const c={id:Ke(),items:[n.id],type:n.type,accepts:this.acceptsMap?.[n.type]};return s!==void 0?this.tracks.splice(s,0,c):this.tracks.push(c),this.renderTracks(),c.id}removeTracks(){this.getObjects("Track","Helper")?.forEach(n=>this.remove(n))}renderTracks(){this.updateTracksState(),this.removeTracks();const n=this.width,r=this.tracks.flatMap(d=>[d,{id:`after-${d.id}`,type:"helper",items:[],accepts:[]}]).slice(0,-1);let s=0;const a=V.classRegistry.getClass("Helper")||Er,c=new a({id:"helperLineTop",top:s,selectable:!1,evented:!1,tScale:this.tScale,width:n,kind:"top",metadata:{}});s+=kf("helperTop"),this.insertAt(0,c),r.forEach((d,h)=>{if(d.type==="helper"){const g=kf("helperCenter"),y=new a({id:d.id,top:s,tScale:this.tScale,width:n,height:g,metadata:{order:(h+1)/2},kind:"center"});s+=g,this.insertAt(0,y)}else{const g=V.classRegistry.getClass("Track")||En,y=new g({id:d.id,top:s,left:0,fill:"#18181b",height:42,width:n,tScale:this.tScale,accepts:this.acceptsMap?.[d.type]||[],items:d.items});s+=42,this.insertAt(0,y)}});const u=new a({id:"helperLineBottom",top:s,selectable:!1,evented:!1,tScale:this.tScale,width:n,kind:"bottom",metadata:{}});this.insertAt(0,u)}updateTracksState(){const n=this.tracks.filter(s=>s.items.length||s.type==="main"),r=new Map;n.forEach(s=>r.set(s.id,s)),this.tracks=Array.from(r.values())}updateTrackCoords(){const n=this.bounding.width+this.spacing.right;this.getObjects("Track","Helper").forEach(r=>{r.updateCoords(n),r.setCoords()})}}const Oy=60,Py=188;function Rf(t,n=1,r=1){const s=Py*n;return t*(Oy/1e3)*s/r}class Mf{removeTransitions(){const n=this.getObjects("Transition");this.remove(...n)}renderTransitions(){this.removeTransitions(),this.transitionIds.forEach(n=>{const r=this.transitionsMap[n],s=r.fromId,a=r.toId,c=this.getObjects(),u=c.find(T=>T.id===s),d=c.find(T=>T.id===a);if(!u||!d)return;const h=Rf(r.duration,this.tScale),g=u.left+u.width-h/2,y=u.height,w=new Ot({id:r.id,left:g,top:u.top,height:y,width:h,tScale:this.tScale,duration:r.duration,fromId:u.id,toId:d.id,kind:r.kind});r.kind==="none"&&(w.visible=!1),this.add(w)})}updateTransitionCoordinates(){this.pauseEventListeners(),this.getObjects("Transition").forEach(n=>{n.tScale=this.tScale,n.updateCoords(),n.setCoords()}),this.resumeEventListeners()}alignTransitionsToTrack(){this.pauseEventListeners(),this.transitionIds.forEach(n=>{const r=this.getObjects("Transition").find(s=>s.id===n);if(r instanceof Ot){const s=this.getObjects().find(u=>u.id===r.fromId);if(!s)return;const a=Rf(r.duration,this.tScale),c=s.left+s.width-a/2;r.set({left:c,top:s.top}),r.setCoords()}}),this.resumeEventListeners()}updateTransitions(n=!0){n&&this.pauseEventListeners();const r=this.getObjects("Track"),s=this.getObjects("Video","Image");this.removeTransitions();const a={},c=[];r.forEach(u=>{const d=s.filter(h=>u.items.includes(h.id)).sort((h,g)=>h.left-g.left);for(let h=0;h<d.length-1;h++){const g=d[h],y=d[h+1];if(Math.abs(g.left+g.width-y.left)<=1){const w=`${g.id}-${y.id}`;if(this.transitionIds.includes(w))a[w]=this.transitionsMap[w];else{const T={id:w,duration:1500,fromId:g.id,toId:y.id,kind:"none",trackId:u.id,type:"transition"};a[w]=T}c.push(w)}}}),this.transitionIds=c,this.transitionsMap=a,this.renderTransitions(),n&&this.resumeEventListeners()}}const W={canvas:null,enableGuideRedraw:!0,isPointerOverHelperTrack:!1,draggingOverTrack:null,primaryMovingObjects:[],secondaryMovingObjects:[],placeholderMovingObjects:[],objectInitialPositions:{},originTrack:{},trackToItemsMap:{},activeTrackToItemsMap:{},trackTopToIdMap:{},trackTops:[],activeObjects:[],primaryTracks:{},secondaryTracks:{}},Be={guide:null,object:null,objects:[]},Dy=()=>W,Ly=t=>{Object.assign(W,t)},Ny=t=>{t.on("before:transform",Of.bind(t))},jy=t=>{t.off("before:transform",Of.bind(t))};function Of(t){W.canvas=this,W.activeTrackToItemsMap={},W.primaryTracks={},W.secondaryTracks={},W.trackTops=[],W.trackToItemsMap={},W.activeObjects=[],W.trackTopToIdMap={},W.canvas.trackIdAfterTransform="",W.canvas.positionAfterTransform={};const n=W.canvas.getActiveObject();if(!n)return;W.activeObjects=n instanceof V.ActiveSelection?n.getObjects():[n];const r=W.canvas.getScenePoint(t.e),s=W.canvas.getObjects("Track");W.originTrack=s.find(u=>{const d=u.getBoundingRect();return r.x>=d.left&&r.x<=d.left+d.width&&r.y>=d.top&&r.y<=d.top+d.height})??{};const a=W.canvas.getObjects("Video","Image","Audio","Text","Element");s.forEach(u=>{const d=a.filter(h=>u.items.includes(h.id));W.trackToItemsMap[u.id]=d,W.trackTopToIdMap[u.top]=u.id,W.trackTops.push(u.top)}),W.trackTops.sort((u,d)=>u-d),W.activeObjects.forEach(u=>{const d=s?.find(g=>g.items.includes(u.id));if(!d)return;const h=d.id;W.activeTrackToItemsMap[h]?W.activeTrackToItemsMap[h].push(u):W.activeTrackToItemsMap[h]=[u]}),W.primaryMovingObjects=W.activeObjects.filter(u=>{const d=u.getBoundingRect();return r.y>=d.top&&r.y<=d.top+d.height&&!(u instanceof Ot)}),W.primaryMovingObjects.forEach(u=>{const d=u.getBoundingRect().top,h=W.trackTopToIdMap[d];if(W.primaryTracks[h])W.primaryTracks[h].objects.push(u);else{const g=za(W.trackTops,W.originTrack.top,d);if(typeof g!="number")return;W.primaryTracks[h]={objects:[u],index:g}}}),W.primaryMovingObjects=W.primaryMovingObjects.sort((u,d)=>u.left-d.left),W.secondaryMovingObjects=W.activeObjects.filter(u=>!W.primaryMovingObjects.includes(u)&&!(u instanceof Ot)),W.secondaryMovingObjects.forEach(u=>{const d=u.getBoundingRect().top,h=W.trackTopToIdMap[u.getBoundingRect().top];if(W.secondaryTracks[h])W.secondaryTracks[h].objects.push(u);else{const g=za(W.trackTops,W.originTrack.top,d);if(typeof g!="number")return;W.secondaryTracks[h]={objects:[u],index:g}}}),W.originTrack&&(W.canvas.trackOriginBeforeTransform=W.originTrack.id),n&&(W.canvas.positionBeforeTransform={top:n.top,left:n.left}),("transform"in t?t.transform:{}).action==="drag"&&(W.placeholderMovingObjects=W.primaryMovingObjects.map(u=>{const d=u.getBoundingRect();W.objectInitialPositions[u.id]={top:d.top,left:d.left};const h=new Ir({id:`${u.id}-placeholder`,left:d.left,top:d.top,width:d.width,height:d.height,for:Fy[u.type]});return h.draggedObject=u,h}),W.canvas.add(...W.placeholderMovingObjects))}function za(t,n,r){const s=t.indexOf(n),a=t.indexOf(r);return s===-1||a===-1?null:a-s}const Fy={trackitemvideo:"video",trackitemimage:"image",trackitemaudio:"audio",trackitemtext:"text"};function Pf(t){if(!Be.guide)return!1;t.e.preventDefault();const n=this,r=n.getViewportPoint(t.e);Be.guide.set({left:r.x-16,top:r.y-Be.guide.height/2});const s=Uy(r,Be.objects);s&&(Be.object=s,s.strokeDashArray=[5,1],s.setSelected(!0)),Be.objects.forEach(a=>{a!==s&&a.setSelected(!1)}),n.requestRenderAll()}function Uy(t,n){let r=1/0,s=null;const a=new V.Point(t.x,t.y);return n.forEach(c=>{const u=zy(c,a);u<r&&(r=u,s=c)}),s}function zy(t,n){return Math.sqrt(Math.pow(t.left-n.x,2)+Math.pow(t.top-n.y,2))}const Hy=["transition","image","video","audio","caption","text"];function Df(t){const n=t.e.dataTransfer?.types[0];if(!n)return;const r=JSON.parse(n),{type:s,duration:a=5e3}=r;if(!Hy.includes(s))return;const c=this;c.discardActiveObject();const u=Ge(a,c.tScale);Be.guide=Wy({width:u,height:48,id:"TransitionGuide",left:0,top:0,type:s}),c.add(Be.guide),s==="transition"&&(Be.objects=c.getObjects("Transition"),Be.objects.forEach(d=>{d.visible=!0})),ve.dispatch(ua)}function Wy({width:t,height:n,id:r,left:s,top:a,type:c}){return c==="transition"?new mi({top:0,left:0,height:48,width:48,id:"TransitionGuide"}):new vi({top:a,left:s,height:n,width:t,id:r,name:"Rivers in the mountains"})}function Lf(){if(!Be.guide)return;ve.dispatch(oi);const t=this;By(Be.objects),t.remove(Be.guide)}function By(t){t.forEach(n=>{n.strokeDashArray=[],n.setSelected(!1),n.kind==="none"&&(n.visible=!1)})}var Vy=typeof global=="object"&&global&&global.Object===Object&&global,$y=typeof self=="object"&&self&&self.Object===Object&&self,Ha=Vy||$y||Function("return this")(),xn=Ha.Symbol,Nf=Object.prototype,Gy=Nf.hasOwnProperty,Yy=Nf.toString,bi=xn?xn.toStringTag:void 0;function Xy(t){var n=Gy.call(t,bi),r=t[bi];try{t[bi]=void 0;var s=!0}catch{}var a=Yy.call(t);return s&&(n?t[bi]=r:delete t[bi]),a}var Zy=Object.prototype,Ky=Zy.toString;function qy(t){return Ky.call(t)}var Jy="[object Null]",Qy="[object Undefined]",jf=xn?xn.toStringTag:void 0;function Wa(t){return t==null?t===void 0?Qy:Jy:jf&&jf in Object(t)?Xy(t):qy(t)}function Ba(t){return t!=null&&typeof t=="object"}var eb="[object Symbol]";function Va(t){return typeof t=="symbol"||Ba(t)&&Wa(t)==eb}function tb(t,n){for(var r=-1,s=t==null?0:t.length,a=Array(s);++r<s;)a[r]=n(t[r],r,t);return a}var _i=Array.isArray,Ff=xn?xn.prototype:void 0,Uf=Ff?Ff.toString:void 0;function zf(t){if(typeof t=="string")return t;if(_i(t))return tb(t,zf)+"";if(Va(t))return Uf?Uf.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}function ks(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}function nb(t){return t}var rb="[object AsyncFunction]",ib="[object Function]",sb="[object GeneratorFunction]",ob="[object Proxy]";function ab(t){if(!ks(t))return!1;var n=Wa(t);return n==ib||n==sb||n==rb||n==ob}var $a=Ha["__core-js_shared__"],Hf=function(){var t=/[^.]+$/.exec($a&&$a.keys&&$a.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function cb(t){return!!Hf&&Hf in t}var lb=Function.prototype,ub=lb.toString;function db(t){if(t!=null){try{return ub.call(t)}catch{}try{return t+""}catch{}}return""}var fb=/[\\^$.*+?()[\]{}|]/g,hb=/^\[object .+?Constructor\]$/,pb=Function.prototype,gb=Object.prototype,mb=pb.toString,vb=gb.hasOwnProperty,yb=RegExp("^"+mb.call(vb).replace(fb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bb(t){if(!ks(t)||cb(t))return!1;var n=ab(t)?yb:hb;return n.test(db(t))}function _b(t,n){return t?.[n]}function Ga(t,n){var r=_b(t,n);return bb(r)?r:void 0}function wb(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}var Sb=800,Tb=16,Ib=Date.now;function Eb(t){var n=0,r=0;return function(){var s=Ib(),a=Tb-(s-r);if(r=s,a>0){if(++n>=Sb)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function xb(t){return function(){return t}}var As=function(){try{var t=Ga(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Cb=As?function(t,n){return As(t,"toString",{configurable:!0,enumerable:!1,value:xb(n),writable:!0})}:nb,kb=Eb(Cb),Ab=9007199254740991,Rb=/^(?:0|[1-9]\d*)$/;function Wf(t,n){var r=typeof t;return n=n??Ab,!!n&&(r=="number"||r!="symbol"&&Rb.test(t))&&t>-1&&t%1==0&&t<n}function Mb(t,n,r){n=="__proto__"&&As?As(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}function Bf(t,n){return t===n||t!==t&&n!==n}var Ob=Object.prototype,Pb=Ob.hasOwnProperty;function Db(t,n,r){var s=t[n];(!(Pb.call(t,n)&&Bf(s,r))||r===void 0&&!(n in t))&&Mb(t,n,r)}var Vf=Math.max;function Lb(t,n,r){return n=Vf(n===void 0?t.length-1:n,0),function(){for(var s=arguments,a=-1,c=Vf(s.length-n,0),u=Array(c);++a<c;)u[a]=s[n+a];a=-1;for(var d=Array(n+1);++a<n;)d[a]=s[a];return d[n]=r(u),wb(t,this,d)}}var Nb=9007199254740991;function jb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Nb}var Fb="[object Arguments]";function $f(t){return Ba(t)&&Wa(t)==Fb}var Gf=Object.prototype,Ub=Gf.hasOwnProperty,zb=Gf.propertyIsEnumerable,Yf=$f(function(){return arguments}())?$f:function(t){return Ba(t)&&Ub.call(t,"callee")&&!zb.call(t,"callee")},Hb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wb=/^\w*$/;function Bb(t,n){if(_i(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Va(t)?!0:Wb.test(t)||!Hb.test(t)||n!=null&&t in Object(n)}var wi=Ga(Object,"create");function Vb(){this.__data__=wi?wi(null):{},this.size=0}function $b(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var Gb="__lodash_hash_undefined__",Yb=Object.prototype,Xb=Yb.hasOwnProperty;function Zb(t){var n=this.__data__;if(wi){var r=n[t];return r===Gb?void 0:r}return Xb.call(n,t)?n[t]:void 0}var Kb=Object.prototype,qb=Kb.hasOwnProperty;function Jb(t){var n=this.__data__;return wi?n[t]!==void 0:qb.call(n,t)}var Qb="__lodash_hash_undefined__";function e5(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=wi&&n===void 0?Qb:n,this}function Xn(t){var n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){var s=t[n];this.set(s[0],s[1])}}Xn.prototype.clear=Vb,Xn.prototype.delete=$b,Xn.prototype.get=Zb,Xn.prototype.has=Jb,Xn.prototype.set=e5;function t5(){this.__data__=[],this.size=0}function Rs(t,n){for(var r=t.length;r--;)if(Bf(t[r][0],n))return r;return-1}var n5=Array.prototype,r5=n5.splice;function i5(t){var n=this.__data__,r=Rs(n,t);if(r<0)return!1;var s=n.length-1;return r==s?n.pop():r5.call(n,r,1),--this.size,!0}function s5(t){var n=this.__data__,r=Rs(n,t);return r<0?void 0:n[r][1]}function o5(t){return Rs(this.__data__,t)>-1}function a5(t,n){var r=this.__data__,s=Rs(r,t);return s<0?(++this.size,r.push([t,n])):r[s][1]=n,this}function Cr(t){var n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){var s=t[n];this.set(s[0],s[1])}}Cr.prototype.clear=t5,Cr.prototype.delete=i5,Cr.prototype.get=s5,Cr.prototype.has=o5,Cr.prototype.set=a5;var c5=Ga(Ha,"Map");function l5(){this.size=0,this.__data__={hash:new Xn,map:new(c5||Cr),string:new Xn}}function u5(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function Ms(t,n){var r=t.__data__;return u5(n)?r[typeof n=="string"?"string":"hash"]:r.map}function d5(t){var n=Ms(this,t).delete(t);return this.size-=n?1:0,n}function f5(t){return Ms(this,t).get(t)}function h5(t){return Ms(this,t).has(t)}function p5(t,n){var r=Ms(this,t),s=r.size;return r.set(t,n),this.size+=r.size==s?0:1,this}function Zn(t){var n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){var s=t[n];this.set(s[0],s[1])}}Zn.prototype.clear=l5,Zn.prototype.delete=d5,Zn.prototype.get=f5,Zn.prototype.has=h5,Zn.prototype.set=p5;var g5="Expected a function";function Ya(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(g5);var r=function(){var s=arguments,a=n?n.apply(this,s):s[0],c=r.cache;if(c.has(a))return c.get(a);var u=t.apply(this,s);return r.cache=c.set(a,u)||c,u};return r.cache=new(Ya.Cache||Zn),r}Ya.Cache=Zn;var m5=500;function v5(t){var n=Ya(t,function(s){return r.size===m5&&r.clear(),s}),r=n.cache;return n}var y5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b5=/\\(\\)?/g,_5=v5(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(y5,function(r,s,a,c){n.push(a?c.replace(b5,"$1"):s||r)}),n});function w5(t){return t==null?"":zf(t)}function Os(t,n){return _i(t)?t:Bb(t,n)?[t]:_5(w5(t))}function Xa(t){if(typeof t=="string"||Va(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}function S5(t,n){n=Os(n,t);for(var r=0,s=n.length;t!=null&&r<s;)t=t[Xa(n[r++])];return r&&r==s?t:void 0}function T5(t,n){for(var r=-1,s=n.length,a=t.length;++r<s;)t[a+r]=n[r];return t}var Xf=xn?xn.isConcatSpreadable:void 0;function I5(t){return _i(t)||Yf(t)||!!(Xf&&t&&t[Xf])}function E5(t,n,r,s,a){var c=-1,u=t.length;for(r||(r=I5),a||(a=[]);++c<u;){var d=t[c];r(d)?T5(a,d):a[a.length]=d}return a}function x5(t){var n=t==null?0:t.length;return n?E5(t):[]}function C5(t){return kb(Lb(t,void 0,x5),t+"")}function k5(t,n){return t!=null&&n in Object(t)}function A5(t,n,r){n=Os(n,t);for(var s=-1,a=n.length,c=!1;++s<a;){var u=Xa(n[s]);if(!(c=t!=null&&r(t,u)))break;t=t[u]}return c||++s!=a?c:(a=t==null?0:t.length,!!a&&jb(a)&&Wf(u,a)&&(_i(t)||Yf(t)))}function R5(t,n){return t!=null&&A5(t,n,k5)}function M5(t,n,r,s){if(!ks(t))return t;n=Os(n,t);for(var a=-1,c=n.length,u=c-1,d=t;d!=null&&++a<c;){var h=Xa(n[a]),g=r;if(h==="__proto__"||h==="constructor"||h==="prototype")return t;if(a!=u){var y=d[h];g=void 0,g===void 0&&(g=ks(y)?y:Wf(n[a+1])?[]:{})}Db(d,h,g),d=d[h]}return t}function O5(t,n,r){for(var s=-1,a=n.length,c={};++s<a;){var u=n[s],d=S5(t,u);r(d,u)&&M5(c,Os(u,t),d)}return c}function P5(t,n){return O5(t,n,function(r,s){return R5(t,s)})}var D5=C5(function(t,n){return t==null?{}:P5(t,n)});function Zf(t){const n=t.e.dataTransfer?.types[0];if(!n)return;const r=JSON.parse(t.e.dataTransfer.getData(n)),s=this;if(r.type!=="transition"){L5(r),s.remove(Be.guide),s.requestRenderAll(),ve.dispatch(oi);return}Be.guide&&(Be.object&&N5(r,s),Be.objects.forEach(a=>{a.strokeDashArray=[],a.setSelected(!1),a.kind==="none"&&(a.visible=!1)}),s.remove(Be.guide),s.requestRenderAll(),ve.dispatch(oi))}function L5(t){const n={...t,id:Ke()};switch(t.type){case"image":ve.dispatch(Sr,{payload:n});break;case"video":ve.dispatch(_r,{payload:n});break;case"audio":ve.dispatch(wr,{payload:n});break}}function N5(t,n){const r=Be.object?.id,s=D5(t,["kind","direction"]);Object.entries(s).forEach(([a,c])=>{a==="kind"?Be.object.kind=c:Be.object[a]=c}),n.transitionsMap[r]={...n.transitionsMap[r],...s},n.updateState()}const j5=t=>{t.on("dragover",Pf),t.on("dragenter",Df),t.on("dragleave",Lf),t.on("drop",Zf)},F5=t=>{t.off("dragover",Pf),t.off("dragenter",Df),t.off("dragleave",Lf),t.off("drop",Zf)},Kf=t=>{const n=t.target.canvas,r=t.target;if(t.action==="resizing"&&r instanceof Ot&&n){const s=r.id,a=n.getObjects("Transition").find(c=>c.id===s);if(a&&a instanceof Ot){const c=Ee.cloneDeep(n.transitionsMap),u={...c,[s]:{...c[s],width:a.width,duration:a.duration}};n.transitionsMap=u,n.updateState()}}n&&(U5(n,n.getObjects()),z5(n.getObjects("Helper")),W.isPointerOverHelperTrack=!1,W.draggingOverTrack=null)},U5=(t,n)=>{n.forEach(r=>{r.isAlignmentAuxiliary&&t.remove(r)})},z5=t=>{t.forEach(n=>n.setSelected(!1))};function qf(t){const n=t.target.canvas;if(!n)return;const r=n.getActiveObject();if(!r||!n.positionBeforeTransform)return;const s=n.getScenePoint(t.e),a=n.getObjects("Track","Helper").find(c=>{const u=c.getBoundingRect();return s.x>=u.left&&s.x<=u.left+u.width&&s.y>=u.top&&s.y<=u.top+u.height});if(t.action==="resizing"){const c=(W.trackToItemsMap[W.originTrack.id]||[]).filter(d=>d!==r);r.setCoords();const u=Ps(c,r.getBoundingRect());return n.fire("track-items:resized",{trackId:W.originTrack.id,trackItemIds:[r.id],isOverlapped:!!u}),!1}if(!a)return r&&(r?.set(n.positionBeforeTransform),r?.setCoords()),!1;if(a instanceof Er){let c;switch(a.kind){case"top":c=0;break;case"center":c=a.metadata.order||0;break;case"bottom":c=-1;break;default:return}const u={isSecondaryOverlapped:!1,secondaryTracks:W.secondaryTracks,primaryTracks:W.primaryTracks,primaryPositions:{trackIndex:c,trackId:n.trackIdAfterTransform,positions:n.positionAfterTransform}};V5(u)}else if(a instanceof En){const c={isSecondaryOverlapped:W5(),secondaryTracks:W.secondaryTracks,primaryTracks:W.primaryTracks,primaryPositions:{trackId:n.trackIdAfterTransform,positions:n.positionAfterTransform}};H5(c)}}const H5=t=>{W.canvas&&W.canvas.fire("track-items:moved",t)};function W5(){const t=B5();return Object.keys(t).some(n=>{const r=W.trackToItemsMap[n],s=t[n].objects;return r?.length?r.filter(a=>!s.includes(a)).some(a=>Ps(s,a.getBoundingRect())):!0})}function B5(){const[t]=W.primaryMovingObjects,n=t.id,s=W.canvas.positionAfterTransform[n].top-t.getBoundingRect().top,a={};return W.secondaryMovingObjects.forEach(c=>{const u=c.getBoundingRect().top+s,d=W.trackTopToIdMap[u],h=za(W.trackTops,W.originTrack.top,u);a[d]?a[d].objects.push(c):a[d]={objects:[c],index:h}}),a}const V5=t=>{W.canvas&&W.canvas.fire("track:create",t)};function Ps(t,n){return t.find(r=>{const s=r.getBoundingRect();return n.left<s.left+s.width&&n.left+n.width>s.left&&n.top<s.top+s.height&&n.top+n.height>s.top})}const $5=t=>{t.on("object:modified",Kf),t.on("object:modified",qf)},G5=t=>{t.off("object:modified",Kf),t.off("object:modified",qf)};function Y5(t,n){t.remove(...n),n.length=0}function Jf(){Y5(this,W.placeholderMovingObjects)}function Qf(t){const n=this.height<this.bounding.height,r=this.width<this.bounding.width;if(!n&&!r)return;const s=this.viewportTransform;let a=s[4],c=s[5];const u=2;t.e.shiftKey?a=s[4]-t.e.deltaY*u:(n&&(c=s[5]-t.e.deltaY*u),a=s[4]-t.e.deltaX*u),this.setViewportPos(a,c)}const X5=t=>{t.on("mouse:wheel",Qf),t.on("mouse:up",Jf.bind(t))},Z5=t=>{t.off("mouse:wheel",Qf),t.off("mouse:up",Jf.bind(t))};function eh(t){const n=this;if(!n)return;const r=n.getScenePoint(t.e),s=n.getObjects("Helper","Track");W.draggingOverTrack=s.find(g=>{const y=g.getBoundingRect();return r.x>=y.left&&r.x<=y.left+y.width&&r.y>=y.top&&r.y<=y.top+y.height})??null,s.forEach(g=>{if(nh(g)){const y=W.draggingOverTrack;g.setSelected(g===y)}}),W.isPointerOverHelperTrack=nh(W.draggingOverTrack),n.getObjects();const a=t.target;a.getBoundingRect(),a.setCoords();const c=[a,...n.getActiveObjects(),...n.getObjects("Track","Helper","Transition","Placeholder")],u=K5(c,n),d=J5(a);q5(u,d).forEach(g=>{g.orientation==="V"?a.left=g.lineGuide+g.offset:a.top=g.lineGuide+g.offset})}const K5=(t,n)=>{const r=[],s=[];return n.getObjects().filter(a=>a.visible).forEach(a=>{if(t.some(d=>d.id===a.id)||a.isAlignmentAuxiliary)return;const u=a.getBoundingRect();r.push(th(u.left,u.width,u.top,u.height)),s.push(th(u.top,u.height,u.left,u.width))}),{vertical:r.flat(),horizontal:[]}},th=(t,n,r,s)=>[t,t+n].map(a=>({val:a,start:r,end:r+s})),q5=(t,n)=>{const r=[],s=[];t.vertical.forEach(h=>{n.vertical.forEach(g=>{const y=Math.abs(h.val-g.guide);y<10&&r.push({lineGuide:h.val,diff:y,orientation:"V",snap:g.snap,offset:g.offset,targetDim:{start:h.start,end:h.end}})})}),t.horizontal.forEach(h=>{n.horizontal.forEach(g=>{const y=Math.abs(h.val-g.guide);y<10&&s.push({lineGuide:h.val,diff:y,orientation:"H",snap:g.snap,offset:g.offset,targetDim:{start:h.start,end:h.end}})})});const c=[],u=r.sort((h,g)=>h.diff-g.diff)[0],d=s.sort((h,g)=>h.diff-g.diff)[0];return u&&c.push({lineGuide:u.lineGuide,offset:u.offset,orientation:"V",snap:u.snap,targetDim:u.targetDim}),d&&c.push({lineGuide:d.lineGuide,offset:d.offset,orientation:"H",snap:d.snap,targetDim:d.targetDim}),c},J5=t=>{const n=t.getBoundingRect();return{vertical:[{guide:Math.round(n.left),offset:Math.round(t.left-n.left),snap:"start"},{guide:Math.round(n.left+n.width),offset:Math.round(t.left-n.left-n.width),snap:"end"}],horizontal:[{guide:Math.round(n.top),offset:Math.round(t.top-n.top),snap:"start"},{guide:Math.round(n.top+n.height),offset:Math.round(t.top-n.top-n.height),snap:"end"}]}},nh=t=>t instanceof Er;function Q5(t){t.opacity=W.isPointerOverHelperTrack?0:1}const rh=o_(t=>{const n=t.target.canvas;if(a_(t),!W.draggingOverTrack)return;const r=W.placeholderMovingObjects.map(c=>c.draggedObject),s=(W.trackToItemsMap[W.draggingOverTrack.id]||[]).filter(c=>!r.includes(c)),a=s.find(c=>Ps(r,c.getBoundingRect()));W.placeholderMovingObjects.forEach(c=>{const u=c.draggedObject;u?.setCoords(),Q5(c);const d=e_(u,s,a,W.placeholderMovingObjects.length>1);n.trackIdAfterTransform=W.trackTopToIdMap[d.top],n.positionAfterTransform[u?.id]={top:d.top,left:d.left},c.left=d.left,c.top=d.top})},5),e_=(t,n,r,s)=>!t_(t)||s&&r?ih(t):r?n_(t,r,n):s_(t),t_=t=>W.draggingOverTrack?W.draggingOverTrack.accepts?.includes(t.type)??!1:!1,ih=t=>({top:W.objectInitialPositions[t.id].top,left:W.objectInitialPositions[t.id].left}),n_=(t,n,r)=>{const s=r_(t,n);return!i_(r,t,s)||W.activeObjects.length!==1?ih(t):{left:s,top:n.top}},r_=(t,n)=>{const r=t.left+t.width/2,s=n.left+n.width/2;return r<s?n.left-t.width:n.left+n.width},i_=(t,n,r)=>!(r<0||Ps(t,{...n.getBoundingRect(),left:r})),s_=t=>({left:t.getBoundingRect().left,top:W.draggingOverTrack?.top??0});function o_(t,n){let r=null;return function(...s){const a=Date.now();(r===null||a-r>=n)&&(r=a,t(...s))}}function a_(t){const n=t.target,r=n.canvas,s=n.top,a=-n.height*.75,c=r.height+n.height*.75;n.top=Math.min(Math.max(s,a),c-n.height);const u=n.left;n.left=Math.max(u,0)}const c_=t=>{t.on("object:moving",eh.bind(t)),t.on("object:moving",rh)},l_=t=>{t.off("object:moving",eh.bind(t)),t.off("object:moving",rh)};function sh(){const t=this,n=t.getActiveObject(),r=t.getActiveObjects().map(s=>s.id);n instanceof V.Group?(n.borderColor="rgba(0, 216, 214, 0.75)",n.hasControls=!1,n.hoverCursor="default",n.borderScaleFactor=1,n.padding=0,n.getObjects().forEach(s=>{s.setSelected(!0)})):n?.setSelected(!0),this.setActiveIds(r)}function oh(t){const n=this,r=n.getActiveObject();r instanceof V.Group&&(r.borderColor="transparent",r.hasControls=!1,r.hoverCursor="default"),t.selected.forEach(a=>{a.setSelected(!0)}),t.deselected.forEach(a=>{a.setSelected(!1)});const s=n.getActiveObjects().map(a=>a.id);this.setActiveIds(s)}function ah(t){this.getObjects().forEach(r=>{r.isSelected&&(r.isSelected=!1)}),t.deselected.forEach(r=>{r.setSelected(!1)});const n=this.getActiveObjects().map(r=>r.id);this.setActiveIds(n)}const u_=t=>{t.on("selection:created",sh),t.on("selection:updated",oh),t.on("selection:cleared",ah)},d_=t=>{t.off("selection:created",sh),t.off("selection:updated",oh),t.off("selection:cleared",ah)};let ch,lh,uh;const f_=t=>{const{state:n}=t;ch=n.subscribeToActiveIds(({activeIds:r})=>{if(r.length===1){const s=r[0],{trackItemIds:a,trackItemsMap:c}=n.getState();a.forEach(u=>{c[u].type}),t.selectTrackItemByIds([s])}else t.selectTrackItemByIds(r)}),lh=n.subscribeToHistory(r=>{const{tracks:s,trackItemsMap:a,trackItemIds:c,trackItemDetailsMap:u}=r;t.tracks=s,t.trackItemsMap=a,t.trackItemIds=c,t.trackItemDetailsMap=u,t.renderTracks(),t.updateTrackItemsToHistory(),t.alignItemsToTrack(),t.calcBounding(),t.updateTransitions(),t.duration=Bt(t.trackItemsMap)}),uh=n.subscribeToAddOrRemoveItems(()=>{const r=t.getTrackItems().map(d=>d.id),{trackItemIds:s,trackItemsMap:a,trackItemDetailsMap:c}=n.getState(),u=[];r.forEach(d=>{s.includes(d)||u.push(d)}),t.deleteTrackItemById(u),t.tracks=n.getState().tracks,t.trackItemsMap=a,t.trackItemDetailsMap=c,s.forEach(d=>{if(!r.includes(d)){const h={...a[d],details:{...c[d].details}};t.addTrackItem(h)}}),t.renderTracks(),t.alignItemsToTrack(),s.forEach(d=>{t.updateTrackItemCoords(d)}),t.updateTransitions(),t.updateTrackCoords()})},h_=t=>{ch.unsubscribe(),lh.unsubscribe(),uh.unsubscribe()};function dh(t){const{isSecondaryOverlapped:n,secondaryTracks:r,primaryTracks:s,primaryPositions:a}=t,{trackId:c,positions:u}=a,d=this.tracks.findIndex(x=>x.id===c),h=Ea(Object.keys(r).map(x=>r[x].objects.map(A=>A.id))),g=ci(this.tracks,[...Object.keys(u),...h]);Object.keys(s).forEach(x=>{this.pauseEventListeners();const{objects:A}=s[x];A.forEach(R=>{const D=u[R.id];R.left=D.left}),this.resumeEventListeners();const M=g.find(R=>R.id===c);M&&M.items.push(...Object.keys(u)),this.tracks=g});const y=this.tracks[d],w=[];Object.keys(r).forEach(x=>{const{objects:A,index:M}=r[x],R=A.map(F=>F.id),[D]=R,P=this.trackItemsMap[D];if(n){const F={id:Ke(),items:R,type:P.type,accepts:this.acceptsMap?.[P.type],tempIndex:M};w.push(F)}else{const F=g[d+M];F&&F.items.push(...R),this.tracks=g}});const T=xa(y,w);T.length&&g.splice(d,1,...T),this.tracks=g,this.renderTracks(),this.alignItemsToTrack(),this.updateTrackItemsPosition(),this.updateTransitions(),this.updateState({updateHistory:!0,kind:"update"})}function fh({trackItemIds:t,isOverlapped:n}){const[r]=t;if(r){if(!this.getObjects("Transition").find(s=>s.id===r)){const s=this.tracks.find(a=>a.items.includes(r));if(n){const a=p_(this.tracks,t),c={id:Ke(),items:[r],type:s?.type,accepts:s?.accepts},u=this.tracks.findIndex(d=>d.id===s?.id);a.splice(u,0,c),this.tracks=a}}this.renderTracks(),this.alignItemsToTrack(),this.alignTransitionsToTrack(),this.updateTransitions(),this.updateTrackItemsPosition(),this.updateState({updateHistory:!0,kind:"update"})}}function p_(t,n){return t.map(r=>({...r,items:r.items.filter(s=>!n.includes(s))}))}function hh(t){const{secondaryTracks:n,primaryTracks:r,primaryPositions:s}=t,{positions:a,trackIndex:c}=s,u=c===-1?this.tracks.length:c,[d]=Object.keys(r),h=this.tracks.find(M=>M.id==d),g=r[d],y={id:Ke(),items:g.objects.map(M=>M.id),type:h?.type,accepts:h?.accepts},w=Ea(Object.keys(n).map(M=>n[M].objects.map(R=>R.id))),T=ci(this.tracks,[...Object.keys(a),...w]),x=[];Object.keys(n).forEach(M=>{const{objects:R,index:D}=n[M],P=this.tracks.find(Q=>Q.id==M),F=R.map(Q=>Q.id),z={id:Ke(),items:F,type:P?.type,accepts:P?.accepts,tempIndex:D};x.push(z)});const A=xa(y,x);A.length&&T.splice(u,0,...A),this.tracks=T,this.renderTracks(),this.alignItemsToTrack(),this.updateTrackItemsPosition(),this.updateTransitions(),this.updateState({updateHistory:!0,kind:"update"})}const g_=t=>{t.on("track:create",hh.bind(t)),t.on("track-items:resized",fh.bind(t)),t.on("track-items:moved",dh.bind(t))},m_=t=>{t.off("track:create",hh.bind(t)),t.off("track-items:resized",fh.bind(t)),t.off("track-items:moved",dh.bind(t))},ph=t=>{j5(t),$5(t),X5(t),c_(t),g_(t),u_(t),Ny(t),f_(t)},gh=t=>{F5(t),G5(t),Z5(t),l_(t),m_(t),d_(t),jy(t),h_()},v_={video:["*"],image:["*"],audio:["*"],text:["*"]},y_=["video","image","audio","text"];let Ds=class extends V.Canvas{acceptsMap;tracks=[];trackItemsMap={};trackItemIds=[];transitionIds=[];transitionsMap={};trackItemDetailsMap={};bounding;onScroll;tScale;store;state;activeIds=[];spacing;scale;sizesMap;duration;setupFabricDefaults(){V.FabricObject.ownDefaults.borderColor="transparent",V.FabricObject.ownDefaults.cornerColor="white",V.FabricObject.ownDefaults.cornerStrokeColor="transparent",V.FabricObject.ownDefaults.strokeWidth=0,V.FabricObject.ownDefaults.borderOpacityWhenMoving=1,V.FabricObject.ownDefaults.borderScaleFactor=1,V.FabricObject.ownDefaults.cornerSize=8,V.FabricObject.ownDefaults.cornerStyle="rect",V.FabricObject.ownDefaults.centeredScaling=!1,V.FabricObject.ownDefaults.centeredRotation=!0,V.FabricObject.ownDefaults.transparentCorners=!1}constructor(n,r){super(n,r),this.bounding=r.bounding||{width:r.width||0,height:r.height||0},this.spacing={left:16,right:80,...r.spacing};const s=this.viewportTransform;s[4]=this.spacing.left,this.tScale=r.tScale||1/300,this.store=r.store,this.state=r.state,this.scale=r.scale,this.onScroll=r.onScroll,this.acceptsMap=this.createAcceptsItemMap(r.acceptsMap),this.sizesMap=wf(r.sizesMap),this.setupFabricDefaults(),this.initEventListeners()}createAcceptsItemMap(n=v_){const r={};return Object.keys(n).forEach(s=>{const a=n[s];r[s]=a.includes("*")?y_:a}),r}setActiveIds(n){this.activeIds=n,this.getObjects("Transition").some(s=>n.includes(s.id))||(this.state?.updateState({activeIds:Ee.cloneDeep(this.activeIds)}),ve.dispatch(oa,{payload:{activeIds:this.activeIds}}))}purge(){gh(this),this.dispose()}static registerItems(n){Object.keys(n).forEach(r=>{V.classRegistry.setClass(n[r],r)})}initEventListeners(){ph(this)}getUpdatedState(){const n=Bt(this.trackItemsMap);return{tracks:this.tracks,trackItemIds:this.trackItemIds,trackItemsMap:this.trackItemsMap,transitionIds:this.transitionIds,transitionsMap:this.transitionsMap,scale:this.scale,duration:n}}getState(){const n=Bt(this.trackItemsMap);return{tracks:this.tracks,trackItemIds:this.trackItemIds,trackItemsMap:this.trackItemsMap,transitionIds:this.transitionIds,transitionsMap:this.transitionsMap,trackItemDetailsMap:this.trackItemDetailsMap,scale:this.scale,duration:n}}notify(n={updateHistory:!1}){const r=this.getUpdatedState();this.state.updateState(r,n)}updateState(n){this.updateTracksState(),this.updateTrackItemsState(),this.requestRenderAll(),this.calcBounding(),this.updateTrackCoords();const r=this.getUpdatedState();this.state.updateState(r,n)}scrollTo({scrollLeft:n,scrollTop:r}){const s=[...this.viewportTransform];let a=!1;if(typeof n=="number"&&(s[4]=-n+this.spacing.left,a=!0),typeof r=="number"&&(s[5]=-r,a=!0),a){this.viewportTransform=s;const c=this.getActiveObject();c&&c.setCoords(),this.requestRenderAll()}}setBoundingBox(n){this.bounding=n}calcBounding(){const n=this.getTrackItems().reduce((r,s)=>{const{left:a,top:c,width:u,height:d}=s.getBoundingRect();return{left:Math.min(r.left,a),top:Math.min(r.top,c),width:Math.max(r.width,a+u),height:Math.max(r.height,c+d)}},{left:1/0,top:1/0,width:this.width,height:0});this.bounding=n,ve.dispatch(da,{payload:{bounding:n}})}setScale(n){this.pauseEventListeners(),this.tScale=n.zoom,this.scale=n;const r=this.getState();this.getObjects("Video","Image","Text","Audio").forEach(s=>{const a=r.trackItemsMap[s.id],{from:c,to:u}=a.display,d=Ge(c,this.tScale),h=Ge(u-c,this.tScale,s.playbackRate);s.set({left:d,width:h,tScale:n.zoom}),s.setCoords()}),this.requestRenderAll(),this.calcBounding(),this.updateTrackCoords(),this.updateTransitions(!1),this.resumeEventListeners(),this.notify()}setViewportPos(n,r){const s=this.getViewportPos(n,r),a=this.viewportTransform;a[4]=s.x,a[5]=s.y,this.requestRenderAll(),this.setActiveTrackItemCoords();const c=this.onScroll;c&&c.call(this,{scrollTop:s.y,scrollLeft:s.x-this.spacing.left})}getViewportPos(n,r){const s=this.bounding.width-100>=this.width?this.spacing.right:0,a=this.width-this.bounding.width-s,c=this.spacing.left,u=Math.max(a,Math.min(n,c));if(this.bounding.height<this.height)return{x:u,y:0};const d=this.height-this.bounding.height-40,h=Math.max(d,Math.min(r,0));return{x:u,y:h}}};of(Ds,[Kd,Cf,Af,Mf]);function mh(t){const n=ve.subject.pipe(an(({key:r})=>r.startsWith(Zu))).subscribe(r=>{if(r.key===la){const s=r.value;t.setScale(s?.payload.scale??void 0)}});return{unsubscribe:()=>{n.unsubscribe()}}}Ds.registerItems({Text:Fa,Image:If,Video:Tf,Audio:Sf,Track:Ef,Helper:xf});const vh=({stateManager:t})=>{const n=$.useRef(!1),[r,s]=$.useState(0),a=$.useRef(null),c=$.useRef(null),u=$.useRef(null),d=$.useRef(null),h=$.useRef(null),[g,y]=$.useState({width:0,height:0}),[w,T]=$.useState({width:0,height:0}),{scale:x,playerRef:A,fps:M,setState:R,timeline:D}=Qt(),{setTimeline:P}=Qt(),F=ws(A??void 0),z=q=>{h.current&&d.current&&(d.current.scrollTop=-q.scrollTop,h.current.scrollLeft=-q.scrollLeft,s(-q.scrollLeft))};$.useEffect(()=>{A?.current&&(n.current=A?.current.isPlaying())},[A?.current?.isPlaying()]),$.useEffect(()=>{const q=Ge(F/M*1e3,x.zoom),Z=c.current?.getBoundingClientRect().x+c.current?.clientWidth;if(q-r+40>=Z){const oe=h.current?.clientWidth,X=h.current?.scrollWidth,de=h.current?.scrollLeft,Ne=(X-(oe+de))/oe;Ne>=0&&(Ne>1?h.current?.scrollTo({left:de+oe}):h.current?.scrollTo({left:X-oe}))}},[F]),$.useEffect(()=>{const q=c.current,Z=a.current;if(!q||!Z)return;const ie=Z.clientWidth,oe=Z.clientHeight,X=new Ds(q,{width:ie,height:oe,bounding:{width:ie,height:0},selectionColor:"rgba(0, 216, 214,0.1)",selectionBorderColor:"rgba(0, 216, 214,1.0)",onScroll:z,state:t,scale:x,spacing:{left:_s,right:Ta}}),de=mh(X);u.current=X,y({width:ie,height:oe}),T({width:ie,height:0}),P(X);const Te=t.subscribeToSize(ce=>{R(ce)}),Ne=t.subscribeToScale(ce=>{R(ce)}),xe=t.subscribeToTracks(ce=>{R(ce)}),Oe=t.subscribeToDuration(ce=>{R(ce)}),Me=t.subscribeToUpdateTrackItem(()=>{const ce=t.getState();R({duration:ce.duration,trackItemsMap:ce.trackItemsMap})}),Ze=t.subscribeToAddOrRemoveItems(()=>{const ce=t.getState();R({trackItemDetailsMap:ce.trackItemDetailsMap,trackItemsMap:ce.trackItemsMap,trackItemIds:ce.trackItemIds,tracks:ce.tracks})}),pt=t.subscribeToUpdateItemDetails(()=>{const ce=t.getState();R({trackItemDetailsMap:ce.trackItemDetailsMap})});return()=>{de.unsubscribe(),X.purge(),Ne.unsubscribe(),xe.unsubscribe(),Oe.unsubscribe(),Ze.unsubscribe(),Me.unsubscribe(),pt.unsubscribe(),Te.unsubscribe()}},[]),$.useEffect(()=>{const Z=ve.subject.pipe(an(({key:ie})=>ie.startsWith(qu))).subscribe(ie=>{if(ie.key===da){const oe=ie.value?.payload?.bounding;oe&&T({width:oe.width,height:oe.height})}});return()=>{Z.unsubscribe()}},[]);const Q=q=>{const Z=q.currentTarget.scrollLeft;n.current&&u.current.scrollTo({scrollLeft:Z}),s(Z)},J=q=>{const Z=q.currentTarget.scrollTop;n.current&&u.current.scrollTo({scrollTop:Z})};$.useEffect(()=>{const q=h.current?.scrollWidth;if(!q||!D)return;const Z=D.width;q<Z+r&&D.scrollTo({scrollLeft:q-Z})},[x]);const ee=q=>{if(!u.current)return;const ie=Mt(q,x.zoom);A?.current?.seekTo(ie*M/1e3)};return v.jsxs("div",{className:"relative overflow-hidden h-80 w-full",children:[v.jsx(Od,{}),v.jsx(Xd,{onClick:ee,scrollLeft:r}),v.jsx(Yd,{scrollLeft:r}),v.jsxs("div",{className:"flex",children:[v.jsx("div",{className:"relative w-10 flex-none"}),v.jsxs("div",{className:"relative h-[230px] flex-1",children:[v.jsx("div",{ref:a,className:"absolute top-0 h-[230px] w-full text-sm text-white ",children:v.jsx("canvas",{ref:c,id:"designcombo-timeline-canvas"})}),v.jsxs(fs,{type:"always",style:{position:"absolute",width:"calc(100vw - 40px)",height:"10px"},className:"ScrollAreaRootH",children:[v.jsx(Yo,{onScroll:Q,className:"ScrollAreaViewport",id:"viewportH",ref:h,children:v.jsx("div",{style:{width:w.width>g.width?w.width+Ta:w.width},className:"pointer-events-none h-[10px]"})}),v.jsx(yu,{className:"ScrollAreaScrollbar",orientation:"horizontal",children:v.jsx(bu,{className:"ScrollAreaThumb",onMouseDown:()=>{n.current=!0},onMouseUp:()=>{n.current=!1}})})]}),v.jsxs(fs,{type:"always",style:{position:"absolute",height:"230px",width:"10px"},className:"ScrollAreaRootV",children:[v.jsx(Yo,{onScroll:J,className:"ScrollAreaViewport",ref:d,children:v.jsx("div",{style:{height:w.height>g.height?w.height+40:g.height},className:"pointer-events-none w-[10px]"})}),v.jsx(yu,{className:"ScrollAreaScrollbar",orientation:"vertical",children:v.jsx(bu,{className:"ScrollAreaThumb",onMouseDown:()=>{n.current=!0},onMouseUp:()=>{n.current=!1}})})]})]})]})]})},b_={Date:!0,RegExp:!0,String:!0,Number:!0};function yh(t,n,r={cyclesFix:!0},s=[]){let a=[];const c=Array.isArray(t);for(const d in t){const h=t[d],g=c?+d:d;if(!(d in n)){a.push({type:"REMOVE",path:[g],oldValue:t[d]});continue}const y=n[d],w=typeof h=="object"&&typeof y=="object"&&Array.isArray(h)===Array.isArray(y);h&&y&&w&&!b_[Object.getPrototypeOf(h)?.constructor?.name]&&(!r.cyclesFix||!s.includes(h))?a.push.apply(a,yh(h,y,r,r.cyclesFix?s.concat([h]):[]).map(T=>(T.path.unshift(g),T))):h!==y&&!(Number.isNaN(h)&&Number.isNaN(y))&&!(w&&(isNaN(h)?h+""==y+"":+h==+y))&&a.push({path:[g],type:"CHANGE",value:y,oldValue:h})}const u=Array.isArray(n);for(const d in n)d in t||a.push({type:"CREATE",path:[u?+d:d],value:n[d]});return a}var Za=Symbol.for("immer-nothing"),Si=Symbol.for("immer-draftable"),_t=Symbol.for("immer-state"),bh=process.env.NODE_ENV!=="production"?[function(t){return`The plugin for '${t}' has not been loaded into Immer. To enable the plugin, import and call \`enable${t}()\` when initializing your application.`},function(t){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${t}'`},"This object has been frozen and should not be mutated",function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(t){return`'current' expects a draft, got: ${t}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(t){return`'original' expects a draft, got: ${t}`}]:[];function qe(t,...n){if(process.env.NODE_ENV!=="production"){const r=bh[t],s=typeof r=="function"?r.apply(null,n):r;throw new Error(`[Immer] ${s}`)}throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Kn=Object.getPrototypeOf;function qn(t){return!!t&&!!t[_t]}function Cn(t){return t?_h(t)||Array.isArray(t)||!!t[Si]||!!t.constructor?.[Si]||Ei(t)||xi(t):!1}var __=Object.prototype.constructor.toString();function _h(t){if(!t||typeof t!="object")return!1;const n=Kn(t);if(n===null)return!0;const r=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===__}function Ti(t,n){Jn(t)===0?Reflect.ownKeys(t).forEach(r=>{n(r,t[r],t)}):t.forEach((r,s)=>n(s,r,t))}function Jn(t){const n=t[_t];return n?n.type_:Array.isArray(t)?1:Ei(t)?2:xi(t)?3:0}function Ii(t,n){return Jn(t)===2?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function Ka(t,n){return Jn(t)===2?t.get(n):t[n]}function wh(t,n,r){const s=Jn(t);s===2?t.set(n,r):s===3?t.add(r):t[n]=r}function w_(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}function Ei(t){return t instanceof Map}function xi(t){return t instanceof Set}function Qn(t){return t.copy_||t.base_}function qa(t,n){if(Ei(t))return new Map(t);if(xi(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=_h(t);if(n===!0||n==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(t);delete s[_t];let a=Reflect.ownKeys(s);for(let c=0;c<a.length;c++){const u=a[c],d=s[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:t[u]})}return Object.create(Kn(t),s)}else{const s=Kn(t);if(s!==null&&r)return{...t};const a=Object.create(s);return Object.assign(a,t)}}function Ja(t,n=!1){return Ls(t)||qn(t)||!Cn(t)||(Jn(t)>1&&(t.set=t.add=t.clear=t.delete=S_),Object.freeze(t),n&&Object.entries(t).forEach(([r,s])=>Ja(s,!0))),t}function S_(){qe(2)}function Ls(t){return Object.isFrozen(t)}var Qa={};function er(t){const n=Qa[t];return n||qe(0,t),n}function T_(t,n){Qa[t]||(Qa[t]=n)}var Ci;function Sh(){return Ci}function I_(t,n){return{drafts_:[],parent_:t,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Th(t,n){n&&(er("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=n)}function ec(t){tc(t),t.drafts_.forEach(E_),t.drafts_=null}function tc(t){t===Ci&&(Ci=t.parent_)}function Ih(t){return Ci=I_(Ci,t)}function E_(t){const n=t[_t];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function Eh(t,n){n.unfinalizedDrafts_=n.drafts_.length;const r=n.drafts_[0];return t!==void 0&&t!==r?(r[_t].modified_&&(ec(n),qe(4)),Cn(t)&&(t=Ns(n,t),n.parent_||js(n,t)),n.patches_&&er("Patches").generateReplacementPatches_(r[_t].base_,t,n.patches_,n.inversePatches_)):t=Ns(n,r,[]),ec(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),t!==Za?t:void 0}function Ns(t,n,r){if(Ls(n))return n;const s=n[_t];if(!s)return Ti(n,(a,c)=>xh(t,s,n,a,c,r)),n;if(s.scope_!==t)return n;if(!s.modified_)return js(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const a=s.copy_;let c=a,u=!1;s.type_===3&&(c=new Set(a),a.clear(),u=!0),Ti(c,(d,h)=>xh(t,s,a,d,h,r,u)),js(t,a,!1),r&&t.patches_&&er("Patches").generatePatches_(s,r,t.patches_,t.inversePatches_)}return s.copy_}function xh(t,n,r,s,a,c,u){if(process.env.NODE_ENV!=="production"&&a===r&&qe(5),qn(a)){const d=c&&n&&n.type_!==3&&!Ii(n.assigned_,s)?c.concat(s):void 0,h=Ns(t,a,d);if(wh(r,s,h),qn(h))t.canAutoFreeze_=!1;else return}else u&&r.add(a);if(Cn(a)&&!Ls(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Ns(t,a),(!n||!n.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,s)&&js(t,a)}}function js(t,n,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Ja(n,r)}function x_(t,n){const r=Array.isArray(t),s={type_:r?1:0,scope_:n?n.scope_:Sh(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,c=nc;r&&(a=[s],c=ki);const{revoke:u,proxy:d}=Proxy.revocable(a,c);return s.draft_=d,s.revoke_=u,d}var nc={get(t,n){if(n===_t)return t;const r=Qn(t);if(!Ii(r,n))return C_(t,r,n);const s=r[n];return t.finalized_||!Cn(s)?s:s===rc(t.base_,n)?(sc(t),t.copy_[n]=oc(s,t)):s},has(t,n){return n in Qn(t)},ownKeys(t){return Reflect.ownKeys(Qn(t))},set(t,n,r){const s=Ch(Qn(t),n);if(s?.set)return s.set.call(t.draft_,r),!0;if(!t.modified_){const a=rc(Qn(t),n),c=a?.[_t];if(c&&c.base_===r)return t.copy_[n]=r,t.assigned_[n]=!1,!0;if(w_(r,a)&&(r!==void 0||Ii(t.base_,n)))return!0;sc(t),ic(t)}return t.copy_[n]===r&&(r!==void 0||n in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[n])||(t.copy_[n]=r,t.assigned_[n]=!0),!0},deleteProperty(t,n){return rc(t.base_,n)!==void 0||n in t.base_?(t.assigned_[n]=!1,sc(t),ic(t)):delete t.assigned_[n],t.copy_&&delete t.copy_[n],!0},getOwnPropertyDescriptor(t,n){const r=Qn(t),s=Reflect.getOwnPropertyDescriptor(r,n);return s&&{writable:!0,configurable:t.type_!==1||n!=="length",enumerable:s.enumerable,value:r[n]}},defineProperty(){qe(11)},getPrototypeOf(t){return Kn(t.base_)},setPrototypeOf(){qe(12)}},ki={};Ti(nc,(t,n)=>{ki[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}}),ki.deleteProperty=function(t,n){return process.env.NODE_ENV!=="production"&&isNaN(parseInt(n))&&qe(13),ki.set.call(this,t,n,void 0)},ki.set=function(t,n,r){return process.env.NODE_ENV!=="production"&&n!=="length"&&isNaN(parseInt(n))&&qe(14),nc.set.call(this,t[0],n,r,t[0])};function rc(t,n){const r=t[_t];return(r?Qn(r):t)[n]}function C_(t,n,r){const s=Ch(n,r);return s?"value"in s?s.value:s.get?.call(t.draft_):void 0}function Ch(t,n){if(!(n in t))return;let r=Kn(t);for(;r;){const s=Object.getOwnPropertyDescriptor(r,n);if(s)return s;r=Kn(r)}}function ic(t){t.modified_||(t.modified_=!0,t.parent_&&ic(t.parent_))}function sc(t){t.copy_||(t.copy_=qa(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var k_=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,s)=>{if(typeof n=="function"&&typeof r!="function"){const c=r;r=n;const u=this;return function(h=c,...g){return u.produce(h,y=>r.call(this,y,...g))}}typeof r!="function"&&qe(6),s!==void 0&&typeof s!="function"&&qe(7);let a;if(Cn(n)){const c=Ih(this),u=oc(n,void 0);let d=!0;try{a=r(u),d=!1}finally{d?ec(c):tc(c)}return Th(c,s),Eh(a,c)}else if(!n||typeof n!="object"){if(a=r(n),a===void 0&&(a=n),a===Za&&(a=void 0),this.autoFreeze_&&Ja(a,!0),s){const c=[],u=[];er("Patches").generateReplacementPatches_(n,a,c,u),s(c,u)}return a}else qe(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(u,...d)=>this.produceWithPatches(u,h=>n(h,...d));let s,a;return[this.produce(n,r,(u,d)=>{s=u,a=d}),s,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Cn(t)||qe(8),qn(t)&&(t=A_(t));const n=Ih(this),r=oc(t,void 0);return r[_t].isManual_=!0,tc(n),r}finishDraft(t,n){const r=t&&t[_t];(!r||!r.isManual_)&&qe(9);const{scope_:s}=r;return Th(s,n),Eh(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const s=er("Patches").applyPatches_;return qn(t)?s(t,n):this.produce(t,a=>s(a,n))}};function oc(t,n){const r=Ei(t)?er("MapSet").proxyMap_(t,n):xi(t)?er("MapSet").proxySet_(t,n):x_(t,n);return(n?n.scope_:Sh()).drafts_.push(r),r}function A_(t){return qn(t)||qe(10,t),kh(t)}function kh(t){if(!Cn(t)||Ls(t))return t;const n=t[_t];let r;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,r=qa(t,n.scope_.immer_.useStrictShallowCopy_)}else r=qa(t,!0);return Ti(r,(s,a)=>{wh(r,s,kh(a))}),n&&(n.finalized_=!1),r}function Ah(){process.env.NODE_ENV!=="production"&&bh.push('Sets cannot have "replace" patches.',function(T){return"Unsupported patch operation: "+T},function(T){return"Cannot apply patch, path doesn't resolve: "+T},"Patching reserved attributes like __proto__, prototype and constructor is not allowed");const n="replace",r="add",s="remove";function a(T,x,A,M){switch(T.type_){case 0:case 2:return u(T,x,A,M);case 1:return c(T,x,A,M);case 3:return d(T,x,A,M)}}function c(T,x,A,M){let{base_:R,assigned_:D}=T,P=T.copy_;P.length<R.length&&([R,P]=[P,R],[A,M]=[M,A]);for(let F=0;F<R.length;F++)if(D[F]&&P[F]!==R[F]){const z=x.concat([F]);A.push({op:n,path:z,value:w(P[F])}),M.push({op:n,path:z,value:w(R[F])})}for(let F=R.length;F<P.length;F++){const z=x.concat([F]);A.push({op:r,path:z,value:w(P[F])})}for(let F=P.length-1;R.length<=F;--F){const z=x.concat([F]);M.push({op:s,path:z})}}function u(T,x,A,M){const{base_:R,copy_:D}=T;Ti(T.assigned_,(P,F)=>{const z=Ka(R,P),Q=Ka(D,P),J=F?Ii(R,P)?n:r:s;if(z===Q&&J===n)return;const ee=x.concat(P);A.push(J===s?{op:J,path:ee}:{op:J,path:ee,value:Q}),M.push(J===r?{op:s,path:ee}:J===s?{op:r,path:ee,value:w(z)}:{op:n,path:ee,value:w(z)})})}function d(T,x,A,M){let{base_:R,copy_:D}=T,P=0;R.forEach(F=>{if(!D.has(F)){const z=x.concat([P]);A.push({op:s,path:z,value:F}),M.unshift({op:r,path:z,value:F})}P++}),P=0,D.forEach(F=>{if(!R.has(F)){const z=x.concat([P]);A.push({op:r,path:z,value:F}),M.unshift({op:s,path:z,value:F})}P++})}function h(T,x,A,M){A.push({op:n,path:[],value:x===Za?void 0:x}),M.push({op:n,path:[],value:T})}function g(T,x){return x.forEach(A=>{const{path:M,op:R}=A;let D=T;for(let Q=0;Q<M.length-1;Q++){const J=Jn(D);let ee=M[Q];typeof ee!="string"&&typeof ee!="number"&&(ee=""+ee),(J===0||J===1)&&(ee==="__proto__"||ee==="constructor")&&qe(19),typeof D=="function"&&ee==="prototype"&&qe(19),D=Ka(D,ee),typeof D!="object"&&qe(18,M.join("/"))}const P=Jn(D),F=y(A.value),z=M[M.length-1];switch(R){case n:switch(P){case 2:return D.set(z,F);case 3:qe(16);default:return D[z]=F}case r:switch(P){case 1:return z==="-"?D.push(F):D.splice(z,0,F);case 2:return D.set(z,F);case 3:return D.add(F);default:return D[z]=F}case s:switch(P){case 1:return D.splice(z,1);case 2:return D.delete(z);case 3:return D.delete(A.value);default:return delete D[z]}default:qe(17,R)}}),T}function y(T){if(!Cn(T))return T;if(Array.isArray(T))return T.map(y);if(Ei(T))return new Map(Array.from(T.entries()).map(([A,M])=>[A,y(M)]));if(xi(T))return new Set(Array.from(T).map(y));const x=Object.create(Kn(T));for(const A in T)x[A]=y(T[A]);return Ii(T,Si)&&(x[Si]=T[Si]),x}function w(T){return qn(T)?y(T):T}T_("Patches",{applyPatches_:g,generatePatches_:a,generateReplacementPatches_:h})}var wt=new k_,R_=wt.produce;wt.produceWithPatches.bind(wt),wt.setAutoFreeze.bind(wt),wt.setUseStrictShallowCopy.bind(wt);var M_=wt.applyPatches.bind(wt);wt.createDraft.bind(wt),wt.finishDraft.bind(wt);function O_(t){const n=t.value,r=[];if(n?.payload?.trackItemIds){const s=n.payload.trackItemIds;r.push(s),this.updateState({activeIds:r})}if(t.key===ra){const s=t.value?.payload.trackItemIds,a=Ee.cloneDeep(this.getState()),c=s?.length?s:a.activeIds,u=a.trackItemIds.filter(w=>!c.includes(w)),d=Object.fromEntries(Object.entries(a.trackItemDetailsMap).filter(([w])=>!c.includes(w))),h=ff(a.tracks,c),g=Object.fromEntries(Object.entries(a.trackItemsMap).filter(([w])=>!c.includes(w))),y=Bt(g);this.updateState({trackItemIds:u,trackItemDetailsMap:d,activeIds:[],trackItemsMap:g,tracks:h,duration:y},{updateHistory:!0,kind:"remove"})}if(t.key===ia){const s=Ee.cloneDeep(this.getState()),a=[],c=t.value?.payload.trackItemIds||s.activeIds;if(c.length===0)return;c.forEach(d=>{const h=s.trackItemsMap[d],g=s.trackItemDetailsMap[d],y=Ke();a.push(y),s.trackItemsMap={...s.trackItemsMap,[y]:{...Ee.cloneDeep(h),id:y}},s.trackItemDetailsMap={...s.trackItemDetailsMap,[y]:{...Ee.cloneDeep(g)}},s.trackItemIds.push(y)});const u=s.tracks.map(d=>{const h={...d,id:Ke(),items:d.items.filter(g=>c.includes(g)).map(g=>{const y=c.indexOf(g);return a[y]})};return h.items.length?h:null}).filter(Boolean);s.tracks.unshift(...u),this.updateState({trackItemDetailsMap:s.trackItemDetailsMap,tracks:s.tracks,trackItemIds:s.trackItemIds,trackItemsMap:s.trackItemsMap},{updateHistory:!0,kind:"update"})}if(t.key===sa){const s=Ee.cloneDeep(this.getState()),a=t.value?.options.time;if(s.activeIds.length!==1)return;const c=s.activeIds[0],u=s.trackItemsMap[c];if(a<=u.display.from||a>=u.display.to)return;const d=Ke(),h={...u,id:d,display:{from:a,to:u.display.to},trim:{from:a,to:u.display.to}};s.trackItemsMap[c].display.to=a,s.trackItemsMap[d]=h,s.trackItemDetailsMap[d]=s.trackItemDetailsMap[c],s.trackItemIds.push(d),s.tracks.forEach(g=>{g.items.includes(c)&&g.items.push(d)}),this.updateState({trackItemsMap:s.trackItemsMap,trackItemDetailsMap:s.trackItemDetailsMap,trackItemIds:s.trackItemIds,tracks:s.tracks},{updateHistory:!0,kind:"update"})}}async function P_(t){if(t.key==="scene:load"){const n=t.value?.payload,r=n.size,s=n.trackItemIds,a=n.trackItemsMap,c=n.trackItemDetailsMap;if(!s)return;const u=s?.map(async h=>{try{const g=c[h],y=a[h];if(g.type==="text"){const w=await ja({id:h,details:g.details,...y},{size:r}),{details:T,...x}=w;c[h]={type:"text",details:T},a[h]=x}return!0}catch{return!1}});await Promise.all(u);const d=Bt(a);this.updateState({...n,trackItemsMap:a,duration:d})}}async function D_(t){const n=Ee.cloneDeep(this.getState()),r=t.value?.options?.trackId,s=t.value?.options?.trackIndex;let a=[],c;if(t.key===_r){c="video";const d=await pf(t.value?.payload,{size:n.size}),{details:h,...g}=d;n.trackItemDetailsMap[g.id]={type:c,details:h},n.trackItemsMap[g.id]=g,n.trackItemIds.push(g.id),a=[g.id]}if(t.key===Sr){c="image";const d=await hf(t.value?.payload,{size:n.size}),{details:h,...g}=d;n.trackItemDetailsMap[g.id]={type:c,details:h},n.trackItemsMap[g.id]=g,n.trackItemIds.push(g.id),a=[g.id]}if(t.key===wr){c="audio";const d=await gf(t.value?.payload),{details:h,...g}=d;n.trackItemDetailsMap[g.id]={type:c,details:h},n.trackItemsMap[g.id]=g,n.trackItemIds.push(g.id),a=[g.id]}if(t.key===ea){c="text";const{details:d,...h}=await ja(t.value?.payload??void 0,{size:n.size});n.trackItemDetailsMap[h.id]={type:c,details:d},n.trackItemsMap[h.id]=h,n.trackItemIds.push(h.id),a.push(h.id)}const u=L_(a,n.tracks,n.trackItemsMap,r,s);if(u.trackId)n.tracks.find(h=>h.id===u.trackId)?.items.push(...a);else if(u.trackIndex!==void 0){const d=Rh(c,a);n.tracks.splice(u.trackIndex,0,d)}else{const d=Rh(c,a);n.tracks.unshift(d)}n.duration=Bt(n.trackItemsMap),this.updateState({trackItemIds:n.trackItemIds,trackItemDetailsMap:n.trackItemDetailsMap,trackItemsMap:n.trackItemsMap,tracks:n.tracks,duration:n.duration,structure:n.structure},{updateHistory:!0,kind:"add"})}function Rh(t,n){return{id:Ke(),accepts:["text","audio","helper","video","image"],type:t,items:n,magnetic:!1,static:!1}}const L_=(t,n,r,s,a)=>{if(s===void 0&&a===void 0)return{trackId:void 0,trackIndex:void 0};const c=a!==void 0?n[Math.max(0,Math.min(a,n.length-1))]:n.find(h=>h.id===s);if(!c)return{trackId:void 0,trackIndex:a!==void 0?Math.max(0,Math.min(a,n.length-1)):void 0};const u=c.items.map(h=>r[h]),d=t.map(h=>r[h]);for(const h of u){const g=h.display.from,y=h.display.to;for(const w of d){const T=w.display.from;if(!(w.display.to<=g||T>=y))return{trackId:void 0,trackIndex:n.indexOf(c)}}}return{trackId:c.id,trackIndex:n.indexOf(c)}},Mh=["tracks","trackItemsMap","trackItemDetailsMap","transitionIds","transitionsMap","trackItemIds"],N_={size:{width:1080,height:1920},tracks:[],trackItemIds:[],trackItemsMap:{},transitionIds:[],transitionsMap:{},scale:{unit:1,zoom:1,segments:1,index:1},duration:0,activeIds:[],trackItemDetailsMap:{},structure:[]};class Oh{stateSubject;stateHistorySubject;prevState;undos;redos;listener;constructor(n){this.stateSubject=null,this.stateHistorySubject=null,this.prevState=null,this.undos=[],this.redos=[],this.listener=null;const r=n||N_;this.stateSubject=new od(r),this.stateHistorySubject=new od({handleRedo:!1,handleUndo:!1}),this.prevState=r,this.initListeners()}initListeners(){Ph(this)}destroyListeners(){this.listener&&this.listener.unsubscribe()}purge(){this.destroyListeners()}updateHistory(n,r){const s=Ee.pick(n,Mh),a=Ee.pick(this.getState(),Mh),c=yh(a,s);c.length&&(this.undos.push({undos:c,type:r}),this.redos=[])}getStateHistory(){return this.stateHistorySubject.getValue()}subscribeHistory(n){return this.stateHistorySubject.subscribe(n)}getState(){return this.stateSubject.getValue()}subscribe(n){return this.stateSubject.subscribe(n)}updateState(n,r={updateHistory:!1,kind:void 0}){const s=this.getState(),a={...s,...n};if(!Ee.isEqual(s,a)){r.updateHistory&&this.updateHistory(a,r.kind);const{duration:c,trackItemsMap:u,...d}=s;this.prevState={...d,duration:this.prevState.duration,trackItemsMap:this.prevState.trackItemsMap},this.stateSubject.next(a)}}subscribeToSize(n){return this.stateSubject.asObservable().subscribe(r=>{Ee.isEqual(r.size,this.prevState.size)||n({size:r.size})})}subscribeToScale(n){return this.stateSubject.asObservable().subscribe(r=>{Ee.isEqual(r.scale,this.prevState.scale)||n({scale:r.scale})})}subscribeToUpdateTrackItem(n){return this.stateSubject.asObservable().subscribe(r=>{Ee.isEqual(r.trackItemsMap,this.prevState.trackItemsMap)||n({trackItemsMap:r.trackItemsMap})})}subscribeToUpdateItemDetails(n){return this.stateSubject.asObservable().subscribe(r=>{Ee.isEqual(r.trackItemDetailsMap,this.prevState.trackItemDetailsMap)||n({trackItemDetailsMap:r.trackItemDetailsMap})})}subscribeToDuration(n){return this.stateSubject.asObservable().subscribe(r=>{r.duration!==this.prevState.duration&&n({duration:r.duration})})}subscribeToHistory(n){return this.stateHistorySubject.asObservable().subscribe(r=>{if(r.handleRedo){const s=this.undos[this.undos.length-1]?.type;s==="update"&&n({...this.getState(),type:s}),this.stateHistorySubject.next({handleRedo:!1,handleUndo:!1})}if(r.handleUndo){const s=this.redos[this.redos.length-1]?.type;s==="update"&&n({...this.getState(),type:s}),this.stateHistorySubject.next({handleRedo:!1,handleUndo:!1})}})}subscribeToAddOrRemoveItems(n){return this.stateSubject.asObservable().subscribe(r=>{(!r.trackItemIds?.every(s=>this.prevState.trackItemIds?.includes(s))||!Ee.isEqual(r.tracks,this.prevState.tracks))&&n({trackItemIds:r.trackItemIds})})}subscribeToActiveIds(n){return this.stateSubject.asObservable().subscribe(r=>{Ee.isEqual(r.activeIds,this.prevState.activeIds)||n({activeIds:r.activeIds})})}subscribeToTracks(n){return this.stateSubject.asObservable().subscribe(r=>{(!Ee.isEqual(r.tracks,this.prevState.tracks)||!Ee.isEqual(r.trackItemIds,this.prevState.trackItemIds)||!Ee.isEqual(r.trackItemsMap,this.prevState.trackItemsMap)||!Ee.isEqual(r.transitionIds,this.prevState.transitionIds)||!Ee.isEqual(r.transitionsMap,this.prevState.transitionsMap)||!Ee.isEqual(r.trackItemDetailsMap,this.prevState.trackItemDetailsMap))&&n({tracks:r.tracks,trackItemIds:r.trackItemIds,trackItemsMap:r.trackItemsMap,transitionIds:r.transitionIds,transitionsMap:r.transitionsMap,trackItemDetailsMap:r.trackItemDetailsMap})})}undo(){const n=this.undos.pop(),r=n?.undos,s=n?.type;if(!r||!s)return;Ah();const{trackItemDetailsMap:a,trackItemIds:c,tracks:u,transitionIds:d,transitionsMap:h,trackItemsMap:g}=this.getState(),y=Ee.cloneDeep({trackItemDetailsMap:a,trackItemIds:c,tracks:u,transitionIds:d,transitionsMap:h,trackItemsMap:g}),w=[],T=[],x=[],A=[],M=[],R=[];r.forEach(X=>{let de;const Te=X.path.slice(1);X.type==="CREATE"?de={path:Te,op:"remove",value:X.value}:X.type==="CHANGE"?de={path:Te,op:"replace",value:X.oldValue}:de={path:Te,op:"add",value:X.oldValue},X.path.includes("trackItemIds")?x.push(de):X.path.includes("transitionIds")?T.push(de):X.path.includes("trackItemsMap")?M.push(de):X.path.includes("transitionsMap")?A.push(de):X.path.includes("tracks")?w.push(de):X.path.includes("trackItemDetailsMap")&&R.push(de)});const D=this.applyPatch(y.tracks,w),P=this.applyPatch(y.transitionIds,T),F=this.applyPatch(y.trackItemIds,x),z=this.applyPatch(y.transitionsMap,A),Q=this.applyPatch(y.trackItemsMap,M),J=this.applyPatch(y.trackItemDetailsMap,R),ee=Ee.cloneDeep({tracks:D,transitionIds:P,trackItemIds:F,transitionsMap:z,trackItemsMap:Q,trackItemDetailsMap:J}),q=Ee.cloneDeep(this.getState()),Z={...q,...ee};this.prevState=q;const ie={redos:r,type:s};this.redos.push(ie);const oe=Bt(Z.trackItemsMap);this.stateSubject.next({...Z,duration:oe}),this.stateHistorySubject.next({handleRedo:!1,handleUndo:!0})}redo(){const n=this.redos.pop();if(!n?.redos||!n?.type)return;Ah();const r=this.getState(),{trackItemDetailsMap:s,trackItemIds:a,tracks:c,transitionIds:u,transitionsMap:d,trackItemsMap:h}=r,g=Ee.cloneDeep({trackItemDetailsMap:s,trackItemIds:a,tracks:c,transitionIds:u,transitionsMap:d,trackItemsMap:h}),y=[],w=[],T=[],x=[],A=[],M=[];n.redos.forEach(z=>{const Q=z.path.slice(1);let J={};switch(z.type){case"CREATE":J={path:Q,op:"add",value:z.value};break;case"CHANGE":J={path:Q,op:"replace",value:z.value};break;case"REMOVE":J={path:Q,op:"remove",value:z.oldValue};break;default:return null}z.path.includes("trackItemIds")?T.push(J):z.path.includes("transitionIds")?w.push(J):z.path.includes("trackItemsMap")?A.push(J):z.path.includes("transitionsMap")?x.push(J):z.path.includes("trackItemDetailsMap")?M.push(J):y.push(J)});const R={tracks:this.applyPatch(g.tracks,y),transitionIds:this.applyPatch(g.transitionIds,w),trackItemIds:this.applyPatch(g.trackItemIds,T),transitionsMap:this.applyPatch(g.transitionsMap,x),trackItemsMap:this.applyPatch(g.trackItemsMap,A),trackItemDetailsMap:this.applyPatch(g.trackItemDetailsMap,M)},D=Ee.cloneDeep(R),P={...Ee.cloneDeep(r),...D};this.prevState=r,this.undos.push({undos:n.redos,type:n.type});const F=Bt(P.trackItemsMap);this.stateSubject.next({...P,duration:F}),this.stateHistorySubject.next({handleRedo:!0,handleUndo:!1})}applyPatch(n,r){return r.reverse().reduce((s,a)=>R_(s,c=>{M_(c,[a])}),n)}}function Ph(t){const n=ve.subject.pipe(an(({key:c})=>c.startsWith(Xu))).subscribe(c=>{c.key===aa&&t.undo(),c.key===ca&&t.redo()}),r=ve.subject.pipe(an(({key:c,value:u})=>c.startsWith(Hu))).subscribe(c=>{D_.bind(t)(c)}),s=ve.subject.pipe(an(({key:c,value:u})=>c.startsWith("scene"))).subscribe(async c=>{await P_.bind(t)(c)}),a=ve.subject.pipe(an(({key:c})=>c.startsWith(Gu))).subscribe(async c=>{O_.bind(t)(c)});return()=>{n.unsubscribe(),r.unsubscribe(),a.unsubscribe(),s.unsubscribe()}}const Dh=()=>{const{playerRef:t,fps:n,timeline:r,setState:s}=Qt();$.useEffect(()=>{const c=ve.subject.pipe(an(({key:u})=>u.startsWith(Wu))).subscribe(u=>{if(u.key===Bu){const{time:d}=u.value?.payload;t?.current?.seekTo(d/1e3*n)}else if(u.key===ta)t?.current?.play();else if(u.key===na)t?.current?.pause();else if(u.key===$u)t?.current?.isPlaying()?t.current.pause():t?.current?.play();else if(u.key===Vu){const{frames:d}=u.value?.payload;t?.current?.seekTo(Math.round(t.current.getCurrentFrame())+d)}});return()=>{c.unsubscribe()}},[t,n]),$.useEffect(()=>{const c=ve.subject.pipe(an(({key:u})=>u.startsWith(Yu))).subscribe(u=>{u.key===oa&&s({activeIds:u.value?.payload.activeIds})});return()=>{c.unsubscribe()}},[r])},j_=new Oh,F_=()=>{const{playerRef:t}=Qt();Dh();const[n,r]=$.useState([]);return v.jsxs("div",{className:"relative flex h-screen w-screen flex-col bg-background ",children:[v.jsx(Ud,{}),v.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",flex:1,overflow:"hidden"},children:[v.jsx(Fd,{}),v.jsx(jd,{}),v.jsx(Zd,{})]}),v.jsx("div",{className:"h-70 w-full ",children:t&&v.jsx(vh,{stateManager:j_})})]})};b.ACTIVE_CLONE=ia,b.ACTIVE_DELETE=ra,b.ACTIVE_PASTE=mm,b.ACTIVE_PREFIX=Gu,b.ACTIVE_SET=gm,b.ACTIVE_SPLIT=sa,b.ADD_ANIMATION=cm,b.ADD_AUDIO=wr,b.ADD_IMAGE=Sr,b.ADD_MASK=om,b.ADD_PLACEHOLDER=sm,b.ADD_PREFIX=Hu,b.ADD_SUFFIX=J0,b.ADD_TEXT=ea,b.ADD_TRANSITION=am,b.ADD_VIDEO=_r,b.AUDIOS=Pd,b.AppComponent=F_,b.Audio=Sf,b.AudioObject=un,b.BASE_TIMELINE_ELEMENT_DURATION_MS=ov,b.Button=Fe,b.CanvasMixin=Kd,b.DEFAULT_AUDIO_BITRATE=uv,b.DEFAULT_AUDIO_SAMPLE_RATE=lv,b.DEFAULT_BLUR=qv,b.DEFAULT_BLUR_STEP=Kv,b.DEFAULT_BRIGHTNESS=Mv,b.DEFAULT_BRIGHTNESS_STEP=Rv,b.DEFAULT_CONTRAST=Bv,b.DEFAULT_CONTRAST_STEP=Wv,b.DEFAULT_FADE_IN=_v,b.DEFAULT_FADE_OUT=wv,b.DEFAULT_FADE_STEP=bv,b.DEFAULT_FLIP_X=xv,b.DEFAULT_FLIP_Y=Cv,b.DEFAULT_FONT=Ca,b.DEFAULT_FRAMERATE=gd,b.DEFAULT_MAX_BLUR=Zv,b.DEFAULT_MAX_BRIGHTNESS=Av,b.DEFAULT_MAX_CONTRAST=Hv,b.DEFAULT_MAX_FADE=yv,b.DEFAULT_MAX_OPACITY=$v,b.DEFAULT_MAX_ROTATION=Tv,b.DEFAULT_MAX_SATURATION=Pv,b.DEFAULT_MAX_SPEED=Qv,b.DEFAULT_MAX_TEMPERATURE=jv,b.DEFAULT_MAX_VOLUME=r2,b.DEFAULT_MEDIA_PANEL_WIDTH=pv,b.DEFAULT_MIN_BLUR=Xv,b.DEFAULT_MIN_BRIGHTNESS=kv,b.DEFAULT_MIN_CONTRAST=zv,b.DEFAULT_MIN_FADE=vv,b.DEFAULT_MIN_OPACITY=Vv,b.DEFAULT_MIN_ROTATION=Sv,b.DEFAULT_MIN_SATURATION=Ov,b.DEFAULT_MIN_SPEED=Jv,b.DEFAULT_MIN_TEMPERATURE=Nv,b.DEFAULT_MIN_VOLUME=n2,b.DEFAULT_OPACITY=Yv,b.DEFAULT_OPACITY_STEP=Gv,b.DEFAULT_PREVIEW_HEIGHT=fv,b.DEFAULT_PREVIEW_SCALE=Sa,b.DEFAULT_PREVIEW_WIDTH=dv,b.DEFAULT_ROTATION=Ev,b.DEFAULT_ROTATION_STEP=Iv,b.DEFAULT_SATURATION=Lv,b.DEFAULT_SATURATION_STEP=Dv,b.DEFAULT_SETTINGS_PANEL_WIDTH=mv,b.DEFAULT_SPEED=t2,b.DEFAULT_SPEED_STEP=e2,b.DEFAULT_TEMPERATURE=Uv,b.DEFAULT_TEMPERATURE_STEP=Fv,b.DEFAULT_VIDEO_HEIGHT=pd,b.DEFAULT_VIDEO_MAX_BITRATE=cv,b.DEFAULT_VIDEO_MIN_BITRATE=av,b.DEFAULT_VIDEO_WIDTH=hd,b.DEFAULT_VOLUME=s2,b.DEFAULT_VOLUME_STEP=i2,b.DEFAULT_WEIGHT=sv,b.DRAG_END=oi,b.DRAG_PREFIX=Ku,b.DRAG_START=ua,b.Draggable=si,b.DroppableArea=ud,b.EDIT_OBJECT=um,b.EDIT_PREFIX=lm,b.EDIT_SHAPE=fm,b.EDIT_TEXT=dm,b.ENTER_EDIT_MODE=hm,b.FRAME_INTERVAL=md,b.GIANT_ICON_SIZE=Jm,b.HISTORY_PREFIX=Xu,b.HISTORY_REDO=ca,b.HISTORY_RESET=Rm,b.HISTORY_UNDO=aa,b.Header=Od,b.Helper=xf,b.HelperObject=Er,b.IMAGES=Dd,b.Image=If,b.ImageObject=xs,b.LARGER_FONT_SIZE=nv,b.LARGE_FONT_SIZE=rv,b.LARGE_ICON_SIZE=Qm,b.LAYER_CLONE=xm,b.LAYER_COPY=Im,b.LAYER_CUT=km,b.LAYER_DELETE=Am,b.LAYER_EDITING_NAME=Tm,b.LAYER_HIDDEN=ym,b.LAYER_LOCKED=vm,b.LAYER_MOVE=bm,b.LAYER_PASTE=Em,b.LAYER_PREFIX=Yu,b.LAYER_RENAME=Sm,b.LAYER_SELECT=_m,b.LAYER_SELECTION=oa,b.LAYER_SEND_TO=wm,b.LAYER_SPLIT=Cm,b.MAX_MEDIA_PANEL_WIDTH=gv,b.MIN_MEDIA_PANEL_WIDTH=hv,b.MenuItem=jd,b.MenuList=Fd,b.NORMAL_FONT_SIZE=iv,b.NORMAL_ICON_SIZE=ev,b.NavbarComponent=Ud,b.PLAYER_PAUSE=na,b.PLAYER_PLAY=ta,b.PLAYER_PREFIX=Wu,b.PLAYER_SEEK=Bu,b.PLAYER_SEEK_BY=Vu,b.PLAYER_SEEK_TO=pm,b.PLAYER_TOGGLE_PLAY=$u,b.PREVIEW_FRAME_WIDTH=ai,b.Placeholder=Ir,b.Player=Gd,b.PlayheadComponent=Yd,b.PreviewTrackItem=vi,b.RulerComponent=Xd,b.SECONDARY_FONT=fd,b.SMALL_FONT_SIZE=dd,b.SMALL_ICON_SIZE=tv,b.STATE_CHANGED=im,b.STATE_PREFIX=rm,b.Scene=Zd,b.SceneBoard=qm,b.ScrollArea=Bn,b.ScrollBar=Xo,b.SequenceItem=zd,b.Slider=su,b.StateManager=Oh,b.TIMELINE_BOUNDING_CHANGED=da,b.TIMELINE_OFFSET_CANVAS_LEFT=_s,b.TIMELINE_OFFSET_CANVAS_RIGHT=Ta,b.TIMELINE_OFFSET_X=bs,b.TIMELINE_PREFIX=qu,b.TIMELINE_SCALE_CHANGED=la,b.TIMELINE_SCALE_PREFIX=Zu,b.TIMELINE_ZOOM_LEVELS=Wt,b.TRACKS_CHANGED=tm,b.TRACK_ITEMS_CHANGED=nm,b.TRACK_ITEMS_PREFIX=em,b.TRACK_PREFIX=Q0,b.TRANSITIONS=Nd,b.Tabs=zu,b.TabsContent=gs,b.TabsList=Qo,b.TabsTrigger=ps,b.Text=Fa,b.TextObject=Gn,b.Timeline=Ds,b.TimelineComponent=vh,b.Track=Ef,b.TrackItemsMixin=Cf,b.TrackObject=En,b.TracksMixin=Af,b.Transition=Ot,b.TransitionGuide=mi,b.TransitionsMixin=Mf,b.UPLOADS=C2,b.VIDEOS=Ld,b.Video=Tf,b.VideoObject=Yn,b.addEventListeners=ph,b.applyMixins=of,b.buttonVariants=Bl,b.calculateDisplayRange=df,b.calculateDuration=Bt,b.calculatePosition=Cs,b.calculateTimelineWidth=xd,b.calculateTrim=uf,b.cn=ot,b.createAudioControls=Qd,b.createControls=rf,b.createMediaControls=tf,b.createResizeControls=Oa,b.defaultColor=pi,b.defaultSizes=_f,b.eventBus=ve,b.filterAndCleanTracks=ff,b.findIndex=Ia,b.formatBytes=Zg,b.formatTimeToHumanReadable=o2,b.formatTimelineUnit=vd,b.frameToTimeString=yd,b.getCurrentTime=_d,b.getFitZoomLevel=a2,b.getMovingState=Dy,b.getNextZoom=Td,b.getNextZoomIndex=Ed,b.getNextZoomLevel=Id,b.getOffset=ye,b.getPreviousZoom=Sd,b.getPreviousZoomIndex=l2,b.getPreviousZoomLevel=wd,b.getTextHeight=yi,b.getZoomByIndex=c2,b.handleEvents=mh,b.handleResize=hi,b.isScalingFromCenter=La,b.loadAudio=af,b.loadAudioItem=gf,b.loadAudioObject=mf,b.loadFonts=Cd,b.loadImage=cf,b.loadImageItem=hf,b.loadImageObject=vf,b.loadTextItem=ja,b.loadTextObject=bf,b.loadVideo=lf,b.loadVideoItem=pf,b.loadVideoObject=yf,b.mergeSizes=wf,b.mergeTrackObjects=Ea,b.movingState=W,b.positionOffsets=qd,b.randomInt=u2,b.removeEventListeners=gh,b.removeItemsFromTrack=ci,b.renderControl=ln,b.reorderTracksByIndex=xa,b.setupHistoryListeners=Ph,b.timeMsToUnits=Ge,b.timeToString=bd,b.transitionStore=Be,b.unitsToTimeMs=Mt,b.updateMovingState=Ly,b.useCurrentPlayerFrame=ws,b.useIsDraggingOverTimeline=li,b.useLayoutStore=Ss,b.useStore=Qt,b.useTimelineEvents=Dh,b.wrapResizeWithAnchorPosition=Na,Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});
